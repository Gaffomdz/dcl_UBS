[
  {
    "path": "node_modules/@dcl/amd/dist/amd.min.js",
    "content": "\"use strict\";const getGlobalThis=function(){if(typeof globalThis!==\"undefined\")return globalThis;if(typeof self!==\"undefined\")return self;if(typeof window!==\"undefined\")return window;if(typeof this!==\"undefined\")return this;throw new Error(\"Unable to locate global `this`\")};const globalObject=getGlobalThis();var loader;(function(e){\"use strict\";const n=1;const t=2;let o=0;const r=[];const i=[];const s={baseUrl:\"\"};const l={};function f(e){if(typeof e===\"object\"){for(const n in e){if(e.hasOwnProperty(n)){s[n]=e[n]}}}}e.config=f;function c(e,t,r){let i=null;let s={};let f=null;if(typeof e===\"function\"){s=e}else if(typeof e===\"string\"){i=e;if(typeof t===\"function\"){s=t}else if(t instanceof Array){f=t;s=r}}else if(e instanceof Array){f=e;if(typeof t===\"function\"){s=t}}f=f||[\"require\",\"exports\",\"module\"];if(i===null){i=`unnamed-module-${o++}`}i=g(i);function c(e){const n=l[i];if(!n)throw new Error(\"Could not access registered module \"+i);let t=n.exports;t=typeof s===\"function\"?s.apply(globalObject,e)||t:s;n.exports=t;d(i)}f=(f||[]).map((e=>m(i,e)));if(!l[i]){l[i]={name:i,parent:null,dclamd:n,dependencies:f,handlers:[],exports:{},dependants:new Set}}l[i].dependencies=f;p(f,c,(e=>{if(typeof onerror===\"function\"){onerror(e)}else{throw e}}),i)}e.define=c;(function(e){e.amd={};e.modules=l})(c=e.define||(e.define={}));function d(e){const n=l[e];if(!n)throw new Error(\"Could not access registered module \"+e);n.dclamd=t;const o=n.handlers;if(o&&o.length){for(let n=0;n<o.length;n++){o[n](l[e])}}}function u(e,n,t){if(!l[e]){return null}if(e===n||t===50)return[e];const o=l[e].dependencies;for(let r=0,i=o.length;r<i;r++){const i=u(o[r],n,t+1);if(i!==null){i.push(e);return i}}return null}function a(e,n){const t=l[e];if(!t){return false}const o={};for(const e in l){o[e]=false}const r=[];r.push(t);o[e]=true;while(r.length>0){const e=r.shift();const t=e.dependencies;if(t){for(let e=0,i=t.length;e<i;e++){const i=t[e];if(i===n){return true}const s=l[i];if(s&&!o[i]){o[i]=true;r.push(s)}}}}return false}function p(e,t,o,r){const s=new Array(e.length).fill(null);let f=0;let c=false;if(typeof e===\"string\"){if(l[e]){if(l[e].dclamd===n){throw new Error(`Trying to load ${e} from ${r}. The first module is still loading.`)}return l[e]}throw new Error(e+\" has not been defined. Please include it as a dependency in \"+r+\"'s define()\")}const d=e.length;for(let n=0;n<d;n++){switch(e[n]){case\"require\":const h=function(e,n,t){return p(e,n,t,r)};h.toUrl=function(e){return b(e,r)};s[n]=h;f++;break;case\"exports\":if(!l[r]){throw new Error(\"Parent module \"+r+\" not registered yet\")}s[n]=l[r].exports;f++;break;case\"module\":s[n]={id:r,uri:b(r)};f++;break;default:{const p=e[n];const h=a(p,r);const m=()=>{s[n]=l[p].exports;f++;if(f===d&&t){c=true;t(s)}};if(h){const e=u(p,r,0);if(e){e.reverse();e.push(p);i.push(e)}w(p,(()=>{}),o,r);m()}else{w(p,m,o,r)}break}}}if(!c&&f===d&&t){t(s)}}e.require=p;function h(e,n){return function(){return dcl.callRpc(e,n.name,r.slice.call(arguments,0))}}function m(e,n){return e?b(n,e):n}function w(e,t,o,r){if(l[e]){l[e].dependants.add(r);if(l[e].dclamd===n){t&&l[e].handlers.push(t)}else{t&&t(l[e])}return}else{l[e]={name:e,parent:r,dclamd:n,handlers:[t],dependencies:[],dependants:new Set([r]),exports:{}}}if(e.indexOf(\"@\")===0){const n=l[e].exports;if(typeof dcl.loadModule===\"function\"){dcl.loadModule(e,n).then((t=>{for(const e in t.methods){const o=t.methods[e];n[o.name]=h(t.rpcHandle,o)}d(e)})).catch((e=>{o(e)}))}else{throw new Error(\"Asynchronous modules will not work because loadModule function is not present\")}}}if(typeof dcl!==\"undefined\"){dcl.onStart((()=>{const e=new Set;const t=[];for(const o in l){if(l[o]){if(l[o].dclamd===n){t.push(l[o])}l[o].dependencies.forEach((n=>{if(n===\"require\"||n===\"exports\"||n===\"module\")return;if(!l[n])e.add(n)}))}}const o=[];if(i.length){o.push(`\\n> Cyclic dependencies: ${i.map((e=>\"\\n  - \"+e.join(\" -> \"))).join(\"\")}`)}if(e.size){o.push(`\\n> Undeclared/unknown modules: ${Array.from(e).map((e=>\"\\n  - \"+e)).join(\"\")}`)}if(t.length){o.push(`\\n> These modules didn't load: ${t.map((e=>\"\\n  - \"+e.name)).join(\"\")}.\\n`)}if(o.length){throw new Error(o.join(\"\\n\"))}}))}function g(e){let n=e,t;t=/\\/\\.\\//;while(t.test(n)){n=n.replace(t,\"/\")}n=n.replace(/^\\.\\//g,\"\");t=/\\/(([^\\/])|([^\\/][^\\/\\.])|([^\\/\\.][^\\/])|([^\\/][^\\/][^\\/]+))\\/\\.\\.\\//;while(t.test(n)){n=n.replace(t,\"/\")}n=n.replace(/^(([^\\/])|([^\\/][^\\/\\.])|([^\\/\\.][^\\/])|([^\\/][^\\/][^\\/]+))\\/\\.\\.\\//,\"\");n=n.replace(/^\\//g,\"\");return n}function y(e,n){let t=e;if(!t.startsWith(\"@\")){if(t.startsWith(\"./\")||t.startsWith(\"../\")){const e=n.split(\"/\");e.pop();t=g(e.join(\"/\")+\"/\"+t)}}return t}function b(e,n){switch(e){case\"require\":case\"exports\":case\"module\":return e}if(n){return y(e,n)}return g(e)}p.toUrl=b})(loader||(loader={}));globalObject.define=loader.define;globalObject.dclamd=loader;",
    "sha256": "0f7cce896683e444d7f1ea0b214197876131661aebeab8d6ff887f2ebca2030b"
  },
  {
    "path": "node_modules/decentraland-ecs/dist/src/index.min.js",
    "content": "!function(t){\"use strict\";var e=function(){function t(){}return t.AVATAR={getEntityRepresentation:function(t){return t.avatarEntity}},t.FIRST_PERSON_CAMERA={getEntityRepresentation:function(t){return t.firstPersonCameraEntity}},t}(),n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)};\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */function i(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)};function r(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function s(t,e){if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function a(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{d(i.next(t))}catch(t){r(t)}}function a(t){try{d(i.throw(t))}catch(t){r(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}d((i=i.apply(t,e||[])).next())}))}function d(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},\"function\"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}function h(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function l(t,e){var n=\"function\"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function p(t,e){for(var n=0,i=e.length,o=t.length;n<i;n++,o++)t[o]=e[n];return t}var c=0;function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];\"undefined\"!=typeof dcl?dcl.log.apply(dcl,p([],l(t))):console.log.apply(console,p([\"DEBUG:\"],l(t)))}function y(t,e){\"undefined\"!=typeof dcl?dcl.error(t,e):console.error(\"ERROR:\",t,e)}function f(t){if(c++,0===t.length)throw new Error(\"newId(type: string): type cannot be empty\");return t+c.toString(36)}function m(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return(\"x\"===t?e:3&e|8).toString(16)}))}var g=\"__event_name__\",v=[];function _(t){if(!(g in t)||\"string\"!=typeof t.__event_name__)throw new Error(\"The EventConstructor is not registered\");return t.__event_name__}var b=function(){function t(){this.listeners={}}return t.prototype.addListener=function(t,e,n){if(!t||\"function\"!=typeof t)throw new Error(\"Invalid EventConstructor\");var i=_(t),o=this.listeners[i];o||(o=this.listeners[i]=[]);for(var r=0;r<o.length;r++){if(o[r].listener===e)throw new Error(\"The provided listener is already registered\")}return o.push({listener:e,fn:n}),this},t.prototype.removeListener=function(t,e){if(!e||\"function\"!=typeof e)throw new Error(\"Invalid EventConstructor\");var n=_(e),i=this.listeners[n];if(!i)return!1;for(var o=0;o<i.length;o++){if(i[o].listener===t)return i.splice(o,1),!0}return!1},t.prototype.fireEvent=function(t){var e=_(t.constructor),n=this.listeners[e];if(n)for(var i=0;i<n.length;i++)try{var o=n[i];o.fn.call(o.listener,t)}catch(t){y(t)}return this},t}();function x(){var t=f(\"EV\");if(-1!==v.indexOf(t))throw new Error(\"The event name \".concat(t,\" is already taken\"));return v.push(t),function(e){return e.__event_name__=t,e}}var w,T=function(){function t(t,e,n){this.entity=t,this.componentName=e,this.component=n}return t=r([x(),s(\"design:paramtypes\",[Object,String,Object])],t)}(),A=function(){function t(t,e,n){this.entity=t,this.componentName=e,this.classId=n}return t=r([x(),s(\"design:paramtypes\",[Object,String,Object])],t)}(),R=function(){function t(t,e){this.entity=t,this.parent=e}return t=r([x(),s(\"design:paramtypes\",[Object,Object])],t)}();t.UIValueType=void 0,(w=t.UIValueType||(t.UIValueType={}))[w.PERCENT=0]=\"PERCENT\",w[w.PIXELS=1]=\"PIXELS\";var S=function(){function e(e){if(this.type=t.UIValueType.PIXELS,\"string\"==typeof e){var n=e;n.indexOf(\"px\")>-1?this.type=t.UIValueType.PIXELS:n.indexOf(\"%\")>-1&&(this.type=t.UIValueType.PERCENT),this.value=parseFloat(n)}else this.value=e}return e.prototype.toString=function(){var e=this.value.toString();return this.type===t.UIValueType.PERCENT?e+=\"%\":e+=\"px\",e},e}(),C=\"__name__symbol_\",E=\"__classId__symbol_\",I=\"__component__id_\",z=function(){function t(t,e,n){this.componentId=t,this.componentName=e,this.classId=n}return t=r([x(),s(\"design:paramtypes\",[String,String,Number])],t)}(),O=function(){function t(t){this.componentId=t}return t=r([x(),s(\"design:paramtypes\",[String])],t)}(),M=function(){function t(t,e){this.componentId=t,this.component=e}return t=r([x(),s(\"design:paramtypes\",[String,Object])],t)}();function P(t,e){return function(n){if(n.isComponent)throw new TypeError(\"You cannot extend a component. Trying to extend \".concat(n.originalClassName,\" with: \").concat(t));var i=n,o=function(){var n=Array.prototype.slice.call(arguments),o=new(i.bind.apply(i,p([void 0],l(n))));return Object.defineProperty(o,C,{enumerable:!1,writable:!1,configurable:!1,value:t}),void 0!==e&&Object.defineProperty(o,E,{enumerable:!1,writable:!1,configurable:!1,value:e}),o};return void 0!==e&&(o.__classId__symbol_=e),o.__name__symbol_=t,o.isComponent=!0,o.originalClassName=t,(o.prototype=n.prototype).constructor=n,o}}function N(t,e){return function(n){if(n.isComponent)throw new TypeError(\"You cannot extend a component. Trying to extend \".concat(n.originalClassName,\" with: \").concat(t));if(\"number\"!=typeof e||isNaN(e))throw new Error(\"classId: \".concat(e,\" is an invalid integer\"));var i=n,o=function(){if(!N.engine)throw new Error(\"You need to set a DisposableComponent.engine before creating disposable components\");var n=Array.prototype.slice.call(arguments),o=new(i.bind.apply(i,p([void 0],l(n)))),r=f(\"C\");return Object.defineProperty(o,C,{enumerable:!1,writable:!1,configurable:!1,value:t}),Object.defineProperty(o,I,{enumerable:!1,writable:!1,configurable:!1,value:r}),void 0!==e&&Object.defineProperty(o,E,{enumerable:!1,writable:!1,configurable:!1,value:e}),N.engine&&N.engine.registerComponent(o),o};return void 0!==e&&(o.__classId__symbol_=e),o.__name__symbol_=t,o.isComponent=!0,o.isDisposableComponent=!0,o.originalClassName=t,(o.prototype=n.prototype).constructor=n,o}}function F(t){if(!t)throw new TypeError(t+\" is not a component.\");if(t.__name__symbol_)return t.__name__symbol_;throw new TypeError(t+\" is not a registered component.\")}function L(t){if(!t)throw new TypeError(t+\" is not a component.\");if(t.__classId__symbol_)return t.__classId__symbol_;if(!t.__name__symbol_)throw new TypeError(t+\" is not a registered component.\");return null}function D(t){if(!t)throw new TypeError(t+\" is not a component.\");if(t.__component__id_)return t.__component__id_;throw new TypeError(t+\" is not a registered disposable component.\")}!function(t){t.engine=null}(N||(N={}));var B=function(){function t(){this.dirty=!1,this.data={},this.subscriptions=[]}return t.component=function(t,e){if(delete t[e]){var n=e+\"_\"+Math.random();t[n]=void 0,Object.defineProperty(t,n,o(o({},Object.getOwnPropertyDescriptor(t,n)),{enumerable:!1})),Object.defineProperty(t,e.toString(),{get:function(){return this[n]},set:function(t){var i=this[n];if(this.data[e]=t?D(t):null,this[n]=t,t!==i){this.dirty=!0;for(var o=0;o<this.subscriptions.length;o++)this.subscriptions[o](e,t,i)}},enumerable:!0})}},t.field=function(t,e){delete t[e]&&Object.defineProperty(t,e.toString(),{get:function(){return this.data[e]},set:function(t){var n=this.data[e];if(this.data[e]=t,t!==n){this.dirty=!0;for(var i=0;i<this.subscriptions.length;i++)this.subscriptions[i](e,t,n)}},enumerable:!0})},t.uiValue=function(t,e){delete t[e]&&Object.defineProperty(t,e.toString(),{get:function(){return this.data[e].toString()},set:function(t){var n=this.data[e],i=new S(t);if(this.data[e]=i,i!==n){this.dirty=!0;for(var o=0;o<this.subscriptions.length;o++)this.subscriptions[o](e,i,n)}},enumerable:!0})},t.readonly=function(t,e){delete t[e]&&Object.defineProperty(t,e.toString(),{get:function(){if(e in this.data==!1)throw new Error(\"The field \".concat(e,\" is uninitialized\"));return this.data[e]},set:function(t){if(e in this.data)throw new Error(\"The field \".concat(e,\" is readonly\"));this.data[e]=t,this.dirty=!0},enumerable:!0,configurable:!1})},t.prototype.onChange=function(t){return this.subscriptions.push(t),this},t.prototype.toJSON=function(){return this.data},t}();function U(t){return I in t}var V=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.entities=[],this.active=!1,this._requiresNames=[],!t)throw new Error(\"ComponentGroup: Could not load the requires list\");if(!(t instanceof Array))throw new Error(\"ComponentGroup: requires list is not an Array\");Object.defineProperty(this,\"requires\",{get:function(){return t.slice()}}),Object.defineProperty(this,\"requiresNames\",{get:function(){return this._requiresNames.slice()}});for(var n=function(e){var n=t[e],o=null;if(!n)throw new Error(\"ComponentGroup: the required component at location \".concat(e,\" is invalid\"));try{o=F(n)}catch(t){throw new Error(\"ComponentGroup: the required component at location \".concat(e,\" is not registered as a @Component. Remember to provide the class of the component, not the name\"))}if(i._requiresNames.some((function(t){return t===o})))throw new Error(\"ComponentGroup: the required component list has a repeated name \".concat(o));i._requiresNames.push(o)},i=this,o=0;o<t.length;o++)n(o)}return t.prototype.hasEntity=function(t){return!!t.isAddedToEngine()&&-1!==this.entities.indexOf(t)},t.prototype.addEntity=function(t){if(!t.isAddedToEngine())throw new TypeError(\"ComponentGroup: Cannot add a entity that is not added to the engine\");-1===this.entities.indexOf(t)&&this.entities.push(t)},t.prototype.removeEntity=function(t){var e=this.entities.indexOf(t);-1!==e&&this.entities.splice(e,1)},t.prototype.componentRemoved=function(t,e){-1!==this._requiresNames.indexOf(e)&&this.removeEntity(t)},t.prototype.meetsRequirements=function(t){for(var e=0;e<this._requiresNames.length;e++){if(!(this._requiresNames[e]in t.components))return!1}return!0},t}(),H=function(){function t(t){this.name=t,this.children={},this.eventManager=null,this.alive=!1,this.uuid=f(\"E\"),this.components={},this.engine=null,this._parent=null}return t.prototype.addComponentOrReplace=function(t){if(\"function\"==typeof t)throw new Error(\"You passed a function or class as a component, an instance of component is expected\");if(\"object\"!=typeof t)throw new Error(\"You passed a \".concat(typeof t,\", an instance of component is expected\"));var e=F(t);if(this.components[e]){if(this.components[e]===t)return t;this.removeComponent(this.components[e],!1)}return this.addComponent(t)},t.prototype.hasComponent=function(t){var e=typeof t;if(\"string\"!==e&&\"object\"!==e&&\"function\"!==e)throw new Error(\"Entity#has(component): component is not a class, name or instance\");if(null===t)return!1;var n=\"string\"===e?t:F(t),i=this.components[n];return!!i&&(\"object\"===e?i===t:\"function\"!==e||i instanceof t)},t.prototype.getComponent=function(t){var e=typeof t;if(\"string\"!==e&&\"function\"!==e)throw new Error(\"Entity#get(component): component is not a class or name\");var n=\"string\"===e?t:F(t),i=this.components[n];if(!i)throw new Error('Can not get component \"'.concat(n,'\" from entity \"').concat(this.identifier,'\"'));if(\"function\"===e){if(i instanceof t)return i;throw new Error('Can not get component \"'.concat(n,'\" from entity \"').concat(this.identifier,'\" (by instance)'))}return i},t.prototype.getComponentOrNull=function(t){var e=typeof t;if(\"string\"!==e&&\"function\"!==e)throw new Error(\"Entity#getOrNull(component): component is not a class or name\");var n=\"string\"===e?t:F(t),i=this.components[n];return i?\"function\"===e?i instanceof t?i:null:i:null},t.prototype.getComponentOrCreate=function(t){if(\"function\"!=typeof t)throw new Error(\"Entity#getOrCreate(component): component is not a class\");var e=this.getComponentOrNull(t);return e||(F(e=new t),this.addComponentOrReplace(e)),e},t.prototype.addComponent=function(t){if(\"object\"!=typeof t)throw new Error(\"Entity#add(component): You passed a function or class as a component, an instance of component is expected\");var e=F(t),n=L(t);if(this.components[e])throw new Error('A component of type \"'.concat(e,'\" is already present in entity \"').concat(this.identifier,'\"'));this.components[e]=t,this.eventManager&&this.eventManager.fireEvent(new A(this,e,n));var i=t;return\"function\"==typeof i.addedToEntity&&i.addedToEntity(this),t},t.prototype.removeComponent=function(t,e){void 0===e&&(e=!0);var n=typeof t;if(\"string\"!==n&&\"function\"!==n&&\"object\"!==n)throw new Error(\"Entity#remove(component): component is not a class, class or name\");var i=\"string\"===n?t:F(t),o=this.components[i];if(o){if(\"function\"===n)return o instanceof t?(delete this.components[i],void(o&&(e&&this.eventManager&&this.eventManager.fireEvent(new T(this,i,o)),\"function\"==typeof o.removedFromEntity&&o.removedFromEntity(this)))):void u('Entity Warning: Trying to remove wrong (by constructor) component \"'.concat(i,'\" from entity \"').concat(this.identifier,'\"'));delete this.components[i],o&&(e&&this.eventManager&&this.eventManager.fireEvent(new T(this,i,o)),\"function\"==typeof o.removedFromEntity&&o.removedFromEntity(this))}else u('Entity Warning: Trying to remove inexisting component \"'.concat(i,'\" from entity \"').concat(this.identifier,'\"'))},t.prototype.isAddedToEngine=function(){return!(!this.engine||!(this.uuid in this.engine.entities)&&this.engine.rootEntity!==this)},t.prototype.setParent=function(t){var e;if(t&&\"getEntityRepresentation\"in t){if(!this.engine)throw new Error(\"In order to set an attachable as parent, you first need to add the entity to the engine.\");e=t.getEntityRepresentation(this.engine)}else e=!t&&this.engine?this.engine.rootEntity:t;var n=this.getParent();if(e===this)throw new Error('Failed to set parent for entity \"'.concat(this.identifier,\"\\\": An entity can't set itself as a its own parent\"));if(e===n)return this;var i=this.getCircularAncestor(e);if(i)throw new Error('Failed to set parent for entity \"'.concat(this.identifier,'\": Circular parent references are not allowed (See entity \"').concat(i,'\")'));return n&&delete n.children[this.uuid],null!==e&&\"0\"!==e.uuid&&(!e.isAddedToEngine()&&this.isAddedToEngine()&&this.engine.removeEntity(this),e.isAddedToEngine()&&!this.isAddedToEngine()&&e.engine.addEntity(this)),this._parent=e||null,this.registerAsChild(),this.eventManager&&this.engine&&this.eventManager.fireEvent(new R(this,e)),this},t.prototype.getParent=function(){return this._parent},Object.defineProperty(t.prototype,\"identifier\",{get:function(){return this.name||this.uuid},enumerable:!1,configurable:!0}),t.prototype.getCircularAncestor=function(t){for(var e=this.engine?this.engine.rootEntity:null,n=t;n&&n!==e;){var i=n.getParent();if(i===this)return n.uuid;n=i}return null},t.prototype.registerAsChild=function(){var t=this.getParent();this.uuid&&t&&(t.children[this.uuid]=this)},t}(),k=function(){function t(t){this.eventManager=new b,this.systems=[],this.entityLists={},this.addedSystems=[],this._entities={},this._disposableComponents={},this._componentGroups={},this.simpleSystems=[],this.eventManager.addListener(A,this,this.componentAddedHandler),this.eventManager.addListener(T,this,this.componentRemovedHandler),this.rootEntity=t,this.firstPersonCameraEntity=new H,this.firstPersonCameraEntity.uuid=\"FirstPersonCameraEntityReference\",this.addEntity(this.firstPersonCameraEntity),this.avatarEntity=new H,this.avatarEntity.uuid=\"AvatarEntityReference\",this.addEntity(this.avatarEntity)}return Object.defineProperty(t.prototype,\"entities\",{get:function(){return this._entities},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"disposableComponents\",{get:function(){return this._disposableComponents},enumerable:!1,configurable:!0}),t.prototype.addEntity=function(t){var e=t.getParent();if(t.isAddedToEngine())return t;for(var n in t.eventManager=this.eventManager,t.engine=this,this._entities[t.uuid]=t,this.checkRequirementsAndAdd(t),e?e.isAddedToEngine()||e===this.rootEntity||u(\"Engine: warning, added an entity with a parent not present in the engine. Parent id: \"+e.uuid):t.setParent(this.rootEntity),t.alive=!0,t.children){var i=t.children[n];i&&(i.isAddedToEngine()||this.addEntity(i))}return t},t.prototype.removeEntity=function(t){var e=t.uuid;if(t.isAddedToEngine()){for(var n in t.components){var i=this._componentGroups[n];if(i)for(var o in i)i[o].removeEntity(t);delete this.entityLists[n][e]}for(var r=0;r<this.simpleSystems.length;r++){var s=this.simpleSystems[r];s.onRemoveEntity&&s.onRemoveEntity(t)}for(var r in t.children){var a=t.children[r];a&&this.removeEntity(a)}return t.alive=!1,t.eventManager=null,delete this._entities[e],!0}for(var n in u(\"Engine: Trying to remove non existent entity from engine.\"),t.isAddedToEngine()?u(\"Engine: Entity id: \"+e):u('Engine: Entity \"'.concat(t.uuid,'\" has not been added to any engine yet.')),u(\"Engine: Entity's components:\"),t.components)u(n);return!1},t.prototype.addSystem=function(t,e){if(void 0===e&&(e=0),-1!==this.addedSystems.indexOf(t))return u(\"Engine: Trying to add a system that is already added. Aborting\"),t;if(this.systems.length>0)for(var n=0;n<this.systems.length;n++){var i=this.systems[n],o=n===this.systems.length-1;if(i.priority>e){this.addedSystems.push(t),this.systems.splice(n,0,{system:t,priority:e});break}if(o){this.addedSystems.push(t),this.systems.splice(n+1,0,{system:t,priority:e});break}}else this.addedSystems.push(t),this.systems.splice(1,0,{system:t,priority:e});return this.registerSystem(t),t},t.prototype.removeSystem=function(t){var e=this.addedSystems.indexOf(t);if(-1!==e){t.active=!1,t.deactivate&&t.deactivate(),this.addedSystems.splice(e,1);for(var n=0;n<this.systems.length;n++){this.systems[n].system===t&&this.systems.splice(n,1)}return!0}return!1},t.prototype.update=function(t){for(var e in this.systems){var n=this.systems[e].system;if(n.active&&n.update)try{n.update(t)}catch(t){y(t)}}return this},t.prototype.getEntitiesWithComponent=function(t){var e=\"string\"==typeof t?t:F(t);return e in this.entityLists?this.entityLists[e]:this.entityLists[e]={}},t.prototype.registerComponent=function(t){var e=D(t),n=F(t),i=L(t);this._disposableComponents[e]=t,null!==i&&(this.eventManager.fireEvent(new z(e,n,i)),this.eventManager.fireEvent(new M(e,t)))},t.prototype.disposeComponent=function(t){var e=D(t);return delete this._disposableComponents[e]&&(this.eventManager.fireEvent(new O(e)),t.onDispose&&t.onDispose(),!0)},t.prototype.updateComponent=function(t){this.eventManager.fireEvent(new M(D(t),t))},t.prototype.getComponentGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0;if(t.length>0&&(d=this._componentGroups[F(t[0])]))for(var i=t.slice(),o=0;o<d.length;o++){var r=d[o];if(i.length===r.requires.length){for(var s=0;s<i.length&&-1!==r.requires.indexOf(i[s]);s++)s===i.length-1&&(n=r);if(n)break}}if(n)return n;(n=new(V.bind.apply(V,p([void 0],l(t))))).active=!0;var a=n.requiresNames;for(o=0;o<a.length;o++){var d,h=a[o];(d=this._componentGroups[h])||(this._componentGroups[h]=d=[]),-1===d.indexOf(n)&&d.push(n)}for(var c in this._entities)this.checkRequirements(this._entities[c],n);return n},t.prototype.removeComponentGroup=function(t){if(t.active){t.active=!1;for(var e=t.requiresNames,n=0;n<e.length;n++){var i=e[n],o=this._componentGroups[i];if(o){var r=o.indexOf(t);-1!==r&&o.splice(r,1)}}return!0}return!1},t.prototype.registerSystem=function(t){t.active=!0,t.activate&&t.activate(this),this.simpleSystems.push(t)},t.prototype.checkRequirementsAndAdd=function(t){if(t.isAddedToEngine()){for(var e in t.components){e in this.entityLists||(this.entityLists[e]={}),this.entityLists[e][t.uuid]=t;var n=this._componentGroups[e];if(n)for(var i in n)this.checkRequirements(t,n[i])}for(var o=0;o<this.simpleSystems.length;o++){var r=this.simpleSystems[o];r.onAddEntity&&r.onAddEntity(t)}}},t.prototype.checkRequirements=function(t,e){e.meetsRequirements(t)?e.hasEntity(t)||e.addEntity(t):e.hasEntity(t)&&e.removeEntity(t)},t.prototype.componentAddedHandler=function(t){var e,n=t.entity,i=t.componentName;if(n.isAddedToEngine()){this.entityLists[i]?this.entityLists[i][n.uuid]=n:this.entityLists[i]=((e={})[n.uuid]=n,e);var o=this._componentGroups[i];if(o)for(var r in o)this.checkRequirements(n,o[r])}},t.prototype.componentRemovedHandler=function(t){var e=t.entity,n=t.componentName;if(e.isAddedToEngine()){delete this.entityLists[n][e.uuid];var i=this._componentGroups[n];if(i)for(var o in i)this.checkRequirements(e,i[o])}},t}(),j=Promise.resolve().then.bind(Promise.resolve());function G(t){var e=j(t);return e.isComplete=!1,e.then((function(t){e.isComplete=!0,e.result=t,e.didFail=!1})).catch((function(t){e.isComplete=!0,e.error=t,e.didFail=!0,y(\"executeTask: FAILED \"+t.toString(),t)})),e}var q,W=function(){function t(t,e,n,i){void 0===e&&(e=!1),this.initalize(t,e,n,i)}return t.prototype.initalize=function(t,e,n,i){return void 0===e&&(e=!1),this.mask=t,this.skipNextObservers=e,this.target=n,this.currentTarget=i,this},t}(),Y=function(t,e,n){void 0===n&&(n=null),this.callback=t,this.mask=e,this.scope=n,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1},X=function(){function t(){this._observers=null,this._observables=null}return t.Watch=function(e,n,i,o){var r,s;void 0===i&&(i=-1),void 0===o&&(o=null);var a=new t;a._observers=new Array,a._observables=e;try{for(var d=h(e),l=d.next();!l.done;l=d.next()){var p=l.value.add(n,i,!1,o);p&&a._observers.push(p)}}catch(t){r={error:t}}finally{try{l&&!l.done&&(s=d.return)&&s.call(d)}finally{if(r)throw r.error}}return a},t.prototype.dispose=function(){if(this._observers&&this._observables)for(var t=0;t<this._observers.length;t++)this._observables[t].remove(this._observers[t]);this._observers=null,this._observables=null},t}(),Q=function(){function t(t){this._observers=new Array,this._onObserverAdded=null,this._eventState=new W(0),t&&(this._onObserverAdded=t)}return t.prototype.add=function(t,e,n,i,o){if(void 0===e&&(e=-1),void 0===n&&(n=!1),void 0===i&&(i=null),void 0===o&&(o=!1),!t)return null;var r=new Y(t,e,i);return r.unregisterOnNextCall=o,n?this._observers.unshift(r):this._observers.push(r),this._onObserverAdded&&this._onObserverAdded(r),r},t.prototype.addOnce=function(t){return this.add(t,void 0,void 0,void 0,!0)},t.prototype.remove=function(t){return!!t&&(-1!==this._observers.indexOf(t)&&(this._deferUnregister(t),!0))},t.prototype.removeCallback=function(t,e){for(var n=0;n<this._observers.length;n++)if(this._observers[n].callback===t&&(!e||e===this._observers[n].scope))return this._deferUnregister(this._observers[n]),!0;return!1},t.prototype.notifyObservers=function(t,e,n,i){var o,r;if(void 0===e&&(e=-1),!this._observers.length)return!0;var s=this._eventState;s.mask=e,s.target=n,s.currentTarget=i,s.skipNextObservers=!1,s.lastReturnValue=t;try{for(var a=h(this._observers),d=a.next();!d.done;d=a.next()){var l=d.value;if(!l._willBeUnregistered&&(l.mask&e&&(l.scope?s.lastReturnValue=l.callback.apply(l.scope,[t,s]):s.lastReturnValue=l.callback(t,s),l.unregisterOnNextCall&&this._deferUnregister(l)),s.skipNextObservers))return!1}}catch(t){o={error:t}}finally{try{d&&!d.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return!0},t.prototype.notifyObserversWithPromise=function(t,e,n,i){var o=this;void 0===e&&(e=-1);var r=Promise.resolve(t);if(!this._observers.length)return r;var s=this._eventState;return s.mask=e,s.target=n,s.currentTarget=i,s.skipNextObservers=!1,this._observers.forEach((function(n){s.skipNextObservers||n._willBeUnregistered||n.mask&e&&(r=n.scope?r.then((function(e){return s.lastReturnValue=e,n.callback.apply(n.scope,[t,s])})):r.then((function(e){return s.lastReturnValue=e,n.callback(t,s)})),n.unregisterOnNextCall&&o._deferUnregister(n))})),r.then((function(){return t}))},t.prototype.notifyObserver=function(t,e,n){void 0===n&&(n=-1);var i=this._eventState;i.mask=n,i.skipNextObservers=!1,t.callback(e,i)},t.prototype.hasObservers=function(){return this._observers.length>0},t.prototype.clear=function(){this._observers=new Array,this._onObserverAdded=null},t.prototype.clone=function(){var e=new t;return e._observers=this._observers.slice(0),e},t.prototype.hasSpecificMask=function(t){var e,n;void 0===t&&(t=-1);try{for(var i=h(this._observers),o=i.next();!o.done;o=i.next()){var r=o.value;if(r.mask&t||r.mask===t)return!0}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!1},t.prototype._deferUnregister=function(t){var e=this;t.unregisterOnNextCall=!1,t._willBeUnregistered=!0,G((function(){return a(e,void 0,void 0,(function(){return d(this,(function(e){return[2,this._remove(t)]}))}))}))},t.prototype._remove=function(t){if(!t)return!1;var e=this._observers.indexOf(t);return-1!==e&&(this._observers.splice(e,1),!0)},t}();var Z,J=function(){function t(t,e){this.uuid=t,this.payload=e}return t=r([x(),s(\"design:paramtypes\",[String,Object])],t)}(),K=function(){function t(t){this.payload=t}return t=r([x(),s(\"design:paramtypes\",[Object])],t)}(),$=function(){function t(t){this.payload=t}return t=r([x(),s(\"design:paramtypes\",[Object])],t)}();function tt(t){return function(){Z&&Z.subscribe(t)}}var et=new Q(tt(\"cameraModeChanged\")),nt=new Q(tt(\"idleStateChanged\")),it=new Q(tt(\"onEnterScene\")),ot=it,rt=new Q(tt(\"onLeaveScene\")),st=rt,at=new Q(tt(\"sceneStart\")),dt=new Q(tt(\"playerExpression\")),ht=new Q(tt(\"onPointerLock\")),lt=new Q(tt(\"videoEvent\")),pt=new Q(tt(\"profileChanged\")),ct=new Q(tt(\"playerConnected\")),ut=new Q(tt(\"playerDisconnected\")),yt=new Q(tt(\"onRealmChanged\")),ft=new Q(tt(\"playerClicked\"));function mt(t){(Z=t)&&Z.onEvent((function(t){switch(t.type){case\"onEnterScene\":return void it.notifyObservers(t.data);case\"onLeaveScene\":return void rt.notifyObservers(t.data);case\"cameraModeChanged\":return void et.notifyObservers(t.data);case\"idleStateChanged\":return void nt.notifyObservers(t.data);case\"sceneStart\":return void at.notifyObservers(t.data);case\"playerExpression\":return void dt.notifyObservers(t.data);case\"videoEvent\":var e=t.data,n=N.engine.disposableComponents[e.componentId];return n&&n.update(e),void lt.notifyObservers(e);case\"profileChanged\":return void pt.notifyObservers(t.data);case\"onPointerLock\":return void ht.notifyObservers(t.data);case\"playerConnected\":return void ct.notifyObservers(t.data);case\"playerDisconnected\":return void ut.notifyObservers(t.data);case\"onRealmChanged\":return void yt.notifyObservers(t.data);case\"playerClicked\":return void ft.notifyObservers(t.data)}}))}var gt=function(){function t(t){this.dcl=t,this.cachedComponents={}}return t.prototype.activate=function(t){var e=this;this.engine=t,t.eventManager.addListener(A,this,this.componentAdded),t.eventManager.addListener(T,this,this.componentRemoved),t.eventManager.addListener(z,this,this.disposableComponentCreated),t.eventManager.addListener(O,this,this.disposableComponentRemoved),t.eventManager.addListener(M,this,this.disposableComponentUpdated),t.eventManager.addListener(R,this,this.parentChanged);var n=t.rootEntity.uuid;this.dcl.addEntity(n),this.dcl.onUpdate((function(n){t.update(n),e.presentEntities()})),this.dcl.onEvent((function(e){var n=e.data;switch(e.type){case\"uuidEvent\":t.eventManager.fireEvent(new J(n.uuid,n.payload));break;case\"raycastResponse\":(\"HitFirst\"===n.queryType||\"HitAll\"===n.queryType)&&t.eventManager.fireEvent(new K(n));break;case\"actionButtonEvent\":t.eventManager.fireEvent(new $(n.payload))}}))},t.prototype.onAddEntity=function(t){if(t&&t.isAddedToEngine()){var e=t.uuid,n=t.getParent();for(var i in this.dcl.addEntity(e),n&&this.dcl.setParent(e,n.uuid),this.cachedComponents[e]={},t.components){var o=t.components[i],r=L(o);if(null!==r)if(U(o))this.dcl.attachEntityComponent(t.uuid,i,D(o));else{var s=JSON.stringify(o);this.dcl.updateEntityComponent(e,i,r,s),this.cachedComponents[e][i]=s}}}},t.prototype.onRemoveEntity=function(t){if(t.isAddedToEngine()){var e=t.uuid;this.dcl.removeEntity(e),delete this.cachedComponents[e]}},t.prototype.presentEntities=function(){for(var t in this.engine.entities){var e=this.engine.entities[t];for(var n in e.components){var i=L(s=e.components[n]);if(null!==i&&!U(s)){var o=this.getJsonIfDirty(e.uuid,n,s);o&&(this.dcl.updateEntityComponent(e.uuid,n,i,o),this.clearDirty(e.uuid,n,s,o))}}}for(var r in this.engine.disposableComponents){var s;(s=this.engine.disposableComponents[r])instanceof B&&s.dirty&&(this.dcl.componentUpdated(r,JSON.stringify(s)),s.dirty=!1)}},t.prototype.componentAdded=function(t){if(t.entity.isAddedToEngine()){var e=t.entity.components[t.componentName];if(U(e))this.dcl.attachEntityComponent(t.entity.uuid,t.componentName,D(e));else if(null!==t.classId){var n=JSON.stringify(e);this.dcl.updateEntityComponent(t.entity.uuid,t.componentName,t.classId,n),this.cachedComponents[t.entity.uuid][t.componentName]=n}}},t.prototype.componentRemoved=function(t){t.entity.isAddedToEngine()&&(this.dcl.removeEntityComponent(t.entity.uuid,t.componentName),delete this.cachedComponents[t.entity.uuid][t.componentName])},t.prototype.disposableComponentCreated=function(t){this.dcl.componentCreated(t.componentId,t.componentName,t.classId)},t.prototype.disposableComponentRemoved=function(t){this.dcl.componentDisposed(t.componentId)},t.prototype.disposableComponentUpdated=function(t){this.dcl.componentUpdated(t.componentId,JSON.stringify(t.component))},t.prototype.parentChanged=function(t){this.dcl.setParent(t.entity.uuid,t.parent?t.parent.uuid:\"0\")},t.prototype.getJsonIfDirty=function(t,e,n){var i=JSON.stringify(n);return i!==this.cachedComponents[t][e]&&i},t.prototype.clearDirty=function(t,e,n,i){this.cachedComponents[t][e]=i},t}(),vt=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{},_t={},bt={};!function(t){var e,n;Object.defineProperty(t,\"__esModule\",{value:!0}),t.RAD2DEG=t.DEG2RAD=t.Epsilon=t.ToLinearSpace=t.ToGammaSpace=t.Space=t.Orientation=void 0,(e=t.Orientation||(t.Orientation={}))[e.CW=0]=\"CW\",e[e.CCW=1]=\"CCW\",(n=t.Space||(t.Space={}))[n.LOCAL=0]=\"LOCAL\",n[n.WORLD=1]=\"WORLD\",n[n.BONE=2]=\"BONE\",t.ToGammaSpace=1/2.2,t.ToLinearSpace=2.2,t.Epsilon=1e-6,t.DEG2RAD=Math.PI/180,t.RAD2DEG=360/(2*Math.PI)}(bt);var xt={},wt={};Object.defineProperty(wt,\"__esModule\",{value:!0}),wt.buildArray=void 0,wt.buildArray=function(t,e){const n=[];for(let i=0;i<t;++i)n.push(e());return n};var Tt={},At={},Rt={},St={},Ct={};Object.defineProperty(Ct,\"__esModule\",{value:!0}),Ct.Scalar=void 0;class Et{static WithinEpsilon(t,e,n=1401298e-51){const i=t-e;return-n<=i&&i<=n}static ToHex(t){const e=t.toString(16);return t<=15?(\"0\"+e).toUpperCase():e.toUpperCase()}static Sign(t){const e=+t;return 0===e||isNaN(e)?e:e>0?1:-1}static Clamp(t,e=0,n=1){return Math.min(n,Math.max(e,t))}static Log2(t){return Math.log(t)*Math.LOG2E}static Repeat(t,e){return t-Math.floor(t/e)*e}static Normalize(t,e,n){return(t-e)/(n-e)}static Denormalize(t,e,n){return t*(n-e)+e}static DeltaAngle(t,e){let n=Et.Repeat(e-t,360);return n>180&&(n-=360),n}static PingPong(t,e){const n=Et.Repeat(t,2*e);return e-Math.abs(n-e)}static SmoothStep(t,e,n){let i=Et.Clamp(n);return i=-2*i*i*i+3*i*i,e*i+t*(1-i)}static MoveTowards(t,e,n){let i=0;return i=Math.abs(e-t)<=n?e:t+Et.Sign(e-t)*n,i}static MoveTowardsAngle(t,e,n){const i=Et.DeltaAngle(t,e);let o=0;return o=-n<i&&i<n?e:Et.MoveTowards(t,t+i,n),o}static Lerp(t,e,n){return t+(e-t)*n}static LerpAngle(t,e,n){let i=Et.Repeat(e-t,360);return i>180&&(i-=360),t+i*Et.Clamp(n)}static InverseLerp(t,e,n){let i=0;return i=t!==e?Et.Clamp((n-t)/(e-t)):0,i}static Hermite(t,e,n,i,o){const r=o*o,s=o*r;return t*(2*s-3*r+1)+n*(-2*s+3*r)+e*(s-2*r+o)+i*(s-r)}static RandomRange(t,e){return t===e?t:Math.random()*(e-t)+t}static RangeToPercent(t,e,n){return(t-e)/(n-e)}static PercentToRange(t,e,n){return(n-e)*t+e}static NormalizeRadians(t){return t-Et.TwoPi*Math.floor((t+Math.PI)/Et.TwoPi)}}Ct.Scalar=Et,Et.TwoPi=2*Math.PI,Object.defineProperty(St,\"__esModule\",{value:!0}),St.Vector4=void 0;const It=bt,zt=Ct,Ot=Tt;class Mt{constructor(t,e,n,i){this.x=t,this.y=e,this.z=n,this.w=i}static Add(t,e){return new Mt(t.x,t.y,t.z,t.w).addInPlace(e)}static FromArray(t,e=0){return new Mt(t[e],t[e+1],t[e+2],t[e+3])}static FromArrayToRef(t,e,n){n.x=t[e],n.y=t[e+1],n.z=t[e+2],n.w=t[e+3]}static FromFloatArrayToRef(t,e,n){Mt.FromArrayToRef(t,e,n)}static FromFloatsToRef(t,e,n,i,o){o.x=t,o.y=e,o.z=n,o.w=i}static Zero(){return new Mt(0,0,0,0)}static One(){return new Mt(1,1,1,1)}static Normalize(t){const e=Mt.Zero();return Mt.NormalizeToRef(t,e),e}static NormalizeToRef(t,e){e.copyFrom(t),e.normalize()}static Minimize(t,e){const n=new Mt(t.x,t.y,t.z,t.w);return n.minimizeInPlace(e),n}static Maximize(t,e){const n=new Mt(t.x,t.y,t.z,t.w);return n.maximizeInPlace(e),n}static Distance(t,e){return Math.sqrt(Mt.DistanceSquared(t,e))}static DistanceSquared(t,e){const n=t.x-e.x,i=t.y-e.y,o=t.z-e.z,r=t.w-e.w;return n*n+i*i+o*o+r*r}static Center(t,e){const n=Mt.Add(t,e);return n.scaleInPlace(.5),n}static TransformNormal(t,e){const n=Mt.Zero();return Mt.TransformNormalToRef(t,e,n),n}static TransformNormalToRef(t,e,n){const i=e.m,o=t.x*i[0]+t.y*i[4]+t.z*i[8],r=t.x*i[1]+t.y*i[5]+t.z*i[9],s=t.x*i[2]+t.y*i[6]+t.z*i[10];n.x=o,n.y=r,n.z=s,n.w=t.w}static TransformNormalFromFloatsToRef(t,e,n,i,o,r){const s=o.m;r.x=t*s[0]+e*s[4]+n*s[8],r.y=t*s[1]+e*s[5]+n*s[9],r.z=t*s[2]+e*s[6]+n*s[10],r.w=i}toString(){return\"{X: \"+this.x+\" Y:\"+this.y+\" Z:\"+this.z+\" W:\"+this.w+\"}\"}getClassName(){return\"Vector4\"}getHashCode(){let t=this.x||0;return t=397*t^(this.y||0),t=397*t^(this.z||0),t=397*t^(this.w||0),t}asArray(){const t=new Array;return this.toArray(t,0),t}toArray(t,e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,this}addInPlace(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}add(t){return new Mt(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}addToRef(t,e){return e.x=this.x+t.x,e.y=this.y+t.y,e.z=this.z+t.z,e.w=this.w+t.w,this}subtractInPlace(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subtract(t){return new Mt(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}subtractToRef(t,e){return e.x=this.x-t.x,e.y=this.y-t.y,e.z=this.z-t.z,e.w=this.w-t.w,this}subtractFromFloats(t,e,n,i){return new Mt(this.x-t,this.y-e,this.z-n,this.w-i)}subtractFromFloatsToRef(t,e,n,i,o){return o.x=this.x-t,o.y=this.y-e,o.z=this.z-n,o.w=this.w-i,this}negate(){return new Mt(-this.x,-this.y,-this.z,-this.w)}scaleInPlace(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}scale(t){return new Mt(this.x*t,this.y*t,this.z*t,this.w*t)}scaleToRef(t,e){return e.x=this.x*t,e.y=this.y*t,e.z=this.z*t,e.w=this.w*t,this}scaleAndAddToRef(t,e){return e.x+=this.x*t,e.y+=this.y*t,e.z+=this.z*t,e.w+=this.w*t,this}equals(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w}equalsWithEpsilon(t,e=It.Epsilon){return t&&zt.Scalar.WithinEpsilon(this.x,t.x,e)&&zt.Scalar.WithinEpsilon(this.y,t.y,e)&&zt.Scalar.WithinEpsilon(this.z,t.z,e)&&zt.Scalar.WithinEpsilon(this.w,t.w,e)}equalsToFloats(t,e,n,i){return this.x===t&&this.y===e&&this.z===n&&this.w===i}multiplyInPlace(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiply(t){return new Mt(this.x*t.x,this.y*t.y,this.z*t.z,this.w*t.w)}multiplyToRef(t,e){return e.x=this.x*t.x,e.y=this.y*t.y,e.z=this.z*t.z,e.w=this.w*t.w,this}multiplyByFloats(t,e,n,i){return new Mt(this.x*t,this.y*e,this.z*n,this.w*i)}divide(t){return new Mt(this.x/t.x,this.y/t.y,this.z/t.z,this.w/t.w)}divideToRef(t,e){return e.x=this.x/t.x,e.y=this.y/t.y,e.z=this.z/t.z,e.w=this.w/t.w,this}divideInPlace(t){return this.divideToRef(t,this)}minimizeInPlace(t){return t.x<this.x&&(this.x=t.x),t.y<this.y&&(this.y=t.y),t.z<this.z&&(this.z=t.z),t.w<this.w&&(this.w=t.w),this}maximizeInPlace(t){return t.x>this.x&&(this.x=t.x),t.y>this.y&&(this.y=t.y),t.z>this.z&&(this.z=t.z),t.w>this.w&&(this.w=t.w),this}floor(){return new Mt(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z),Math.floor(this.w))}fract(){return new Mt(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z),this.w-Math.floor(this.w))}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}normalize(){const t=this.length();return 0===t?this:this.scaleInPlace(1/t)}toVector3(){return new Ot.Vector3(this.x,this.y,this.z)}clone(){return new Mt(this.x,this.y,this.z,this.w)}copyFrom(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this}copyFromFloats(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}set(t,e,n,i){return this.copyFromFloats(t,e,n,i)}setAll(t){return this.x=this.y=this.z=this.w=t,this}}St.Vector4=Mt,Object.defineProperty(Rt,\"__esModule\",{value:!0}),Rt.Matrix=void 0;const Pt=Tt,Nt=At,Ft=xt,Lt=St;class Dt{constructor(){this._isIdentity=!1,this._isIdentityDirty=!0,this._isIdentity3x2=!0,this._isIdentity3x2Dirty=!0,this._m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._updateIdentityStatus(!1)}get m(){return this._m}static get IdentityReadOnly(){return Dt._identityReadOnly}static FromArray(t,e=0){const n=new Dt;return Dt.FromArrayToRef(t,e,n),n}static FromArrayToRef(t,e,n){for(let i=0;i<16;i++)n._m[i]=t[i+e];n._markAsUpdated()}static FromFloatArrayToRefScaled(t,e,n,i){for(let o=0;o<16;o++)i._m[o]=t[o+e]*n;i._markAsUpdated()}static FromValuesToRef(t,e,n,i,o,r,s,a,d,h,l,p,c,u,y,f,m){const g=m._m;g[0]=t,g[1]=e,g[2]=n,g[3]=i,g[4]=o,g[5]=r,g[6]=s,g[7]=a,g[8]=d,g[9]=h,g[10]=l,g[11]=p,g[12]=c,g[13]=u,g[14]=y,g[15]=f,m._markAsUpdated()}static FromValues(t,e,n,i,o,r,s,a,d,h,l,p,c,u,y,f){const m=new Dt,g=m._m;return g[0]=t,g[1]=e,g[2]=n,g[3]=i,g[4]=o,g[5]=r,g[6]=s,g[7]=a,g[8]=d,g[9]=h,g[10]=l,g[11]=p,g[12]=c,g[13]=u,g[14]=y,g[15]=f,m._markAsUpdated(),m}static Compose(t,e,n){const i=new Dt;return Dt.ComposeToRef(t,e,n,i),i}static ComposeToRef(t,e,n,i){Dt.ScalingToRef(t.x,t.y,t.z,Ft.MathTmp.Matrix[1]),e.toRotationMatrix(Ft.MathTmp.Matrix[0]),Ft.MathTmp.Matrix[1].multiplyToRef(Ft.MathTmp.Matrix[0],i),i.setTranslation(n)}static Identity(){const t=Dt.FromValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return t._updateIdentityStatus(!0),t}static IdentityToRef(t){Dt.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,t),t._updateIdentityStatus(!0)}static Zero(){const t=Dt.FromValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return t._updateIdentityStatus(!1),t}static RotationX(t){const e=new Dt;return Dt.RotationXToRef(t,e),e}static Invert(t){const e=new Dt;return t.invertToRef(e),e}static RotationXToRef(t,e){const n=Math.sin(t),i=Math.cos(t);Dt.FromValuesToRef(1,0,0,0,0,i,n,0,0,-n,i,0,0,0,0,1,e),e._updateIdentityStatus(1===i&&0===n)}static RotationY(t){const e=new Dt;return Dt.RotationYToRef(t,e),e}static RotationYToRef(t,e){const n=Math.sin(t),i=Math.cos(t);Dt.FromValuesToRef(i,0,-n,0,0,1,0,0,n,0,i,0,0,0,0,1,e),e._updateIdentityStatus(1===i&&0===n)}static RotationZ(t){const e=new Dt;return Dt.RotationZToRef(t,e),e}static RotationZToRef(t,e){const n=Math.sin(t),i=Math.cos(t);Dt.FromValuesToRef(i,n,0,0,-n,i,0,0,0,0,1,0,0,0,0,1,e),e._updateIdentityStatus(1===i&&0===n)}static RotationAxis(t,e){const n=new Dt;return Dt.RotationAxisToRef(t,e,n),n}static RotationAxisToRef(t,e,n){const i=Math.sin(-e),o=Math.cos(-e),r=1-o;t.normalize();const s=n._m;s[0]=t.x*t.x*r+o,s[1]=t.x*t.y*r-t.z*i,s[2]=t.x*t.z*r+t.y*i,s[3]=0,s[4]=t.y*t.x*r+t.z*i,s[5]=t.y*t.y*r+o,s[6]=t.y*t.z*r-t.x*i,s[7]=0,s[8]=t.z*t.x*r-t.y*i,s[9]=t.z*t.y*r+t.x*i,s[10]=t.z*t.z*r+o,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,n._markAsUpdated()}static RotationYawPitchRoll(t,e,n){const i=new Dt;return Dt.RotationYawPitchRollToRef(t,e,n,i),i}static RotationYawPitchRollToRef(t,e,n,i){Nt.Quaternion.RotationYawPitchRollToRef(t,e,n,Ft.MathTmp.Quaternion[0]),Ft.MathTmp.Quaternion[0].toRotationMatrix(i)}static Scaling(t,e,n){const i=new Dt;return Dt.ScalingToRef(t,e,n,i),i}static ScalingToRef(t,e,n,i){Dt.FromValuesToRef(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1,i),i._updateIdentityStatus(1===t&&1===e&&1===n)}static Translation(t,e,n){const i=new Dt;return Dt.TranslationToRef(t,e,n,i),i}static TranslationToRef(t,e,n,i){Dt.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,t,e,n,1,i),i._updateIdentityStatus(0===t&&0===e&&0===n)}static Lerp(t,e,n){const i=new Dt;return Dt.LerpToRef(t,e,n,i),i}static LerpToRef(t,e,n,i){for(let o=0;o<16;o++)i._m[o]=t._m[o]*(1-n)+e._m[o]*n;i._markAsUpdated()}static DecomposeLerp(t,e,n){const i=new Dt;return Dt.DecomposeLerpToRef(t,e,n,i),i}static DecomposeLerpToRef(t,e,n,i){const o=Ft.MathTmp.Vector3[0],r=Ft.MathTmp.Quaternion[0],s=Ft.MathTmp.Vector3[1];t.decompose(o,r,s);const a=Ft.MathTmp.Vector3[2],d=Ft.MathTmp.Quaternion[1],h=Ft.MathTmp.Vector3[3];e.decompose(a,d,h);const l=Ft.MathTmp.Vector3[4];Pt.Vector3.LerpToRef(o,a,n,l);const p=Ft.MathTmp.Quaternion[2];Nt.Quaternion.SlerpToRef(r,d,n,p);const c=Ft.MathTmp.Vector3[5];Pt.Vector3.LerpToRef(s,h,n,c),Dt.ComposeToRef(l,p,c,i)}static LookAtLH(t,e,n){const i=new Dt;return Dt.LookAtLHToRef(t,e,n,i),i}static LookAtLHToRef(t,e,n,i){const o=Ft.MathTmp.Vector3[0],r=Ft.MathTmp.Vector3[1],s=Ft.MathTmp.Vector3[2];e.subtractToRef(t,s),s.normalize(),Pt.Vector3.CrossToRef(n,s,o);const a=o.lengthSquared();0===a?o.x=1:o.normalizeFromLength(Math.sqrt(a)),Pt.Vector3.CrossToRef(s,o,r),r.normalize();const d=-Pt.Vector3.Dot(o,t),h=-Pt.Vector3.Dot(r,t),l=-Pt.Vector3.Dot(s,t);Dt.FromValuesToRef(o.x,r.x,s.x,0,o.y,r.y,s.y,0,o.z,r.z,s.z,0,d,h,l,1,i)}static LookAtRH(t,e,n){const i=new Dt;return Dt.LookAtRHToRef(t,e,n,i),i}static LookAtRHToRef(t,e,n,i){const o=Ft.MathTmp.Vector3[0],r=Ft.MathTmp.Vector3[1],s=Ft.MathTmp.Vector3[2];t.subtractToRef(e,s),s.normalize(),Pt.Vector3.CrossToRef(n,s,o);const a=o.lengthSquared();0===a?o.x=1:o.normalizeFromLength(Math.sqrt(a)),Pt.Vector3.CrossToRef(s,o,r),r.normalize();const d=-Pt.Vector3.Dot(o,t),h=-Pt.Vector3.Dot(r,t),l=-Pt.Vector3.Dot(s,t);Dt.FromValuesToRef(o.x,r.x,s.x,0,o.y,r.y,s.y,0,o.z,r.z,s.z,0,d,h,l,1,i)}static OrthoLH(t,e,n,i){const o=new Dt;return Dt.OrthoLHToRef(t,e,n,i,o),o}static OrthoLHToRef(t,e,n,i,o){const r=2/t,s=2/e,a=2/(i-n),d=-(i+n)/(i-n);Dt.FromValuesToRef(r,0,0,0,0,s,0,0,0,0,a,0,0,0,d,1,o),o._updateIdentityStatus(1===r&&1===s&&1===a&&0===d)}static OrthoOffCenterLH(t,e,n,i,o,r){const s=new Dt;return Dt.OrthoOffCenterLHToRef(t,e,n,i,o,r,s),s}static OrthoOffCenterLHToRef(t,e,n,i,o,r,s){const a=2/(e-t),d=2/(i-n),h=2/(r-o),l=-(r+o)/(r-o),p=(t+e)/(t-e),c=(i+n)/(n-i);Dt.FromValuesToRef(a,0,0,0,0,d,0,0,0,0,h,0,p,c,l,1,s),s._markAsUpdated()}static OrthoOffCenterRH(t,e,n,i,o,r){const s=new Dt;return Dt.OrthoOffCenterRHToRef(t,e,n,i,o,r,s),s}static OrthoOffCenterRHToRef(t,e,n,i,o,r,s){Dt.OrthoOffCenterLHToRef(t,e,n,i,o,r,s),s._m[10]*=-1}static PerspectiveLH(t,e,n,i){const o=new Dt,r=2*n/t,s=2*n/e,a=(i+n)/(i-n),d=-2*i*n/(i-n);return Dt.FromValuesToRef(r,0,0,0,0,s,0,0,0,0,a,1,0,0,d,0,o),o._updateIdentityStatus(!1),o}static PerspectiveFovLH(t,e,n,i){const o=new Dt;return Dt.PerspectiveFovLHToRef(t,e,n,i,o),o}static PerspectiveFovLHToRef(t,e,n,i,o,r=!0){const s=n,a=i,d=1/Math.tan(.5*t),h=r?d/e:d,l=r?d:d*e,p=(a+s)/(a-s),c=-2*a*s/(a-s);Dt.FromValuesToRef(h,0,0,0,0,l,0,0,0,0,p,1,0,0,c,0,o),o._updateIdentityStatus(!1)}static PerspectiveFovRH(t,e,n,i){const o=new Dt;return Dt.PerspectiveFovRHToRef(t,e,n,i,o),o}static PerspectiveFovRHToRef(t,e,n,i,o,r=!0){const s=n,a=i,d=1/Math.tan(.5*t),h=r?d/e:d,l=r?d:d*e,p=-(a+s)/(a-s),c=-2*a*s/(a-s);Dt.FromValuesToRef(h,0,0,0,0,l,0,0,0,0,p,-1,0,0,c,0,o),o._updateIdentityStatus(!1)}static PerspectiveFovWebVRToRef(t,e,n,i,o=!1){const r=o?-1:1,s=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),d=Math.tan(t.leftDegrees*Math.PI/180),h=Math.tan(t.rightDegrees*Math.PI/180),l=2/(d+h),p=2/(s+a),c=i._m;c[0]=l,c[1]=c[2]=c[3]=c[4]=0,c[5]=p,c[6]=c[7]=0,c[8]=(d-h)*l*.5,c[9]=-(s-a)*p*.5,c[10]=-n/(e-n),c[11]=1*r,c[12]=c[13]=c[15]=0,c[14]=-2*n*e/(n-e),i._markAsUpdated()}static GetAsMatrix2x2(t){return[t._m[0],t._m[1],t._m[4],t._m[5]]}static GetAsMatrix3x3(t){return[t._m[0],t._m[1],t._m[2],t._m[4],t._m[5],t._m[6],t._m[8],t._m[9],t._m[10]]}static Transpose(t){const e=new Dt;return Dt.TransposeToRef(t,e),e}static TransposeToRef(t,e){const n=e._m,i=t._m;n[0]=i[0],n[1]=i[4],n[2]=i[8],n[3]=i[12],n[4]=i[1],n[5]=i[5],n[6]=i[9],n[7]=i[13],n[8]=i[2],n[9]=i[6],n[10]=i[10],n[11]=i[14],n[12]=i[3],n[13]=i[7],n[14]=i[11],n[15]=i[15],e._updateIdentityStatus(t._isIdentity,t._isIdentityDirty)}static Reflection(t){const e=new Dt;return Dt.ReflectionToRef(t,e),e}static ReflectionToRef(t,e){t.normalize();const n=t.normal.x,i=t.normal.y,o=t.normal.z,r=-2*n,s=-2*i,a=-2*o;Dt.FromValuesToRef(r*n+1,s*n,a*n,0,r*i,s*i+1,a*i,0,r*o,s*o,a*o+1,0,r*t.d,s*t.d,a*t.d,1,e)}static FromXYZAxesToRef(t,e,n,i){Dt.FromValuesToRef(t.x,t.y,t.z,0,e.x,e.y,e.z,0,n.x,n.y,n.z,0,0,0,0,1,i)}static FromQuaternionToRef(t,e){const n=t.x*t.x,i=t.y*t.y,o=t.z*t.z,r=t.x*t.y,s=t.z*t.w,a=t.z*t.x,d=t.y*t.w,h=t.y*t.z,l=t.x*t.w;e._m[0]=1-2*(i+o),e._m[1]=2*(r+s),e._m[2]=2*(a-d),e._m[3]=0,e._m[4]=2*(r-s),e._m[5]=1-2*(o+n),e._m[6]=2*(h+l),e._m[7]=0,e._m[8]=2*(a+d),e._m[9]=2*(h-l),e._m[10]=1-2*(i+n),e._m[11]=0,e._m[12]=0,e._m[13]=0,e._m[14]=0,e._m[15]=1,e._markAsUpdated()}_markAsUpdated(){this.updateFlag=Dt._updateFlagSeed++,this._isIdentity=!1,this._isIdentity3x2=!1,this._isIdentityDirty=!0,this._isIdentity3x2Dirty=!0}isIdentity(){if(this._isIdentityDirty){this._isIdentityDirty=!1;const t=this._m;this._isIdentity=1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]}return this._isIdentity}isIdentityAs3x2(){return this._isIdentity3x2Dirty&&(this._isIdentity3x2Dirty=!1,1!==this._m[0]||1!==this._m[5]||1!==this._m[15]||0!==this._m[1]||0!==this._m[2]||0!==this._m[3]||0!==this._m[4]||0!==this._m[6]||0!==this._m[7]||0!==this._m[8]||0!==this._m[9]||0!==this._m[10]||0!==this._m[11]||0!==this._m[12]||0!==this._m[13]||0!==this._m[14]?this._isIdentity3x2=!1:this._isIdentity3x2=!0),this._isIdentity3x2}determinant(){if(!0===this._isIdentity)return 1;const t=this._m,e=t[0],n=t[1],i=t[2],o=t[3],r=t[4],s=t[5],a=t[6],d=t[7],h=t[8],l=t[9],p=t[10],c=t[11],u=t[12],y=t[13],f=t[14],m=t[15],g=p*m-f*c,v=l*m-y*c,_=l*f-y*p,b=h*m-u*c,x=h*f-p*u,w=h*y-u*l;return e*+(s*g-a*v+d*_)+n*-(r*g-a*b+d*x)+i*+(r*v-s*b+d*w)+o*-(r*_-s*x+a*w)}toArray(){return this._m}asArray(){return this._m}invert(){return this.invertToRef(this),this}reset(){return Dt.FromValuesToRef(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,this),this._updateIdentityStatus(!1),this}add(t){const e=new Dt;return this.addToRef(t,e),e}addToRef(t,e){for(let n=0;n<16;n++)e._m[n]=this._m[n]+t._m[n];return e._markAsUpdated(),this}addToSelf(t){for(let e=0;e<16;e++)this._m[e]+=t._m[e];return this._markAsUpdated(),this}invertToRef(t){if(!0===this._isIdentity)return Dt.IdentityToRef(t),this;const e=this._m,n=e[0],i=e[1],o=e[2],r=e[3],s=e[4],a=e[5],d=e[6],h=e[7],l=e[8],p=e[9],c=e[10],u=e[11],y=e[12],f=e[13],m=e[14],g=e[15],v=c*g-m*u,_=p*g-f*u,b=p*m-f*c,x=l*g-y*u,w=l*m-c*y,T=l*f-y*p,A=+(a*v-d*_+h*b),R=-(s*v-d*x+h*w),S=+(s*_-a*x+h*T),C=-(s*b-a*w+d*T),E=n*A+i*R+o*S+r*C;if(0===E)return t.copyFrom(this),this;const I=1/E,z=d*g-m*h,O=a*g-f*h,M=a*m-f*d,P=s*g-y*h,N=s*m-y*d,F=s*f-y*a,L=d*u-c*h,D=a*u-p*h,B=a*c-p*d,U=s*u-l*h,V=s*c-l*d,H=s*p-l*a,k=-(i*v-o*_+r*b),j=+(n*v-o*x+r*w),G=-(n*_-i*x+r*T),q=+(n*b-i*w+o*T),W=+(i*z-o*O+r*M),Y=-(n*z-o*P+r*N),X=+(n*O-i*P+r*F),Q=-(n*M-i*N+o*F),Z=-(i*L-o*D+r*B),J=+(n*L-o*U+r*V),K=-(n*D-i*U+r*H),$=+(n*B-i*V+o*H);return Dt.FromValuesToRef(A*I,k*I,W*I,Z*I,R*I,j*I,Y*I,J*I,S*I,G*I,X*I,K*I,C*I,q*I,Q*I,$*I,t),this}addAtIndex(t,e){return this._m[t]+=e,this._markAsUpdated(),this}multiplyAtIndex(t,e){return this._m[t]*=e,this._markAsUpdated(),this}setTranslationFromFloats(t,e,n){return this._m[12]=t,this._m[13]=e,this._m[14]=n,this._markAsUpdated(),this}setTranslation(t){return this.setTranslationFromFloats(t.x,t.y,t.z)}getTranslation(){return new Pt.Vector3(this._m[12],this._m[13],this._m[14])}getTranslationToRef(t){return t.x=this._m[12],t.y=this._m[13],t.z=this._m[14],this}removeRotationAndScaling(){const t=this.m;return Dt.FromValuesToRef(1,0,0,0,0,1,0,0,0,0,1,0,t[12],t[13],t[14],t[15],this),this._updateIdentityStatus(0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]),this}multiply(t){const e=new Dt;return this.multiplyToRef(t,e),e}copyFrom(t){t.copyToArray(this._m);const e=t;return this._updateIdentityStatus(e._isIdentity,e._isIdentityDirty,e._isIdentity3x2,e._isIdentity3x2Dirty),this}copyToArray(t,e=0){for(let n=0;n<16;n++)t[e+n]=this._m[n];return this}multiplyToRef(t,e){return this._isIdentity?(e.copyFrom(t),this):t._isIdentity?(e.copyFrom(this),this):(this.multiplyToArray(t,e._m,0),e._markAsUpdated(),this)}multiplyToArray(t,e,n){const i=this._m,o=t.m,r=i[0],s=i[1],a=i[2],d=i[3],h=i[4],l=i[5],p=i[6],c=i[7],u=i[8],y=i[9],f=i[10],m=i[11],g=i[12],v=i[13],_=i[14],b=i[15],x=o[0],w=o[1],T=o[2],A=o[3],R=o[4],S=o[5],C=o[6],E=o[7],I=o[8],z=o[9],O=o[10],M=o[11],P=o[12],N=o[13],F=o[14],L=o[15];return e[n]=r*x+s*R+a*I+d*P,e[n+1]=r*w+s*S+a*z+d*N,e[n+2]=r*T+s*C+a*O+d*F,e[n+3]=r*A+s*E+a*M+d*L,e[n+4]=h*x+l*R+p*I+c*P,e[n+5]=h*w+l*S+p*z+c*N,e[n+6]=h*T+l*C+p*O+c*F,e[n+7]=h*A+l*E+p*M+c*L,e[n+8]=u*x+y*R+f*I+m*P,e[n+9]=u*w+y*S+f*z+m*N,e[n+10]=u*T+y*C+f*O+m*F,e[n+11]=u*A+y*E+f*M+m*L,e[n+12]=g*x+v*R+_*I+b*P,e[n+13]=g*w+v*S+_*z+b*N,e[n+14]=g*T+v*C+_*O+b*F,e[n+15]=g*A+v*E+_*M+b*L,this}equals(t){const e=t;if(!e)return!1;if((this._isIdentity||e._isIdentity)&&!this._isIdentityDirty&&!e._isIdentityDirty)return this._isIdentity&&e._isIdentity;const n=this.m,i=e.m;return n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]&&n[3]===i[3]&&n[4]===i[4]&&n[5]===i[5]&&n[6]===i[6]&&n[7]===i[7]&&n[8]===i[8]&&n[9]===i[9]&&n[10]===i[10]&&n[11]===i[11]&&n[12]===i[12]&&n[13]===i[13]&&n[14]===i[14]&&n[15]===i[15]}clone(){const t=new Dt;return t.copyFrom(this),t}getClassName(){return\"Matrix\"}getHashCode(){let t=this._m[0]||0;for(let e=1;e<16;e++)t=397*t^(this._m[e]||0);return t}decompose(t,e,n){if(this._isIdentity)return n&&n.setAll(0),t&&t.setAll(1),e&&e.copyFromFloats(0,0,0,1),!0;const i=this._m;n&&n.copyFromFloats(i[12],i[13],i[14]);const o=t||Ft.MathTmp.Vector3[0];if(o.x=Math.sqrt(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]),o.y=Math.sqrt(i[4]*i[4]+i[5]*i[5]+i[6]*i[6]),o.z=Math.sqrt(i[8]*i[8]+i[9]*i[9]+i[10]*i[10]),this.determinant()<=0&&(o.y*=-1),0===o.x||0===o.y||0===o.z)return e&&e.copyFromFloats(0,0,0,1),!1;if(e){const t=1/o.x,n=1/o.y,r=1/o.z;Dt.FromValuesToRef(i[0]*t,i[1]*t,i[2]*t,0,i[4]*n,i[5]*n,i[6]*n,0,i[8]*r,i[9]*r,i[10]*r,0,0,0,0,1,Ft.MathTmp.Matrix[0]),Nt.Quaternion.FromRotationMatrixToRef(Ft.MathTmp.Matrix[0],e)}return!0}getRow(t){if(t<0||t>3)return null;const e=4*t;return new Lt.Vector4(this._m[e+0],this._m[e+1],this._m[e+2],this._m[e+3])}setRow(t,e){return this.setRowFromFloats(t,e.x,e.y,e.z,e.w)}transpose(){return Dt.Transpose(this)}transposeToRef(t){return Dt.TransposeToRef(this,t),this}setRowFromFloats(t,e,n,i,o){if(t<0||t>3)return this;const r=4*t;return this._m[r+0]=e,this._m[r+1]=n,this._m[r+2]=i,this._m[r+3]=o,this._markAsUpdated(),this}scale(t){const e=new Dt;return this.scaleToRef(t,e),e}scaleToRef(t,e){for(let n=0;n<16;n++)e._m[n]=this._m[n]*t;return e._markAsUpdated(),this}scaleAndAddToRef(t,e){for(let n=0;n<16;n++)e._m[n]+=this._m[n]*t;return e._markAsUpdated(),this}toNormalMatrix(t){const e=Ft.MathTmp.Matrix[0];this.invertToRef(e),e.transposeToRef(t);const n=t._m;Dt.FromValuesToRef(n[0],n[1],n[2],0,n[4],n[5],n[6],0,n[8],n[9],n[10],0,0,0,0,1,t)}getRotationMatrix(){const t=new Dt;return this.getRotationMatrixToRef(t),t}getRotationMatrixToRef(t){const e=Ft.MathTmp.Vector3[0];if(!this.decompose(e))return Dt.IdentityToRef(t),this;const n=this._m,i=1/e.x,o=1/e.y,r=1/e.z;return Dt.FromValuesToRef(n[0]*i,n[1]*i,n[2]*i,0,n[4]*o,n[5]*o,n[6]*o,0,n[8]*r,n[9]*r,n[10]*r,0,0,0,0,1,t),this}toggleModelMatrixHandInPlace(){const t=this._m;t[2]*=-1,t[6]*=-1,t[8]*=-1,t[9]*=-1,t[14]*=-1,this._markAsUpdated()}toggleProjectionMatrixHandInPlace(){const t=this._m;t[8]*=-1,t[9]*=-1,t[10]*=-1,t[11]*=-1,this._markAsUpdated()}_updateIdentityStatus(t,e=!1,n=!1,i=!0){this.updateFlag=Dt._updateFlagSeed++,this._isIdentity=t,this._isIdentity3x2=t||n,this._isIdentityDirty=!this._isIdentity&&e,this._isIdentity3x2Dirty=!this._isIdentity3x2&&i}}Rt.Matrix=Dt,Dt._updateFlagSeed=0,Dt._identityReadOnly=Dt.Identity(),Object.defineProperty(At,\"__esModule\",{value:!0}),At.Quaternion=void 0;const Bt=Rt,Ut=Tt,Vt=xt,Ht=bt,kt=Ct;class jt{constructor(t=0,e=0,n=0,i=1){this.x=t,this.y=e,this.z=n,this.w=i}static FromRotationMatrix(t){const e=new jt;return jt.FromRotationMatrixToRef(t,e),e}static FromRotationMatrixToRef(t,e){const n=t.m,i=n[0],o=n[4],r=n[8],s=n[1],a=n[5],d=n[9],h=n[2],l=n[6],p=n[10],c=i+a+p;let u;c>0?(u=.5/Math.sqrt(c+1),e.w=.25/u,e.x=(l-d)*u,e.y=(r-h)*u,e.z=(s-o)*u):i>a&&i>p?(u=2*Math.sqrt(1+i-a-p),e.w=(l-d)/u,e.x=.25*u,e.y=(o+s)/u,e.z=(r+h)/u):a>p?(u=2*Math.sqrt(1+a-i-p),e.w=(r-h)/u,e.x=(o+s)/u,e.y=.25*u,e.z=(d+l)/u):(u=2*Math.sqrt(1+p-i-a),e.w=(s-o)/u,e.x=(r+h)/u,e.y=(d+l)/u,e.z=.25*u)}static Dot(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w}static AreClose(t,e){return jt.Dot(t,e)>=0}static Zero(){return new jt(0,0,0,0)}static Inverse(t){return new jt(-t.x,-t.y,-t.z,t.w)}static IsIdentity(t){return t&&0===t.x&&0===t.y&&0===t.z&&1===t.w}static RotationAxis(t,e){const n=e*Ht.DEG2RAD;return jt.RotationAxisToRef(t,n,new jt)}static RotationAxisToRef(t,e,n){const i=e*Ht.DEG2RAD,o=Math.sin(i/2);return t.normalize(),n.w=Math.cos(i/2),n.x=t.x*o,n.y=t.y*o,n.z=t.z*o,n}static FromArray(t,e=0){return new jt(t[e],t[e+1],t[e+2],t[e+3])}static FromEulerAnglesRef(t,e,n,i){return jt.RotationYawPitchRollToRef(e*Ht.DEG2RAD,t*Ht.DEG2RAD,n*Ht.DEG2RAD,i)}static RotationYawPitchRoll(t,e,n){const i=new jt;return jt.RotationYawPitchRollToRef(t,e,n,i),i}static RotationYawPitchRollToRef(t,e,n,i){const o=.5*e,r=.5*t,s=.5*n,a=Math.cos(o),d=Math.cos(r),h=Math.cos(s),l=Math.sin(o),p=Math.sin(r),c=Math.sin(s);i.x=d*l*h+p*a*c,i.y=p*a*h-d*l*c,i.z=d*a*c-p*l*h,i.w=d*a*h+p*l*c}static RotationAlphaBetaGamma(t,e,n){const i=new jt;return jt.RotationAlphaBetaGammaToRef(t,e,n,i),i}static RotationAlphaBetaGammaToRef(t,e,n,i){const o=.5*(n+t),r=.5*(n-t),s=.5*e;i.x=Math.cos(r)*Math.sin(s),i.y=Math.sin(r)*Math.sin(s),i.z=Math.sin(o)*Math.cos(s),i.w=Math.cos(o)*Math.cos(s)}static RotationQuaternionFromAxis(t,e,n){const i=new jt(0,0,0,0);return jt.RotationQuaternionFromAxisToRef(t,e,n,i),i}static RotationQuaternionFromAxisToRef(t,e,n,i){const o=Vt.MathTmp.Matrix[0];Bt.Matrix.FromXYZAxesToRef(t.normalize(),e.normalize(),n.normalize(),o),jt.FromRotationMatrixToRef(o,i)}static Slerp(t,e,n){const i=jt.Identity;return jt.SlerpToRef(t,e,n,i),i}static SlerpToRef(t,e,n,i){let o,r,s=t.x*e.x+t.y*e.y+t.z*e.z+t.w*e.w,a=!1;if(s<0&&(a=!0,s=-s),s>.999999)r=1-n,o=a?-n:n;else{const t=Math.acos(s),e=1/Math.sin(t);r=Math.sin((1-n)*t)*e,o=a?-Math.sin(n*t)*e:Math.sin(n*t)*e}i.x=r*t.x+o*e.x,i.y=r*t.y+o*e.y,i.z=r*t.z+o*e.z,i.w=r*t.w+o*e.w}static Hermite(t,e,n,i,o){const r=o*o,s=o*r,a=2*s-3*r+1,d=-2*s+3*r,h=s-2*r+o,l=s-r,p=t.x*a+n.x*d+e.x*h+i.x*l,c=t.y*a+n.y*d+e.y*h+i.y*l,u=t.z*a+n.z*d+e.z*h+i.z*l,y=t.w*a+n.w*d+e.w*h+i.w*l;return new jt(p,c,u,y)}static get Identity(){return new jt(0,0,0,1)}static Angle(t,e){const n=jt.Dot(t,e);return 2*Math.acos(Math.min(Math.abs(n),1))*Ht.RAD2DEG}static Euler(t,e,n){return jt.RotationYawPitchRoll(e*Ht.DEG2RAD,t*Ht.DEG2RAD,n*Ht.DEG2RAD)}static LookRotation(t,e=Vt.MathTmp.staticUp){const n=Ut.Vector3.Normalize(t),i=Ut.Vector3.Normalize(Ut.Vector3.Cross(e,n)),o=Ut.Vector3.Cross(n,i),r=i.x,s=i.y,a=i.z,d=o.x,h=o.y,l=o.z,p=n.x,c=n.y,u=n.z,y=r+h+u,f=new jt;if(y>0){let t=Math.sqrt(y+1);return f.w=.5*t,t=.5/t,f.x=(l-c)*t,f.y=(p-a)*t,f.z=(s-d)*t,f}if(r>=h&&r>=u){const t=Math.sqrt(1+r-h-u),e=.5/t;return f.x=.5*t,f.y=(s+d)*e,f.z=(a+p)*e,f.w=(l-c)*e,f}if(h>u){const t=Math.sqrt(1+h-r-u),e=.5/t;return f.x=(d+s)*e,f.y=.5*t,f.z=(c+l)*e,f.w=(p-a)*e,f}const m=Math.sqrt(1+u-r-h),g=.5/m;return f.x=(p+a)*g,f.y=(c+l)*g,f.z=.5*m,f.w=(s-d)*g,f}static RotateTowards(t,e,n){const i=jt.Angle(t,e);if(0===i)return e;const o=Math.min(1,n/i);return jt.Slerp(t,e,o)}static FromToRotation(t,e,n=Vt.MathTmp.staticUp){const i=t.normalize(),o=e.normalize(),r=Ut.Vector3.Cross(i,o),s=Math.sqrt(i.lengthSquared()*o.lengthSquared())+Ut.Vector3.Dot(i,o);return r.lengthSquared()<1e-4?Math.abs(s)<1e-4?new jt(n.x,n.y,n.z,0).normalized:jt.Identity:new jt(r.x,r.y,r.z,s).normalized}get normalized(){return this.normalize()}setFromToRotation(t,e,n=Vt.MathTmp.staticUp){const i=jt.FromToRotation(t,e,n);this.x=i.x,this.y=i.y,this.z=i.z,this.w=i.w}set eulerAngles(t){this.setEuler(t.x,t.y,t.z)}get eulerAngles(){const t=new Ut.Vector3,e=this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w,n=this.x*this.w-this.y*this.z;return n>.4995*e?(t.x=Math.PI/2,t.y=2*Math.atan2(this.y,this.x),t.z=0):n<-.4995*e?(t.x=-Math.PI/2,t.y=-2*Math.atan2(this.y,this.x),t.z=0):(t.x=Math.asin(2*(this.w*this.x-this.y*this.z)),t.y=Math.atan2(2*this.w*this.y+2*this.z*this.x,1-2*(this.x*this.x+this.y*this.y)),t.z=Math.atan2(2*this.w*this.z+2*this.x*this.y,1-2*(this.z*this.z+this.x*this.x))),t.x*=Ht.RAD2DEG,t.y*=Ht.RAD2DEG,t.z*=Ht.RAD2DEG,t.x=kt.Scalar.Repeat(t.x,360),t.y=kt.Scalar.Repeat(t.y,360),t.z=kt.Scalar.Repeat(t.z,360),t}toString(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`}get length(){return Math.sqrt(this.lengthSquared)}get lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}getClassName(){return\"Quaternion\"}getHashCode(){let t=this.x||0;return t=397*t^(this.y||0),t=397*t^(this.z||0),t=397*t^(this.w||0),t}asArray(){return[this.x,this.y,this.z,this.w]}equals(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z&&this.w===t.w}clone(){return new jt(this.x,this.y,this.z,this.w)}copyFrom(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this}copyFromFloats(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}set(t,e,n,i){return this.copyFromFloats(t,e,n,i)}setEuler(t,e,n){return jt.RotationYawPitchRollToRef(e*Ht.DEG2RAD,t*Ht.DEG2RAD,n*Ht.DEG2RAD,this),this}add(t){return new jt(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}addInPlace(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}subtract(t){return new jt(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}scale(t){return new jt(this.x*t,this.y*t,this.z*t,this.w*t)}scaleToRef(t,e){return e.x=this.x*t,e.y=this.y*t,e.z=this.z*t,e.w=this.w*t,this}scaleInPlace(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}scaleAndAddToRef(t,e){return e.x+=this.x*t,e.y+=this.y*t,e.z+=this.z*t,e.w+=this.w*t,this}multiply(t){const e=new jt(0,0,0,1);return this.multiplyToRef(t,e),e}multiplyToRef(t,e){const n=this.x*t.w+this.y*t.z-this.z*t.y+this.w*t.x,i=-this.x*t.z+this.y*t.w+this.z*t.x+this.w*t.y,o=this.x*t.y-this.y*t.x+this.z*t.w+this.w*t.z,r=-this.x*t.x-this.y*t.y-this.z*t.z+this.w*t.w;return e.copyFromFloats(n,i,o,r),this}multiplyInPlace(t){return this.multiplyToRef(t,this),this}conjugateToRef(t){return t.copyFromFloats(-this.x,-this.y,-this.z,this.w),this}conjugateInPlace(){return this.x*=-1,this.y*=-1,this.z*=-1,this}conjugate(){return new jt(-this.x,-this.y,-this.z,this.w)}normalize(){const t=1/this.length;return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}angleAxis(t,e){if(0===e.lengthSquared())return jt.Identity;const n=jt.Identity;let i=t*Ht.DEG2RAD;i*=.5;let o=e.normalize();return o=e.scaleInPlace(Math.sin(i)),n.x=o.x,n.y=o.y,n.z=o.z,n.w=Math.cos(i),n.normalize()}toRotationMatrix(t){return Bt.Matrix.FromQuaternionToRef(this,t),this}fromRotationMatrix(t){return jt.FromRotationMatrixToRef(t,this),this}}At.Quaternion=jt,Object.defineProperty(Tt,\"__esModule\",{value:!0}),Tt.Vector3=void 0;const Gt=xt,qt=bt,Wt=At,Yt=Ct;class Xt{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}get isNonUniform(){const t=Math.abs(this.x),e=Math.abs(this.y);if(t!==e)return!0;const n=Math.abs(this.z);return t!==n||e!==n}static Add(t,e){return new Xt(t.x,t.y,t.z).addInPlace(e)}static GetClipFactor(t,e,n,i){const o=Xt.Dot(t,n)-i;return o/(o-(Xt.Dot(e,n)-i))}static GetAngleBetweenVectors(t,e,n){const i=t.normalizeToRef(Gt.MathTmp.Vector3[1]),o=e.normalizeToRef(Gt.MathTmp.Vector3[2]),r=Xt.Dot(i,o),s=Gt.MathTmp.Vector3[3];return Xt.CrossToRef(i,o,s),Xt.Dot(s,n)>0?Math.acos(r):-Math.acos(r)}static FromArray(t,e=0){return new Xt(t[e],t[e+1],t[e+2])}static FromFloatArray(t,e){return Xt.FromArray(t,e)}static FromArrayToRef(t,e,n){n.x=t[e],n.y=t[e+1],n.z=t[e+2]}static FromFloatArrayToRef(t,e,n){return Xt.FromArrayToRef(t,e,n)}static FromFloatsToRef(t,e,n,i){i.copyFromFloats(t,e,n)}static Zero(){return new Xt(0,0,0)}static One(){return new Xt(1,1,1)}static Up(){return new Xt(0,1,0)}static Down(){return new Xt(0,-1,0)}static Forward(){return new Xt(0,0,1)}static Backward(){return new Xt(0,0,-1)}static Right(){return new Xt(1,0,0)}static Left(){return new Xt(-1,0,0)}static TransformCoordinates(t,e){const n=Xt.Zero();return Xt.TransformCoordinatesToRef(t,e,n),n}static TransformCoordinatesToRef(t,e,n){return Xt.TransformCoordinatesFromFloatsToRef(t.x,t.y,t.z,e,n)}static TransformCoordinatesFromFloatsToRef(t,e,n,i,o){const r=i.m,s=t*r[0]+e*r[4]+n*r[8]+r[12],a=t*r[1]+e*r[5]+n*r[9]+r[13],d=t*r[2]+e*r[6]+n*r[10]+r[14],h=1/(t*r[3]+e*r[7]+n*r[11]+r[15]);o.x=s*h,o.y=a*h,o.z=d*h}static TransformNormal(t,e){const n=Xt.Zero();return Xt.TransformNormalToRef(t,e,n),n}static TransformNormalToRef(t,e,n){this.TransformNormalFromFloatsToRef(t.x,t.y,t.z,e,n)}static TransformNormalFromFloatsToRef(t,e,n,i,o){const r=i.m;o.x=t*r[0]+e*r[4]+n*r[8],o.y=t*r[1]+e*r[5]+n*r[9],o.z=t*r[2]+e*r[6]+n*r[10]}static CatmullRom(t,e,n,i,o){const r=o*o,s=o*r,a=.5*(2*e.x+(-t.x+n.x)*o+(2*t.x-5*e.x+4*n.x-i.x)*r+(-t.x+3*e.x-3*n.x+i.x)*s),d=.5*(2*e.y+(-t.y+n.y)*o+(2*t.y-5*e.y+4*n.y-i.y)*r+(-t.y+3*e.y-3*n.y+i.y)*s),h=.5*(2*e.z+(-t.z+n.z)*o+(2*t.z-5*e.z+4*n.z-i.z)*r+(-t.z+3*e.z-3*n.z+i.z)*s);return new Xt(a,d,h)}static Clamp(t,e,n){const i=new Xt;return Xt.ClampToRef(t,e,n,i),i}static ClampToRef(t,e,n,i){let o=t.x;o=o>n.x?n.x:o,o=o<e.x?e.x:o;let r=t.y;r=r>n.y?n.y:r,r=r<e.y?e.y:r;let s=t.z;s=s>n.z?n.z:s,s=s<e.z?e.z:s,i.copyFromFloats(o,r,s)}static Hermite(t,e,n,i,o){const r=o*o,s=o*r,a=2*s-3*r+1,d=-2*s+3*r,h=s-2*r+o,l=s-r,p=t.x*a+n.x*d+e.x*h+i.x*l,c=t.y*a+n.y*d+e.y*h+i.y*l,u=t.z*a+n.z*d+e.z*h+i.z*l;return new Xt(p,c,u)}static Lerp(t,e,n){const i=new Xt(0,0,0);return Xt.LerpToRef(t,e,n,i),i}static LerpToRef(t,e,n,i){i.x=t.x+(e.x-t.x)*n,i.y=t.y+(e.y-t.y)*n,i.z=t.z+(e.z-t.z)*n}static Dot(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}static Cross(t,e){const n=Xt.Zero();return Xt.CrossToRef(t,e,n),n}static CrossToRef(t,e,n){const i=t.y*e.z-t.z*e.y,o=t.z*e.x-t.x*e.z,r=t.x*e.y-t.y*e.x;n.copyFromFloats(i,o,r)}static Normalize(t){const e=Xt.Zero();return Xt.NormalizeToRef(t,e),e}static NormalizeToRef(t,e){t.normalizeToRef(e)}static Minimize(t,e){const n=new Xt(t.x,t.y,t.z);return n.minimizeInPlace(e),n}static Maximize(t,e){const n=new Xt(t.x,t.y,t.z);return n.maximizeInPlace(e),n}static Distance(t,e){return Math.sqrt(Xt.DistanceSquared(t,e))}static DistanceSquared(t,e){const n=t.x-e.x,i=t.y-e.y,o=t.z-e.z;return n*n+i*i+o*o}static Center(t,e){const n=Xt.Add(t,e);return n.scaleInPlace(.5),n}static RotationFromAxis(t,e,n){const i=Xt.Zero();return Xt.RotationFromAxisToRef(t,e,n,i),i}static RotationFromAxisToRef(t,e,n,i){const o=Gt.MathTmp.Quaternion[0];Wt.Quaternion.RotationQuaternionFromAxisToRef(t,e,n,o),i.copyFrom(o.eulerAngles)}toString(){return`(${this.x}, ${this.y}, ${this.z})`}getClassName(){return\"Vector3\"}getHashCode(){let t=this.x||0;return t=397*t^(this.y||0),t=397*t^(this.z||0),t}asArray(){const t=[];return this.toArray(t,0),t}toArray(t,e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,this}toQuaternion(){return Wt.Quaternion.Identity.setEuler(this.y,this.x,this.z)}addInPlace(t){return this.addInPlaceFromFloats(t.x,t.y,t.z)}addInPlaceFromFloats(t,e,n){return this.x+=t,this.y+=e,this.z+=n,this}add(t){return new Xt(this.x+t.x,this.y+t.y,this.z+t.z)}addToRef(t,e){return e.copyFromFloats(this.x+t.x,this.y+t.y,this.z+t.z)}subtractInPlace(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subtract(t){return new Xt(this.x-t.x,this.y-t.y,this.z-t.z)}subtractToRef(t,e){return this.subtractFromFloatsToRef(t.x,t.y,t.z,e)}subtractFromFloats(t,e,n){return new Xt(this.x-t,this.y-e,this.z-n)}subtractFromFloatsToRef(t,e,n,i){return i.copyFromFloats(this.x-t,this.y-e,this.z-n)}applyMatrix4(t){this.applyMatrix4ToRef(t,this)}applyMatrix4ToRef(t,e){const{x:n,y:i,z:o}=this,{m:r}=t,s=1/(r[3]*n+r[7]*i+r[11]*o+r[15]);return e.x=(r[0]*n+r[4]*i+r[8]*o+r[12])*s,e.y=(r[1]*n+r[5]*i+r[9]*o+r[13])*s,e.z=(r[2]*n+r[6]*i+r[10]*o+r[14])*s,e}rotate(t){return this.rotateToRef(t,this)}rotateToRef(t,e){const{x:n,y:i,z:o}=this,{x:r,y:s,z:a,w:d}=t,h=d*n+s*o-a*i,l=d*i+a*n-r*o,p=d*o+r*i-s*n,c=-r*n-s*i-a*o;return e.x=h*d+c*-r+l*-a-p*-s,e.y=l*d+c*-s+p*-r-h*-a,e.z=p*d+c*-a+h*-s-l*-r,e}negate(){return new Xt(-this.x,-this.y,-this.z)}scaleInPlace(t){return this.x*=t,this.y*=t,this.z*=t,this}scale(t){return new Xt(this.x*t,this.y*t,this.z*t)}scaleToRef(t,e){return e.copyFromFloats(this.x*t,this.y*t,this.z*t)}scaleAndAddToRef(t,e){return e.addInPlaceFromFloats(this.x*t,this.y*t,this.z*t)}equals(t){return t&&this.x===t.x&&this.y===t.y&&this.z===t.z}equalsWithEpsilon(t,e=qt.Epsilon){return t&&Yt.Scalar.WithinEpsilon(this.x,t.x,e)&&Yt.Scalar.WithinEpsilon(this.y,t.y,e)&&Yt.Scalar.WithinEpsilon(this.z,t.z,e)}equalsToFloats(t,e,n){return this.x===t&&this.y===e&&this.z===n}multiplyInPlace(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiply(t){return this.multiplyByFloats(t.x,t.y,t.z)}multiplyToRef(t,e){return e.copyFromFloats(this.x*t.x,this.y*t.y,this.z*t.z)}multiplyByFloats(t,e,n){return new Xt(this.x*t,this.y*e,this.z*n)}divide(t){return new Xt(this.x/t.x,this.y/t.y,this.z/t.z)}divideToRef(t,e){return e.copyFromFloats(this.x/t.x,this.y/t.y,this.z/t.z)}divideInPlace(t){return this.divideToRef(t,this)}minimizeInPlace(t){return this.minimizeInPlaceFromFloats(t.x,t.y,t.z)}maximizeInPlace(t){return this.maximizeInPlaceFromFloats(t.x,t.y,t.z)}minimizeInPlaceFromFloats(t,e,n){return t<this.x&&(this.x=t),e<this.y&&(this.y=e),n<this.z&&(this.z=n),this}maximizeInPlaceFromFloats(t,e,n){return t>this.x&&(this.x=t),e>this.y&&(this.y=e),n>this.z&&(this.z=n),this}floor(){return new Xt(Math.floor(this.x),Math.floor(this.y),Math.floor(this.z))}fract(){return new Xt(this.x-Math.floor(this.x),this.y-Math.floor(this.y),this.z-Math.floor(this.z))}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSquared(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.normalizeFromLength(this.length())}normalizeFromLength(t){return 0===t||1===t?this:this.scaleInPlace(1/t)}normalizeToNew(){const t=new Xt(0,0,0);return this.normalizeToRef(t),t}normalizeToRef(t){const e=this.length();return 0===e||1===e?t.copyFromFloats(this.x,this.y,this.z):this.scaleToRef(1/e,t)}clone(){return new Xt(this.x,this.y,this.z)}copyFrom(t){return this.copyFromFloats(t.x,t.y,t.z)}copyFromFloats(t,e,n){return this.x=t,this.y=e,this.z=n,this}set(t,e,n){return this.copyFromFloats(t,e,n)}setAll(t){return this.x=this.y=this.z=t,this}}Tt.Vector3=Xt,Object.defineProperty(xt,\"__esModule\",{value:!0}),xt.MathTmp=void 0;const Qt=wt,Zt=Tt,Jt=At,Kt=Rt;xt.MathTmp={Vector3:(0,Qt.buildArray)(6,Zt.Vector3.Zero),Matrix:(0,Qt.buildArray)(2,Kt.Matrix.Identity),Quaternion:(0,Qt.buildArray)(3,Jt.Quaternion.Zero),staticUp:Zt.Vector3.Up(),tmpMatrix:Kt.Matrix.Zero()};var $t={};Object.defineProperty($t,\"__esModule\",{value:!0}),$t.Angle=void 0;class te{constructor(t){this._radians=t,this._radians<0&&(this._radians+=2*Math.PI)}static BetweenTwoPoints(t,e){const n=e.subtract(t),i=Math.atan2(n.y,n.x);return new te(i)}static FromRadians(t){return new te(t)}static FromDegrees(t){return new te(t*Math.PI/180)}degrees(){return 180*this._radians/Math.PI}radians(){return this._radians}}$t.Angle=te;var ee={},ne={};Object.defineProperty(ne,\"__esModule\",{value:!0}),ne.Vector2=void 0;const ie=bt,oe=Ct;class re{constructor(t=0,e=0){this.x=t,this.y=e}static Zero(){return new re(0,0)}static One(){return new re(1,1)}static Add(t,e){return new re(t.x,t.y).addInPlace(e)}static FromArray(t,e=0){return new re(t[e],t[e+1])}static FromArrayToRef(t,e,n){n.x=t[e],n.y=t[e+1]}static CatmullRom(t,e,n,i,o){const r=o*o,s=o*r,a=.5*(2*e.x+(-t.x+n.x)*o+(2*t.x-5*e.x+4*n.x-i.x)*r+(-t.x+3*e.x-3*n.x+i.x)*s),d=.5*(2*e.y+(-t.y+n.y)*o+(2*t.y-5*e.y+4*n.y-i.y)*r+(-t.y+3*e.y-3*n.y+i.y)*s);return new re(a,d)}static Clamp(t,e,n){let i=t.x;i=i>n.x?n.x:i,i=i<e.x?e.x:i;let o=t.y;return o=o>n.y?n.y:o,o=o<e.y?e.y:o,new re(i,o)}static Hermite(t,e,n,i,o){const r=o*o,s=o*r,a=2*s-3*r+1,d=-2*s+3*r,h=s-2*r+o,l=s-r,p=t.x*a+n.x*d+e.x*h+i.x*l,c=t.y*a+n.y*d+e.y*h+i.y*l;return new re(p,c)}static Lerp(t,e,n){const i=t.x+(e.x-t.x)*n,o=t.y+(e.y-t.y)*n;return new re(i,o)}static Dot(t,e){return t.x*e.x+t.y*e.y}static Normalize(t){const e=new re(t.x,t.y);return e.normalize(),e}static Minimize(t,e){const n=t.x<e.x?t.x:e.x,i=t.y<e.y?t.y:e.y;return new re(n,i)}static Maximize(t,e){const n=t.x>e.x?t.x:e.x,i=t.y>e.y?t.y:e.y;return new re(n,i)}static Transform(t,e){const n=re.Zero();return re.TransformToRef(t,e,n),n}static TransformToRef(t,e,n){const i=e.m,o=t.x*i[0]+t.y*i[4]+i[12],r=t.x*i[1]+t.y*i[5]+i[13];n.x=o,n.y=r}static PointInTriangle(t,e,n,i){const o=.5*(-n.y*i.x+e.y*(-n.x+i.x)+e.x*(n.y-i.y)+n.x*i.y),r=o<0?-1:1,s=(e.y*i.x-e.x*i.y+(i.y-e.y)*t.x+(e.x-i.x)*t.y)*r,a=(e.x*n.y-e.y*n.x+(e.y-n.y)*t.x+(n.x-e.x)*t.y)*r;return s>0&&a>0&&s+a<2*o*r}static Distance(t,e){return Math.sqrt(re.DistanceSquared(t,e))}static DistanceSquared(t,e){const n=t.x-e.x,i=t.y-e.y;return n*n+i*i}static Center(t,e){const n=re.Add(t,e);return n.scaleInPlace(.5),n}static DistanceOfPointFromSegment(t,e,n){const i=re.DistanceSquared(e,n);if(0===i)return re.Distance(t,e);const o=n.subtract(e),r=Math.max(0,Math.min(1,re.Dot(t.subtract(e),o)/i)),s=e.add(o.multiplyByFloats(r,r));return re.Distance(t,s)}toString(){return\"{X: \"+this.x+\" Y:\"+this.y+\"}\"}getClassName(){return\"Vector2\"}getHashCode(){let t=this.x||0;return t=397*t^(this.y||0),t}toArray(t,e=0){return t[e]=this.x,t[e+1]=this.y,this}asArray(){const t=new Array;return this.toArray(t,0),t}copyFrom(t){return this.x=t.x,this.y=t.y,this}copyFromFloats(t,e){return this.x=t,this.y=e,this}set(t,e){return this.copyFromFloats(t,e)}add(t){return new re(this.x+t.x,this.y+t.y)}addToRef(t,e){return e.x=this.x+t.x,e.y=this.y+t.y,this}addInPlace(t){return this.x+=t.x,this.y+=t.y,this}addVector3(t){return new re(this.x+t.x,this.y+t.y)}subtract(t){return new re(this.x-t.x,this.y-t.y)}subtractToRef(t,e){return e.x=this.x-t.x,e.y=this.y-t.y,this}subtractInPlace(t){return this.x-=t.x,this.y-=t.y,this}multiplyInPlace(t){return this.x*=t.x,this.y*=t.y,this}multiply(t){return new re(this.x*t.x,this.y*t.y)}multiplyToRef(t,e){return e.x=this.x*t.x,e.y=this.y*t.y,this}multiplyByFloats(t,e){return new re(this.x*t,this.y*e)}divide(t){return new re(this.x/t.x,this.y/t.y)}divideToRef(t,e){return e.x=this.x/t.x,e.y=this.y/t.y,this}divideInPlace(t){return this.divideToRef(t,this)}negate(){return new re(-this.x,-this.y)}scaleInPlace(t){return this.x*=t,this.y*=t,this}scale(t){const e=new re(0,0);return this.scaleToRef(t,e),e}scaleToRef(t,e){return e.x=this.x*t,e.y=this.y*t,this}scaleAndAddToRef(t,e){return e.x+=this.x*t,e.y+=this.y*t,this}equals(t){return t&&this.x===t.x&&this.y===t.y}equalsWithEpsilon(t,e=ie.Epsilon){return t&&oe.Scalar.WithinEpsilon(this.x,t.x,e)&&oe.Scalar.WithinEpsilon(this.y,t.y,e)}floor(){return new re(Math.floor(this.x),Math.floor(this.y))}fract(){return new re(this.x-Math.floor(this.x),this.y-Math.floor(this.y))}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){const t=this.length();if(0===t)return this;const e=1/t;return this.x*=e,this.y*=e,this}clone(){return new re(this.x,this.y)}}ne.Vector2=re,Object.defineProperty(ee,\"__esModule\",{value:!0}),ee.Arc2=void 0;const se=$t,ae=ne,de=bt;ee.Arc2=class{constructor(t,e,n){this.startPoint=t,this.midPoint=e,this.endPoint=n;const i=Math.pow(e.x,2)+Math.pow(e.y,2),o=(Math.pow(t.x,2)+Math.pow(t.y,2)-i)/2,r=(i-Math.pow(n.x,2)-Math.pow(n.y,2))/2,s=(t.x-e.x)*(e.y-n.y)-(e.x-n.x)*(t.y-e.y);this.centerPoint=new ae.Vector2((o*(e.y-n.y)-r*(t.y-e.y))/s,((t.x-e.x)*r-(e.x-n.x)*o)/s),this.radius=this.centerPoint.subtract(this.startPoint).length(),this.startAngle=se.Angle.BetweenTwoPoints(this.centerPoint,this.startPoint);const a=this.startAngle.degrees();let d=se.Angle.BetweenTwoPoints(this.centerPoint,this.midPoint).degrees(),h=se.Angle.BetweenTwoPoints(this.centerPoint,this.endPoint).degrees();d-a>180&&(d-=360),d-a<-180&&(d+=360),h-d>180&&(h-=360),h-d<-180&&(h+=360),this.orientation=d-a<0?de.Orientation.CW:de.Orientation.CCW,this.angle=se.Angle.FromDegrees(this.orientation===de.Orientation.CW?a-h:h-a)}};var he={};Object.defineProperty(he,\"__esModule\",{value:!0}),he.Axis=void 0;const le=Tt;class pe{}he.Axis=pe,pe.X=new le.Vector3(1,0,0),pe.Y=new le.Vector3(0,1,0),pe.Z=new le.Vector3(0,0,1);var ce={};Object.defineProperty(ce,\"__esModule\",{value:!0}),ce.BezierCurve=void 0;ce.BezierCurve=class{static Interpolate(t,e,n,i,o){const r=1-3*i+3*e,s=3*i-6*e,a=3*e;let d=t;for(let e=0;e<5;e++){const e=d*d;d-=(r*(e*d)+s*e+a*d-t)*(1/(3*r*e+2*s*d+a)),d=Math.min(1,Math.max(0,d))}return 3*Math.pow(1-d,2)*d*n+3*(1-d)*Math.pow(d,2)*o+Math.pow(d,3)}};var ue={},ye={};Object.defineProperty(ye,\"__esModule\",{value:!0}),ye.Color4=void 0;const fe=Ct,me=bt;class ge{constructor(t=0,e=0,n=0,i=1){this.r=t,this.g=e,this.b=n,this.a=i}static FromHexString(t){if(\"#\"!==t.substring(0,1)||9!==t.length)return new ge(0,0,0,0);const e=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),i=parseInt(t.substring(5,7),16),o=parseInt(t.substring(7,9),16);return ge.FromInts(e,n,i,o)}static Lerp(t,e,n){const i=new ge(0,0,0,0);return ge.LerpToRef(t,e,n,i),i}static LerpToRef(t,e,n,i){i.r=t.r+(e.r-t.r)*n,i.g=t.g+(e.g-t.g)*n,i.b=t.b+(e.b-t.b)*n,i.a=t.a+(e.a-t.a)*n}static Red(){return new ge(1,0,0,1)}static Green(){return new ge(0,1,0,1)}static Blue(){return new ge(0,0,1,1)}static Black(){return new ge(0,0,0,1)}static White(){return new ge(1,1,1,1)}static Purple(){return new ge(.5,0,.5,1)}static Magenta(){return new ge(1,0,1,1)}static Yellow(){return new ge(1,1,0,1)}static Gray(){return new ge(.5,.5,.5,1)}static Teal(){return new ge(0,1,1,1)}static Clear(){return new ge(0,0,0,0)}static FromColor3(t,e=1){return new ge(t.r,t.g,t.b,e)}static FromArray(t,e=0){return new ge(t[e],t[e+1],t[e+2],t[e+3])}static FromInts(t,e,n,i){return new ge(t/255,e/255,n/255,i/255)}static CheckColors4(t,e){if(t.length===3*e){const e=[];for(let n=0;n<t.length;n+=3){const i=n/3*4;e[i]=t[n],e[i+1]=t[n+1],e[i+2]=t[n+2],e[i+3]=1}return e}return t}addInPlace(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this.a+=t.a,this}asArray(){const t=new Array;return this.toArray(t,0),t}toArray(t,e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t[e+3]=this.a,this}add(t){return new ge(this.r+t.r,this.g+t.g,this.b+t.b,this.a+t.a)}subtract(t){return new ge(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)}subtractToRef(t,e){return e.r=this.r-t.r,e.g=this.g-t.g,e.b=this.b-t.b,e.a=this.a-t.a,this}scale(t){return new ge(this.r*t,this.g*t,this.b*t,this.a*t)}scaleToRef(t,e){return e.r=this.r*t,e.g=this.g*t,e.b=this.b*t,e.a=this.a*t,this}scaleAndAddToRef(t,e){return e.r+=this.r*t,e.g+=this.g*t,e.b+=this.b*t,e.a+=this.a*t,this}clampToRef(t=0,e=1,n){return n.r=fe.Scalar.Clamp(this.r,t,e),n.g=fe.Scalar.Clamp(this.g,t,e),n.b=fe.Scalar.Clamp(this.b,t,e),n.a=fe.Scalar.Clamp(this.a,t,e),this}multiply(t){return new ge(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)}multiplyToRef(t,e){return e.r=this.r*t.r,e.g=this.g*t.g,e.b=this.b*t.b,e.a=this.a*t.a,e}toString(){return\"{R: \"+this.r+\" G:\"+this.g+\" B:\"+this.b+\" A:\"+this.a+\"}\"}getClassName(){return\"Color4\"}getHashCode(){let t=this.r||0;return t=397*t^(this.g||0),t=397*t^(this.b||0),t=397*t^(this.a||0),t}clone(){return new ge(this.r,this.g,this.b,this.a)}copyFrom(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}copyFromFloats(t,e,n,i){return this.r=t,this.g=e,this.b=n,this.a=i,this}set(t,e,n,i){return this.copyFromFloats(t,e,n,i)}toHexString(){const t=255*this.r|0,e=255*this.g|0,n=255*this.b|0,i=255*this.a|0;return\"#\"+fe.Scalar.ToHex(t)+fe.Scalar.ToHex(e)+fe.Scalar.ToHex(n)+fe.Scalar.ToHex(i)}toLinearSpace(){const t=new ge;return this.toLinearSpaceToRef(t),t}toLinearSpaceToRef(t){return t.r=Math.pow(this.r,me.ToLinearSpace),t.g=Math.pow(this.g,me.ToLinearSpace),t.b=Math.pow(this.b,me.ToLinearSpace),t.a=this.a,this}toGammaSpace(){const t=new ge;return this.toGammaSpaceToRef(t),t}toGammaSpaceToRef(t){return t.r=Math.pow(this.r,me.ToGammaSpace),t.g=Math.pow(this.g,me.ToGammaSpace),t.b=Math.pow(this.b,me.ToGammaSpace),t.a=this.a,this}}ye.Color4=ge,Object.defineProperty(ue,\"__esModule\",{value:!0}),ue.Color3=void 0;const ve=bt,_e=ye,be=Ct;class xe{constructor(t=0,e=0,n=0){this.r=t,this.g=e,this.b=n}static FromHexString(t){if(\"#\"!==t.substring(0,1)||7!==t.length)return new xe(0,0,0);const e=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),i=parseInt(t.substring(5,7),16);return xe.FromInts(e,n,i)}static FromArray(t,e=0){return new xe(t[e],t[e+1],t[e+2])}static FromInts(t,e,n){return new xe(t/255,e/255,n/255)}static Lerp(t,e,n){const i=new xe(0,0,0);return xe.LerpToRef(t,e,n,i),i}static LerpToRef(t,e,n,i){i.r=t.r+(e.r-t.r)*n,i.g=t.g+(e.g-t.g)*n,i.b=t.b+(e.b-t.b)*n}static Red(){return new xe(1,0,0)}static Green(){return new xe(0,1,0)}static Blue(){return new xe(0,0,1)}static Black(){return new xe(0,0,0)}static White(){return new xe(1,1,1)}static Purple(){return new xe(.5,0,.5)}static Magenta(){return new xe(1,0,1)}static Yellow(){return new xe(1,1,0)}static Gray(){return new xe(.5,.5,.5)}static Teal(){return new xe(0,1,1)}static Random(){return new xe(Math.random(),Math.random(),Math.random())}toString(){return\"{R: \"+this.r+\" G:\"+this.g+\" B:\"+this.b+\"}\"}getClassName(){return\"Color3\"}getHashCode(){let t=this.r||0;return t=397*t^(this.g||0),t=397*t^(this.b||0),t}toArray(t,e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,this}toColor4(t=1){return new _e.Color4(this.r,this.g,this.b,t)}asArray(){const t=new Array;return this.toArray(t,0),t}toLuminance(){return.3*this.r+.59*this.g+.11*this.b}multiply(t){return new xe(this.r*t.r,this.g*t.g,this.b*t.b)}multiplyToRef(t,e){return e.r=this.r*t.r,e.g=this.g*t.g,e.b=this.b*t.b,this}equals(t){return t&&this.r===t.r&&this.g===t.g&&this.b===t.b}equalsFloats(t,e,n){return this.r===t&&this.g===e&&this.b===n}scale(t){return new xe(this.r*t,this.g*t,this.b*t)}scaleToRef(t,e){return e.r=this.r*t,e.g=this.g*t,e.b=this.b*t,this}scaleAndAddToRef(t,e){return e.r+=this.r*t,e.g+=this.g*t,e.b+=this.b*t,this}clampToRef(t=0,e=1,n){return n.r=be.Scalar.Clamp(this.r,t,e),n.g=be.Scalar.Clamp(this.g,t,e),n.b=be.Scalar.Clamp(this.b,t,e),this}add(t){return new xe(this.r+t.r,this.g+t.g,this.b+t.b)}addToRef(t,e){return e.r=this.r+t.r,e.g=this.g+t.g,e.b=this.b+t.b,this}subtract(t){return new xe(this.r-t.r,this.g-t.g,this.b-t.b)}subtractToRef(t,e){return e.r=this.r-t.r,e.g=this.g-t.g,e.b=this.b-t.b,this}clone(){return new xe(this.r,this.g,this.b)}copyFrom(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyFromFloats(t,e,n){return this.r=t,this.g=e,this.b=n,this}set(t,e,n){return this.copyFromFloats(t,e,n)}toHexString(){const t=255*this.r|0,e=255*this.g|0,n=255*this.b|0;return\"#\"+be.Scalar.ToHex(t)+be.Scalar.ToHex(e)+be.Scalar.ToHex(n)}toLinearSpace(){const t=new xe;return this.toLinearSpaceToRef(t),t}toLinearSpaceToRef(t){return t.r=Math.pow(this.r,ve.ToLinearSpace),t.g=Math.pow(this.g,ve.ToLinearSpace),t.b=Math.pow(this.b,ve.ToLinearSpace),this}toGammaSpace(){const t=new xe;return this.toGammaSpaceToRef(t),t}toGammaSpaceToRef(t){return t.r=Math.pow(this.r,ve.ToGammaSpace),t.g=Math.pow(this.g,ve.ToGammaSpace),t.b=Math.pow(this.b,ve.ToGammaSpace),this}toJSON(){return{r:this.r,g:this.g,b:this.b}}}ue.Color3=xe;var we={};Object.defineProperty(we,\"__esModule\",{value:!0}),we.Curve3=void 0;const Te=Tt;class Ae{constructor(t){this._length=0,this._points=t,this._length=this._computeLength(t)}static CreateQuadraticBezier(t,e,n,i){i=i>2?i:3;const o=new Array,r=(t,e,n,i)=>(1-t)*(1-t)*e+2*t*(1-t)*n+t*t*i;for(let s=0;s<=i;s++)o.push(new Te.Vector3(r(s/i,t.x,e.x,n.x),r(s/i,t.y,e.y,n.y),r(s/i,t.z,e.z,n.z)));return new Ae(o)}static CreateCubicBezier(t,e,n,i,o){o=o>3?o:4;const r=new Array,s=(t,e,n,i,o)=>(1-t)*(1-t)*(1-t)*e+3*t*(1-t)*(1-t)*n+3*t*t*(1-t)*i+t*t*t*o;for(let a=0;a<=o;a++)r.push(new Te.Vector3(s(a/o,t.x,e.x,n.x,i.x),s(a/o,t.y,e.y,n.y,i.y),s(a/o,t.z,e.z,n.z,i.z)));return new Ae(r)}static CreateHermiteSpline(t,e,n,i,o){const r=new Array,s=1/o;for(let a=0;a<=o;a++)r.push(Te.Vector3.Hermite(t,e,n,i,a*s));return new Ae(r)}static CreateCatmullRomSpline(t,e,n){const i=new Array,o=1/e;let r=0;if(n){const n=t.length;for(let s=0;s<n;s++){r=0;for(let a=0;a<e;a++)i.push(Te.Vector3.CatmullRom(t[s%n],t[(s+1)%n],t[(s+2)%n],t[(s+3)%n],r)),r+=o}i.push(i[0])}else{const n=new Array;n.push(t[0].clone()),Array.prototype.push.apply(n,t),n.push(t[t.length-1].clone());let s=0;for(s=0;s<n.length-3;s++){r=0;for(let t=0;t<e;t++)i.push(Te.Vector3.CatmullRom(n[s],n[s+1],n[s+2],n[s+3],r)),r+=o}s--,i.push(Te.Vector3.CatmullRom(n[s],n[s+1],n[s+2],n[s+3],r))}return new Ae(i)}getPoints(){return this._points}length(){return this._length}continue(t){const e=this._points[this._points.length-1],n=this._points.slice(),i=t.getPoints();for(let t=1;t<i.length;t++)n.push(i[t].subtract(i[0]).add(e));return new Ae(n)}_computeLength(t){let e=0;for(let n=1;n<t.length;n++)e+=t[n].subtract(t[n-1]).length();return e}}we.Curve3=Ae;var Re={},Se={};Object.defineProperty(Se,\"__esModule\",{value:!0}),Se.Plane=void 0;const Ce=Tt,Ee=Rt,Ie=xt;class ze{constructor(t,e,n,i){this.normal=new Ce.Vector3(t,e,n),this.d=i}static FromArray(t){return new ze(t[0],t[1],t[2],t[3])}static FromPoints(t,e,n){const i=new ze(0,0,0,0);return i.copyFromPoints(t,e,n),i}static FromPositionAndNormal(t,e){const n=new ze(0,0,0,0);return e.normalize(),n.normal=e,n.d=-(e.x*t.x+e.y*t.y+e.z*t.z),n}static SignedDistanceToPlaneFromPositionAndNormal(t,e,n){const i=-(e.x*t.x+e.y*t.y+e.z*t.z);return Ce.Vector3.Dot(n,e)+i}asArray(){return[this.normal.x,this.normal.y,this.normal.z,this.d]}clone(){return new ze(this.normal.x,this.normal.y,this.normal.z,this.d)}getClassName(){return\"Plane\"}getHashCode(){let t=this.normal.getHashCode();return t=397*t^(this.d||0),t}normalize(){const t=Math.sqrt(this.normal.x*this.normal.x+this.normal.y*this.normal.y+this.normal.z*this.normal.z);let e=0;return 0!==t&&(e=1/t),this.normal.x*=e,this.normal.y*=e,this.normal.z*=e,this.d*=e,this}transform(t){const e=Ie.MathTmp.Matrix[0];Ee.Matrix.TransposeToRef(t,e);const n=e.m,i=this.normal.x,o=this.normal.y,r=this.normal.z,s=this.d,a=i*n[0]+o*n[1]+r*n[2]+s*n[3],d=i*n[4]+o*n[5]+r*n[6]+s*n[7],h=i*n[8]+o*n[9]+r*n[10]+s*n[11],l=i*n[12]+o*n[13]+r*n[14]+s*n[15];return new ze(a,d,h,l)}dotCoordinate(t){return this.normal.x*t.x+this.normal.y*t.y+this.normal.z*t.z+this.d}copyFromPoints(t,e,n){const i=e.x-t.x,o=e.y-t.y,r=e.z-t.z,s=n.x-t.x,a=n.y-t.y,d=n.z-t.z,h=o*d-r*a,l=r*s-i*d,p=i*a-o*s,c=Math.sqrt(h*h+l*l+p*p);let u;return u=0!==c?1/c:0,this.normal.x=h*u,this.normal.y=l*u,this.normal.z=p*u,this.d=-(this.normal.x*t.x+this.normal.y*t.y+this.normal.z*t.z),this}isFrontFacingTo(t,e){return Ce.Vector3.Dot(this.normal,t)<=e}signedDistanceTo(t){return Ce.Vector3.Dot(t,this.normal)+this.d}}Se.Plane=ze,Object.defineProperty(Re,\"__esModule\",{value:!0}),Re.Frustum=void 0;const Oe=Se;class Me{static GetPlanes(t){const e=[];for(let t=0;t<6;t++)e.push(new Oe.Plane(0,0,0,0));return Me.GetPlanesToRef(t,e),e}static GetNearPlaneToRef(t,e){const n=t.m;e.normal.x=n[3]+n[2],e.normal.y=n[7]+n[6],e.normal.z=n[11]+n[10],e.d=n[15]+n[14],e.normalize()}static GetFarPlaneToRef(t,e){const n=t.m;e.normal.x=n[3]-n[2],e.normal.y=n[7]-n[6],e.normal.z=n[11]-n[10],e.d=n[15]-n[14],e.normalize()}static GetLeftPlaneToRef(t,e){const n=t.m;e.normal.x=n[3]+n[0],e.normal.y=n[7]+n[4],e.normal.z=n[11]+n[8],e.d=n[15]+n[12],e.normalize()}static GetRightPlaneToRef(t,e){const n=t.m;e.normal.x=n[3]-n[0],e.normal.y=n[7]-n[4],e.normal.z=n[11]-n[8],e.d=n[15]-n[12],e.normalize()}static GetTopPlaneToRef(t,e){const n=t.m;e.normal.x=n[3]-n[1],e.normal.y=n[7]-n[5],e.normal.z=n[11]-n[9],e.d=n[15]-n[13],e.normalize()}static GetBottomPlaneToRef(t,e){const n=t.m;e.normal.x=n[3]+n[1],e.normal.y=n[7]+n[5],e.normal.z=n[11]+n[9],e.d=n[15]+n[13],e.normalize()}static GetPlanesToRef(t,e){Me.GetNearPlaneToRef(t,e[0]),Me.GetFarPlaneToRef(t,e[1]),Me.GetLeftPlaneToRef(t,e[2]),Me.GetRightPlaneToRef(t,e[3]),Me.GetTopPlaneToRef(t,e[4]),Me.GetBottomPlaneToRef(t,e[5])}}Re.Frustum=Me;var Pe={};Object.defineProperty(Pe,\"__esModule\",{value:!0}),Pe.Path2=void 0;const Ne=ne,Fe=ee,Le=bt;class De{constructor(t,e){this.closed=!1,this._points=new Array,this._length=0,this._points.push(new Ne.Vector2(t,e))}static StartingAt(t,e){return new De(t,e)}addLineTo(t,e){if(this.closed)return this;const n=new Ne.Vector2(t,e),i=this._points[this._points.length-1];return this._points.push(n),this._length+=n.subtract(i).length(),this}addArcTo(t,e,n,i,o=36){if(this.closed)return this;const r=this._points[this._points.length-1],s=new Ne.Vector2(t,e),a=new Ne.Vector2(n,i),d=new Fe.Arc2(r,s,a);let h=d.angle.radians()/o;d.orientation===Le.Orientation.CW&&(h*=-1);let l=d.startAngle.radians()+h;for(let t=0;t<o;t++){const t=Math.cos(l)*d.radius+d.centerPoint.x,e=Math.sin(l)*d.radius+d.centerPoint.y;this.addLineTo(t,e),l+=h}return this}close(){return this.closed=!0,this}length(){let t=this._length;if(!this.closed){const e=this._points[this._points.length-1];t+=this._points[0].subtract(e).length()}return t}getPoints(){return this._points}getPointAtLengthPosition(t){if(t<0||t>1)return Ne.Vector2.Zero();const e=t*this.length();let n=0;for(let t=0;t<this._points.length;t++){const i=(t+1)%this._points.length,o=this._points[t],r=this._points[i].subtract(o),s=r.length()+n;if(e>=n&&e<=s){const t=r.normalize(),i=e-n;return new Ne.Vector2(o.x+t.x*i,o.y+t.y*i)}n=s}return Ne.Vector2.Zero()}}Pe.Path2=De;var Be={};Object.defineProperty(Be,\"__esModule\",{value:!0}),Be.Path3D=void 0;const Ue=Tt,Ve=bt,He=Ct;Be.Path3D=class{constructor(t,e=null,n){this.path=t,this._curve=new Array,this._distances=new Array,this._tangents=new Array,this._normals=new Array,this._binormals=new Array;for(let e=0;e<t.length;e++)this._curve[e]=t[e].clone();this._raw=n||!1,this._compute(e)}getCurve(){return this._curve}getTangents(){return this._tangents}getNormals(){return this._normals}getBinormals(){return this._binormals}getDistances(){return this._distances}update(t,e=null){for(let e=0;e<t.length;e++)this._curve[e].x=t[e].x,this._curve[e].y=t[e].y,this._curve[e].z=t[e].z;return this._compute(e),this}_compute(t){const e=this._curve.length;this._tangents[0]=this._getFirstNonNullVector(0),this._raw||this._tangents[0].normalize(),this._tangents[e-1]=this._curve[e-1].subtract(this._curve[e-2]),this._raw||this._tangents[e-1].normalize();const n=this._tangents[0],i=this._normalVector(this._curve[0],n,t);let o,r,s,a;this._normals[0]=i,this._raw||this._normals[0].normalize(),this._binormals[0]=Ue.Vector3.Cross(n,this._normals[0]),this._raw||this._binormals[0].normalize(),this._distances[0]=0;for(let t=1;t<e;t++)o=this._getLastNonNullVector(t),t<e-1&&(r=this._getFirstNonNullVector(t),this._tangents[t]=o.add(r),this._tangents[t].normalize()),this._distances[t]=this._distances[t-1]+o.length(),s=this._tangents[t],a=this._binormals[t-1],this._normals[t]=Ue.Vector3.Cross(a,s),this._raw||this._normals[t].normalize(),this._binormals[t]=Ue.Vector3.Cross(s,this._normals[t]),this._raw||this._binormals[t].normalize()}_getFirstNonNullVector(t){let e=1,n=this._curve[t+e].subtract(this._curve[t]);for(;0===n.length()&&t+e+1<this._curve.length;)e++,n=this._curve[t+e].subtract(this._curve[t]);return n}_getLastNonNullVector(t){let e=1,n=this._curve[t].subtract(this._curve[t-e]);for(;0===n.length()&&t>e+1;)e++,n=this._curve[t].subtract(this._curve[t-e]);return n}_normalVector(t,e,n){let i,o=e.length();if(0===o&&(o=1),null==n){let t;t=He.Scalar.WithinEpsilon(Math.abs(e.y)/o,1,Ve.Epsilon)?He.Scalar.WithinEpsilon(Math.abs(e.x)/o,1,Ve.Epsilon)?He.Scalar.WithinEpsilon(Math.abs(e.z)/o,1,Ve.Epsilon)?Ue.Vector3.Zero():new Ue.Vector3(0,0,1):new Ue.Vector3(1,0,0):new Ue.Vector3(0,-1,0),i=Ue.Vector3.Cross(e,t)}else i=Ue.Vector3.Cross(e,n),Ue.Vector3.CrossToRef(i,e,i);return i.normalize(),i}};var ke={};Object.defineProperty(ke,\"__esModule\",{value:!0}),ke.Size=void 0;class je{constructor(t,e){this.width=t,this.height=e}get surface(){return this.width*this.height}static Zero(){return new je(0,0)}static Lerp(t,e,n){const i=t.width+(e.width-t.width)*n,o=t.height+(e.height-t.height)*n;return new je(i,o)}toString(){return`{W: ${this.width}, H: ${this.height}}`}getClassName(){return\"Size\"}getHashCode(){let t=this.width||0;return t=397*t^(this.height||0),t}copyFrom(t){this.width=t.width,this.height=t.height}copyFromFloats(t,e){return this.width=t,this.height=e,this}set(t,e){return this.copyFromFloats(t,e)}multiplyByFloats(t,e){return new je(this.width*t,this.height*e)}clone(){return new je(this.width,this.height)}equals(t){return!!t&&(this.width===t.width&&this.height===t.height)}add(t){return new je(this.width+t.width,this.height+t.height)}subtract(t){return new je(this.width-t.width,this.height-t.height)}}ke.Size=je,function(t){var e=vt&&vt.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),n=vt&&vt.__exportStar||function(t,n){for(var i in t)\"default\"===i||Object.prototype.hasOwnProperty.call(n,i)||e(n,t,i)};Object.defineProperty(t,\"__esModule\",{value:!0}),n(bt,t),n(xt,t),n($t,t),n(ee,t),n(he,t),n(ce,t),n(ue,t),n(ye,t),n(we,t),n(Re,t),n(Rt,t),n(Pe,t),n(Be,t),n(Se,t),n(At,t),n(Ct,t),n(ke,t),n(ne,t),n(Tt,t),n(St,t),n(_t,t)}(_t);var Ge,qe,We={looping:!0,speed:1,weight:1,layer:0},Ye=function(t){function e(e,n){void 0===n&&(n=We);var i=t.call(this)||this;return i.isAnimationClip=!0,i.looping=We.looping,i.weight=We.weight,i.playing=!1,i.shouldReset=!1,i.speed=We.speed,i.name=f(\"AnimClip\"),i.layer=We.layer,i.clip=e,i.setParams(o({},n)),i}return i(e,t),e.prototype.setParams=function(t){return this.looping=void 0!==t.looping?t.looping:this.looping,this.speed=t.speed||this.speed,this.weight=t.weight||this.weight,this.layer=t.layer||this.layer,this},e.prototype.toJSON=function(){var e=JSON.parse(JSON.stringify(t.prototype.toJSON.call(this)));return this.shouldReset&&(this.shouldReset=!1),e},e.prototype.play=function(t){var e;void 0===t&&(t=!1),null===(e=this.owner)||void 0===e||e.play(this,t)},e.prototype.pause=function(){var t;null===(t=this.owner)||void 0===t||t.pause(this)},e.prototype.reset=function(){this.shouldReset=!0},e.prototype.stop=function(){var t;null===(t=this.owner)||void 0===t||t.stop(this)},r([B.readonly,s(\"design:type\",String)],e.prototype,\"clip\",void 0),r([B.field,s(\"design:type\",Boolean)],e.prototype,\"looping\",void 0),r([B.field,s(\"design:type\",Number)],e.prototype,\"weight\",void 0),r([B.field,s(\"design:type\",Boolean)],e.prototype,\"playing\",void 0),r([B.field,s(\"design:type\",Boolean)],e.prototype,\"shouldReset\",void 0),r([B.field,s(\"design:type\",Number)],e.prototype,\"speed\",void 0),r([B.readonly,s(\"design:type\",String)],e.prototype,\"name\",void 0),e}(B);t.InputEventType=void 0,(Ge=t.InputEventType||(t.InputEventType={}))[Ge.DOWN=0]=\"DOWN\",Ge[Ge.UP=1]=\"UP\",t.CameraMode=void 0,(qe=t.CameraMode||(t.CameraMode={}))[qe.FirstPerson=0]=\"FirstPerson\",qe[qe.ThirdPerson=1]=\"ThirdPerson\",qe[qe.BuildingToolGodMode=2]=\"BuildingToolGodMode\";var Xe,Qe;t.LandRole=void 0,(Xe=t.LandRole||(t.LandRole={})).OWNER=\"owner\",Xe.OPERATOR=\"operator\",t.ActionButton=void 0,(Qe=t.ActionButton||(t.ActionButton={})).POINTER=\"POINTER\",Qe.PRIMARY=\"PRIMARY\",Qe.SECONDARY=\"SECONDARY\",Qe.ANY=\"ANY\",Qe.FORWARD=\"FORWARD\",Qe.BACKWARD=\"BACKWARD\",Qe.RIGHT=\"RIGHT\",Qe.LEFT=\"LEFT\",Qe.JUMP=\"JUMP\",Qe.WALK=\"WALK\",Qe.ACTION_3=\"ACTION_3\",Qe.ACTION_4=\"ACTION_4\",Qe.ACTION_5=\"ACTION_5\",Qe.ACTION_6=\"ACTION_6\";var Ze,Je,Ke=function(t){if(this.callback=t,!t||!(\"apply\"in t)||!(\"call\"in t))throw new Error(\"Callback is not a function\");nn.ensureInstance()},$e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e=r([P(\"pointerDown\")],e)}(Ke),tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e=r([P(\"pointerUp\")],e)}(Ke),en=function(t,e){this.fn=t,this.useRaycast=e},nn=function(){function e(){this.buttonIdMapping=[t.ActionButton.POINTER,t.ActionButton.PRIMARY,t.ActionButton.SECONDARY,t.ActionButton.ANY,t.ActionButton.FORWARD,t.ActionButton.BACKWARD,t.ActionButton.RIGHT,t.ActionButton.LEFT,t.ActionButton.JUMP,t.ActionButton.WALK,t.ActionButton.ACTION_3,t.ActionButton.ACTION_4,t.ActionButton.ACTION_5,t.ActionButton.ACTION_6],this.subscriptions=this.buttonIdMapping.reduce((function(t,e){var n;return o(o({},t),((n={})[e]={BUTTON_DOWN:[],BUTTON_UP:[]},n))}),{}),this.internalState=this.buttonIdMapping.reduce((function(t,e){var n;return o(o({},t),((n={})[e]={BUTTON_DOWN:!1},n))}),{})}return Object.defineProperty(e,\"instance\",{get:function(){return e.ensureInstance(),e._instance},enumerable:!1,configurable:!0}),e.ensureInstance=function(){e._instance||(e._instance=new e)},e.prototype.isButtonPressed=function(t){return this.internalState[t]},e.prototype.subscribe=function(t,e,n,i){var o=this;return this.subscriptions[e][t].push(new en(i,n)),function(){o.unsubscribe(t,e,i)}},e.prototype.unsubscribe=function(t,e,n){var i=this.getSubscriptionId(t,e,n);return i>-1&&this.subscriptions[e][t].splice(i,1)},e.prototype.handlePointerEvent=function(e){var n=this.getPointerById(e.buttonId);if(n){var i=o(o({},e),{button:n,direction:(new _t.Vector3).copyFrom(e.direction),origin:(new _t.Vector3).copyFrom(e.origin),hit:void 0}),r=e.hit?o(o({},e.hit),{hitPoint:(new _t.Vector3).copyFrom(e.hit.hitPoint),normal:(new _t.Vector3).copyFrom(e.hit.normal),worldNormal:(new _t.Vector3).copyFrom(e.hit.worldNormal)}):void 0;if(e.type===t.InputEventType.DOWN){this.internalState[n].BUTTON_DOWN=!0;for(var s=0;s<this.subscriptions[n].BUTTON_DOWN.length;s++){(a=this.subscriptions[n].BUTTON_DOWN[s]).useRaycast?i.hit=r:i.hit=void 0,a.fn(i)}if(r&&r.entityId&&N.engine)(h=(d=N.engine.entities[r.entityId])&&d.getComponentOrNull($e))&&(i.hit=r,h.callback(i))}else{this.internalState[n].BUTTON_DOWN=!1;for(s=0;s<this.subscriptions[n].BUTTON_UP.length;s++){var a;(a=this.subscriptions[n].BUTTON_UP[s]).useRaycast?i.hit=r:i.hit=void 0,a.fn(i)}var d,h;if(r&&r.entityId&&N.engine)(h=(d=N.engine.entities[r.entityId])&&d.getComponentOrNull(tn))&&(i.hit=r,h.callback(i))}}},e.prototype.getSubscriptionId=function(t,e,n){for(var i=0;i<this.subscriptions[e][t].length;i++)if(this.subscriptions[e][t][i].fn===n)return i;return-1},e.prototype.getPointerById=function(e){if(e<0||e>=this.buttonIdMapping.length)return null;var n=this.buttonIdMapping[e];return n===t.ActionButton.ANY?null:n},e}();t.CLASS_ID=void 0,(Ze=t.CLASS_ID||(t.CLASS_ID={}))[Ze.TRANSFORM=1]=\"TRANSFORM\",Ze[Ze.UUID_CALLBACK=8]=\"UUID_CALLBACK\",Ze[Ze.BOX_SHAPE=16]=\"BOX_SHAPE\",Ze[Ze.SPHERE_SHAPE=17]=\"SPHERE_SHAPE\",Ze[Ze.PLANE_SHAPE=18]=\"PLANE_SHAPE\",Ze[Ze.CONE_SHAPE=19]=\"CONE_SHAPE\",Ze[Ze.CYLINDER_SHAPE=20]=\"CYLINDER_SHAPE\",Ze[Ze.TEXT_SHAPE=21]=\"TEXT_SHAPE\",Ze[Ze.NFT_SHAPE=22]=\"NFT_SHAPE\",Ze[Ze.UI_WORLD_SPACE_SHAPE=23]=\"UI_WORLD_SPACE_SHAPE\",Ze[Ze.UI_SCREEN_SPACE_SHAPE=24]=\"UI_SCREEN_SPACE_SHAPE\",Ze[Ze.UI_CONTAINER_RECT=25]=\"UI_CONTAINER_RECT\",Ze[Ze.UI_CONTAINER_STACK=26]=\"UI_CONTAINER_STACK\",Ze[Ze.UI_TEXT_SHAPE=27]=\"UI_TEXT_SHAPE\",Ze[Ze.UI_INPUT_TEXT_SHAPE=28]=\"UI_INPUT_TEXT_SHAPE\",Ze[Ze.UI_IMAGE_SHAPE=29]=\"UI_IMAGE_SHAPE\",Ze[Ze.UI_SLIDER_SHAPE=30]=\"UI_SLIDER_SHAPE\",Ze[Ze.CIRCLE_SHAPE=31]=\"CIRCLE_SHAPE\",Ze[Ze.BILLBOARD=32]=\"BILLBOARD\",Ze[Ze.ANIMATION=33]=\"ANIMATION\",Ze[Ze.FONT=34]=\"FONT\",Ze[Ze.UI_FULLSCREEN_SHAPE=40]=\"UI_FULLSCREEN_SHAPE\",Ze[Ze.UI_BUTTON_SHAPE=41]=\"UI_BUTTON_SHAPE\",Ze[Ze.GLTF_SHAPE=54]=\"GLTF_SHAPE\",Ze[Ze.OBJ_SHAPE=55]=\"OBJ_SHAPE\",Ze[Ze.AVATAR_SHAPE=56]=\"AVATAR_SHAPE\",Ze[Ze.BASIC_MATERIAL=64]=\"BASIC_MATERIAL\",Ze[Ze.PBR_MATERIAL=65]=\"PBR_MATERIAL\",Ze[Ze.HIGHLIGHT_ENTITY=66]=\"HIGHLIGHT_ENTITY\",Ze[Ze.SOUND=67]=\"SOUND\",Ze[Ze.TEXTURE=68]=\"TEXTURE\",Ze[Ze.VIDEO_CLIP=70]=\"VIDEO_CLIP\",Ze[Ze.VIDEO_TEXTURE=71]=\"VIDEO_TEXTURE\",Ze[Ze.AVATAR_TEXTURE=72]=\"AVATAR_TEXTURE\",Ze[Ze.AUDIO_CLIP=200]=\"AUDIO_CLIP\",Ze[Ze.AUDIO_SOURCE=201]=\"AUDIO_SOURCE\",Ze[Ze.AUDIO_STREAM=202]=\"AUDIO_STREAM\",Ze[Ze.GIZMOS=203]=\"GIZMOS\",Ze[Ze.SMART_ITEM=204]=\"SMART_ITEM\",Ze[Ze.AVATAR_MODIFIER_AREA=205]=\"AVATAR_MODIFIER_AREA\",Ze[Ze.AVATAR_ATTACH=206]=\"AVATAR_ATTACH\",Ze[Ze.CAMERA_MODE_AREA=207]=\"CAMERA_MODE_AREA\",Ze[Ze.NAME=300]=\"NAME\",Ze[Ze.LOCKED_ON_EDIT=301]=\"LOCKED_ON_EDIT\",Ze[Ze.VISIBLE_ON_EDIT=302]=\"VISIBLE_ON_EDIT\",t.AvatarModifiers=void 0,(Je=t.AvatarModifiers||(t.AvatarModifiers={})).HIDE_AVATARS=\"HIDE_AVATARS\",Je.DISABLE_PASSPORTS=\"DISABLE_PASSPORTS\";var on,rn=function(e){function n(t){var n=e.call(this)||this;return n.area=t.area,n.modifiers=t.modifiers,n.excludeIds=t.excludeIds,n}return i(n,e),r([B.field,s(\"design:type\",Object)],n.prototype,\"area\",void 0),r([B.field,s(\"design:type\",Array)],n.prototype,\"modifiers\",void 0),r([B.field,s(\"design:type\",Array)],n.prototype,\"excludeIds\",void 0),n=r([P(\"engine.avatarModifierArea\",t.CLASS_ID.AVATAR_MODIFIER_AREA),s(\"design:paramtypes\",[Object])],n)}(B),sn=function(e){function n(t){void 0===t&&(t={});var n=e.call(this)||this;return n.position=t.position||_t.Vector3.Zero(),n.rotation=t.rotation||_t.Quaternion.Identity,n.scale=t.scale||new _t.Vector3(1,1,1),n}return i(n,e),Object.defineProperty(n.prototype,\"eulerAngles\",{get:function(){return this.rotation.eulerAngles},enumerable:!1,configurable:!0}),n.prototype.lookAt=function(t,e){void 0===e&&(e=_t.MathTmp.staticUp);var n=new _t.Matrix;return _t.Matrix.LookAtLHToRef(this.position,t,e,n),n.invert(),_t.Quaternion.FromRotationMatrixToRef(n,this.rotation),this},n.prototype.rotate=function(t,e){return this.rotation.multiplyInPlace(this.rotation.angleAxis(e,t)),this},n.prototype.translate=function(t){return this.position.addInPlace(t),this},r([B.field,s(\"design:type\",_t.Vector3)],n.prototype,\"position\",void 0),r([B.field,s(\"design:type\",_t.Quaternion)],n.prototype,\"rotation\",void 0),r([B.field,s(\"design:type\",_t.Vector3)],n.prototype,\"scale\",void 0),n=r([P(\"engine.transform\",t.CLASS_ID.TRANSFORM),s(\"design:paramtypes\",[Object])],n)}(B);t.AttachToAvatarAnchorPointId=void 0,(on=t.AttachToAvatarAnchorPointId||(t.AttachToAvatarAnchorPointId={}))[on.Position=0]=\"Position\",on[on.NameTag=1]=\"NameTag\",on[on.LeftHand=2]=\"LeftHand\",on[on.RightHand=3]=\"RightHand\";var an,dn=function(e){function n(n){void 0===n&&(n={});var i=e.call(this)||this;return i.avatarId=n.avatarId||\"\",i.anchorPointId=n.anchorPointId||t.AttachToAvatarAnchorPointId.Position,i}return i(n,e),r([B.field,s(\"design:type\",String)],n.prototype,\"avatarId\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"anchorPointId\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"avatarSceneId\",void 0),n=r([P(\"engine.transform\",t.CLASS_ID.AVATAR_ATTACH),s(\"design:paramtypes\",[Object])],n)}(B),hn=function(e){function n(t,n,i){void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=!0);var o=e.call(this)||this;return o.x=!0,o.y=!0,o.z=!0,o.x=t,o.y=n,o.z=i,o}return i(n,e),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"x\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"y\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"z\",void 0),n=r([P(\"engine.billboard\",t.CLASS_ID.BILLBOARD),s(\"design:paramtypes\",[Boolean,Boolean,Boolean])],n)}(B),ln=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.withCollisions=!0,e.isPointerBlocker=!0,e.visible=!0,e}return i(e,t),r([B.field,s(\"design:type\",Boolean)],e.prototype,\"withCollisions\",void 0),r([B.field,s(\"design:type\",Boolean)],e.prototype,\"isPointerBlocker\",void 0),r([B.field,s(\"design:type\",Boolean)],e.prototype,\"visible\",void 0),e}(B),pn=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),r([B.field,s(\"design:type\",Array)],n.prototype,\"uvs\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.BOX_SHAPE)],n)}(ln),cn=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n=r([N(\"engine.shape\",t.CLASS_ID.SPHERE_SHAPE)],n)}(ln),un=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"segments\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"arc\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.CIRCLE_SHAPE)],n)}(ln),yn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=1,t.height=1,t}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"width\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"height\",void 0),r([B.field,s(\"design:type\",Array)],n.prototype,\"uvs\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.PLANE_SHAPE)],n)}(ln),fn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.radiusTop=0,t.radiusBottom=1,t.segmentsHeight=1,t.segmentsRadial=36,t.openEnded=!1,t.radius=null,t.arc=360,t}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"radiusTop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"radiusBottom\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"segmentsHeight\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"segmentsRadial\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"openEnded\",void 0),r([B.field,s(\"design:type\",Object)],n.prototype,\"radius\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"arc\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.CONE_SHAPE)],n)}(ln),mn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.radiusTop=1,t.radiusBottom=1,t.segmentsHeight=1,t.segmentsRadial=36,t.openEnded=!1,t.radius=null,t.arc=360,t}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"radiusTop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"radiusBottom\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"segmentsHeight\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"segmentsRadial\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"openEnded\",void 0),r([B.field,s(\"design:type\",Object)],n.prototype,\"radius\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"arc\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.CYLINDER_SHAPE)],n)}(ln),gn=function(e){function n(t){var n=e.call(this)||this;return n.src=t,n}return i(n,e),r([ln.readonly,s(\"design:type\",String)],n.prototype,\"src\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.GLTF_SHAPE),s(\"design:paramtypes\",[String])],n)}(ln);t.PictureFrameStyle=void 0,(an=t.PictureFrameStyle||(t.PictureFrameStyle={}))[an.Classic=0]=\"Classic\",an[an.Baroque_Ornament=1]=\"Baroque_Ornament\",an[an.Diamond_Ornament=2]=\"Diamond_Ornament\",an[an.Minimal_Wide=3]=\"Minimal_Wide\",an[an.Minimal_Grey=4]=\"Minimal_Grey\",an[an.Blocky=5]=\"Blocky\",an[an.Gold_Edges=6]=\"Gold_Edges\",an[an.Gold_Carved=7]=\"Gold_Carved\",an[an.Gold_Wide=8]=\"Gold_Wide\",an[an.Gold_Rounded=9]=\"Gold_Rounded\",an[an.Metal_Medium=10]=\"Metal_Medium\",an[an.Metal_Wide=11]=\"Metal_Wide\",an[an.Metal_Slim=12]=\"Metal_Slim\",an[an.Metal_Rounded=13]=\"Metal_Rounded\",an[an.Pins=14]=\"Pins\",an[an.Minimal_Black=15]=\"Minimal_Black\",an[an.Minimal_White=16]=\"Minimal_White\",an[an.Tape=17]=\"Tape\",an[an.Wood_Slim=18]=\"Wood_Slim\",an[an.Wood_Wide=19]=\"Wood_Wide\",an[an.Wood_Twigs=20]=\"Wood_Twigs\",an[an.Canvas=21]=\"Canvas\",an[an.None=22]=\"None\";var vn,_n=function(e){function n(n,i){void 0===i&&(i={});var o=e.call(this)||this;o.src=n;var r=new _t.Color3(.6404918,.611472,.8584906),s=t.PictureFrameStyle.Classic;return\"r\"in i?r=i:null!==i&&(i.color&&(r=i.color),i.style&&(s=i.style)),o.color=r,o.style=s,o}return i(n,e),r([ln.readonly,s(\"design:type\",String)],n.prototype,\"src\",void 0),r([ln.readonly,s(\"design:type\",Number)],n.prototype,\"style\",void 0),r([B.field,s(\"design:type\",_t.Color3)],n.prototype,\"color\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.NFT_SHAPE),s(\"design:paramtypes\",[String,Object])],n)}(ln),bn=function(e){function n(t,n){var i=e.call(this)||this,o=new RegExp(\"data:[a-z-]+/[a-z-]+;base64\");if((t.length>2048||o.test(t))&&u(\"⚠️🚨 Base64 textures will be deprecated in version 7 of decentraland-ecs\"),i.src=t,n)for(var r in n){i[r]=n[r]}return i}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"src\",void 0),r([B.readonly,s(\"design:type\",Number)],n.prototype,\"samplingMode\",void 0),r([B.readonly,s(\"design:type\",Number)],n.prototype,\"wrap\",void 0),r([B.readonly,s(\"design:type\",Boolean)],n.prototype,\"hasAlpha\",void 0),n=r([N(\"engine.texture\",t.CLASS_ID.TEXTURE),s(\"design:paramtypes\",[String,Object])],n)}(B),xn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.states=[],t}return i(n,e),n.prototype.addClip=function(t){var e=this;return this.states.push(t),t.onChange((function(){e.dirty=!0})),t.owner=this,this},n.prototype.getClip=function(t){for(var e=0;e<this.states.length;e++){var n=this.states[e];if(n.clip===t)return n}var i=new Ye(t);return this.addClip(i),i},n.prototype.stop=function(t){if(t)t.playing=!1,t.shouldReset=!0;else for(var e=0;e<this.states.length;e++){var n=this.states[e];this.stop(n)}},n.prototype.play=function(t,e){void 0===e&&(e=!1);for(var n=0;n<this.states.length;n++){var i=this.states[n];i.layer===t.layer&&t!==i&&this.pause(i)}e&&(t.shouldReset=!0),t.playing=!0,t.dirty=!0,t.data.nonce=Math.random()},n.prototype.pause=function(t){if(t)t.playing=!1;else for(var e=0;e<this.states.length;e++){var n=this.states[e];this.pause(n)}},r([B.readonly,s(\"design:type\",Array)],n.prototype,\"states\",void 0),n=r([P(\"engine.animator\",t.CLASS_ID.ANIMATION)],n)}(ln),wn=function(e){function n(t){var n=e.call(this)||this;return n.src=t,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"src\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.OBJ_SHAPE),s(\"design:paramtypes\",[String])],n)}(ln),Tn=function(e){function n(t){void 0===t&&(t=\"\");var n=e.call(this)||this;return n.src=t,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"src\",void 0),n=r([N(\"engine.font\",t.CLASS_ID.FONT),s(\"design:paramtypes\",[String])],n)}(B);t.Fonts=void 0,(vn=t.Fonts||(t.Fonts={})).SanFrancisco=\"builtin:SF-UI-Text-Regular SDF\",vn.SanFrancisco_Heavy=\"builtin:SF-UI-Text-Heavy SDF\",vn.SanFrancisco_Semibold=\"builtin:SF-UI-Text-Semibold SDF\",vn.LiberationSans=\"builtin:LiberationSans SDF\",vn.SansSerif=\"SansSerif\",vn.SansSerif_Heavy=\"SansSerif_Heavy\",vn.SansSerif_Bold=\"SansSerif_Bold\",vn.SansSerif_SemiBold=\"SansSerif_SemiBold\";var An,Rn=function(e){function n(t){var n=e.call(this)||this;return n.outlineWidth=0,n.outlineColor=new _t.Color3(1,1,1),n.color=new _t.Color3(1,1,1),n.fontSize=10,n.opacity=1,n.value=\"\",n.lineSpacing=\"0px\",n.lineCount=0,n.textWrapping=!1,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=new _t.Color3(1,1,1),n.hTextAlign=\"center\",n.vTextAlign=\"center\",n.width=1,n.height=1,n.paddingTop=0,n.paddingRight=0,n.paddingBottom=0,n.paddingLeft=0,n.billboard=!1,n.visible=!0,t&&(n.value=t),n}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"outlineWidth\",void 0),r([B.field,s(\"design:type\",_t.Color3)],n.prototype,\"outlineColor\",void 0),r([B.field,s(\"design:type\",_t.Color3)],n.prototype,\"color\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"fontSize\",void 0),r([B.component,s(\"design:type\",Tn)],n.prototype,\"font\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"opacity\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"value\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"lineSpacing\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"lineCount\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"textWrapping\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowBlur\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowOffsetX\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowOffsetY\",void 0),r([B.field,s(\"design:type\",_t.Color3)],n.prototype,\"shadowColor\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"hTextAlign\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"vTextAlign\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"width\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"height\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingTop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingRight\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingBottom\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingLeft\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"billboard\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"visible\",void 0),n=r([P(\"engine.text\",t.CLASS_ID.TEXT_SHAPE),s(\"design:paramtypes\",[String])],n)}(B);t.TransparencyMode=void 0,(An=t.TransparencyMode||(t.TransparencyMode={}))[An.OPAQUE=0]=\"OPAQUE\",An[An.ALPHA_TEST=1]=\"ALPHA_TEST\",An[An.ALPHA_BLEND=2]=\"ALPHA_BLEND\",An[An.ALPHA_TEST_AND_BLEND=3]=\"ALPHA_TEST_AND_BLEND\",An[An.AUTO=4]=\"AUTO\";var Sn,Cn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.alphaTest=.5,n.castShadows=!0,n.transparencyMode=t.TransparencyMode.AUTO,n}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"alphaTest\",void 0),r([B.field,s(\"design:type\",Object)],n.prototype,\"albedoColor\",void 0),r([B.field,s(\"design:type\",_t.Color3)],n.prototype,\"emissiveColor\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"metallic\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"roughness\",void 0),r([B.field,s(\"design:type\",_t.Color3)],n.prototype,\"reflectivityColor\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"directIntensity\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"microSurface\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"emissiveIntensity\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"specularIntensity\",void 0),r([B.component,s(\"design:type\",Object)],n.prototype,\"albedoTexture\",void 0),r([B.component,s(\"design:type\",Object)],n.prototype,\"alphaTexture\",void 0),r([B.component,s(\"design:type\",Object)],n.prototype,\"emissiveTexture\",void 0),r([B.component,s(\"design:type\",Object)],n.prototype,\"bumpTexture\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"castShadows\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"transparencyMode\",void 0),n=r([N(\"engine.material\",t.CLASS_ID.PBR_MATERIAL)],n)}(B),En=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.alphaTest=.5,t.castShadows=!0,t}return i(n,e),r([B.component,s(\"design:type\",Object)],n.prototype,\"texture\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"alphaTest\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"castShadows\",void 0),n=r([N(\"engine.material\",t.CLASS_ID.BASIC_MATERIAL)],n)}(B),In=function(t){function e(e){var n=t.call(this)||this;if(n.uuid=f(\"UUID\"),!e||!(\"apply\"in e)||!(\"call\"in e))throw new Error(\"Callback is not a function\");return n.callback=e,n}return i(e,t),e.uuidEvent=function(t,n){if(delete t[n]){var i=n+\"_\"+Math.random();t[i]=void 0,Object.defineProperty(t,i,o(o({},Object.getOwnPropertyDescriptor(t,i)),{enumerable:!1})),Object.defineProperty(t,n.toString(),{get:function(){return this[i]},set:function(t){var o=this[i];if(t){if(!(t instanceof e))throw new Error(\"value is not an OnUUIDEvent\");this.data[n]=t.uuid}else this.data[n]=null;if(this[i]=t,t!==o){this.dirty=!0;for(var r=0;r<this.subscriptions.length;r++)this.subscriptions[r](n,t,o)}},enumerable:!0})}},e.prototype.toJSON=function(){return{uuid:this.uuid,type:this.type}},r([B.field,s(\"design:type\",Function)],e.prototype,\"callback\",void 0),e}(B),zn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.button=t.ActionButton.ANY,n.hoverText=\"Interact\",n.distance=10,n.showFeedback=!0,n}return i(n,e),n.prototype.toJSON=function(){return{uuid:this.uuid,type:this.type,button:this.button,hoverText:this.hoverText,distance:this.distance,showFeedback:this.showFeedback}},r([B.field,s(\"design:type\",String)],n.prototype,\"button\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"hoverText\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"distance\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"showFeedback\",void 0),n}(In),On=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=\"onPointerLock\",t}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.onPointerLock\",t.CLASS_ID.UUID_CALLBACK)],n)}(In),Mn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=\"onAnimationEnd\",t}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.onAnimationEnd\",t.CLASS_ID.UUID_CALLBACK)],n)}(In),Pn=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n=r([P(\"engine.smartItem\",t.CLASS_ID.SMART_ITEM)],n)}(B),Nn=function(e){function n(t){var n=e.call(this)||this;return n.url=t,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"url\",void 0),n=r([N(\"engine.VideoClip\",t.CLASS_ID.VIDEO_CLIP),s(\"design:paramtypes\",[String])],n)}(B);t.VideoStatus=void 0,(Sn=t.VideoStatus||(t.VideoStatus={}))[Sn.NONE=0]=\"NONE\",Sn[Sn.ERROR=1]=\"ERROR\",Sn[Sn.LOADING=2]=\"LOADING\",Sn[Sn.READY=3]=\"READY\",Sn[Sn.PLAYING=4]=\"PLAYING\",Sn[Sn.BUFFERING=5]=\"BUFFERING\";var Fn,Ln=function(e){function n(n,i){var o=e.call(this)||this;if(o.volume=1,o.playbackRate=1,o.loop=!1,o.seek=-1,o._position=-1,o._videoLength=-1,o._status=t.VideoStatus.NONE,o.playing=!1,!(n instanceof Nn))throw new Error(\"Trying to create VideoTexture(VideoClip) with an invalid VideoClip\");if(o.videoClipId=D(n),i)for(var r in i){o[r]=i[r]}return o}return i(n,e),n.prototype.play=function(){this.playing=!0},n.prototype.pause=function(){this.playing=!1},n.prototype.reset=function(){this.seekTime(0),this.pause()},n.prototype.seekTime=function(t){this.seek=t,this.dirty=!0,this.data.nonce=Math.random()},n.prototype.toJSON=function(){if(this.seek>=0){var t=JSON.parse(JSON.stringify(e.prototype.toJSON.call(this)));return this.seek=-1,t}return e.prototype.toJSON.call(this)},n.prototype.update=function(e){e.videoClipId===this.videoClipId&&(this._status=e.videoStatus||t.VideoStatus.NONE,this._videoLength=e.totalVideoLength,this._position=e.currentOffset)},Object.defineProperty(n.prototype,\"position\",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\"videoLength\",{get:function(){return this._videoLength},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,\"status\",{get:function(){return this._status},enumerable:!1,configurable:!0}),r([B.readonly,s(\"design:type\",String)],n.prototype,\"videoClipId\",void 0),r([B.readonly,s(\"design:type\",Number)],n.prototype,\"samplingMode\",void 0),r([B.readonly,s(\"design:type\",Number)],n.prototype,\"wrap\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"volume\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"playbackRate\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"loop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"seek\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"playing\",void 0),n=r([N(\"engine.VideoTexture\",t.CLASS_ID.VIDEO_TEXTURE),s(\"design:paramtypes\",[Nn,Object])],n)}(B),Dn=function(e){function n(t){var n=e.call(this)||this;return n.area=t.area,n.cameraMode=t.cameraMode,n}return i(n,e),r([B.field,s(\"design:type\",Object)],n.prototype,\"area\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"cameraMode\",void 0),n=r([P(\"engine.cameraModeArea\",t.CLASS_ID.CAMERA_MODE_AREA),s(\"design:paramtypes\",[Object])],n)}(B),Bn=function(e){function n(t,n){var i=e.call(this)||this;if(i.userId=t,n)for(var o in n){i[o]=n[o]}return i}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"userId\",void 0),r([B.readonly,s(\"design:type\",Number)],n.prototype,\"samplingMode\",void 0),r([B.readonly,s(\"design:type\",Number)],n.prototype,\"wrap\",void 0),r([B.readonly,s(\"design:type\",Boolean)],n.prototype,\"hasAlpha\",void 0),n=r([N(\"engine.texture\",t.CLASS_ID.AVATAR_TEXTURE),s(\"design:paramtypes\",[String,Object])],n)}(B),Un=function(){function e(){var e=this;this.position=new _t.Vector3,this.rotation=new _t.Quaternion,this.feetPosition=new _t.Vector3,this.worldPosition=new _t.Vector3,this.lastEventPosition={x:0,y:0,z:0},this.lastEventWorldPosition={x:0,y:0,z:0},this.lastEventRotation={x:0,y:0,z:0,w:1},this._playerHeight=1.6,this._cameraMode=t.CameraMode.ThirdPerson,\"undefined\"!=typeof dcl&&(dcl.subscribe(\"positionChanged\"),dcl.subscribe(\"rotationChanged\"),dcl.subscribe(\"cameraModeChanged\"),dcl.onEvent((function(t){switch(t.type){case\"positionChanged\":e.positionChanged(t.data);break;case\"rotationChanged\":e.rotationChanged(t.data);break;case\"cameraModeChanged\":e.cameraModeChanged(t.data)}}))),Object.defineProperty(this.position,\"x\",{get:function(){return e.lastEventPosition.x}}),Object.defineProperty(this.position,\"y\",{get:function(){return e.lastEventPosition.y}}),Object.defineProperty(this.position,\"z\",{get:function(){return e.lastEventPosition.z}}),Object.defineProperty(this.worldPosition,\"x\",{get:function(){return e.lastEventWorldPosition.x}}),Object.defineProperty(this.worldPosition,\"y\",{get:function(){return e.lastEventWorldPosition.y}}),Object.defineProperty(this.worldPosition,\"z\",{get:function(){return e.lastEventWorldPosition.z}}),Object.defineProperty(this.feetPosition,\"x\",{get:function(){return e.lastEventPosition.x}}),Object.defineProperty(this.feetPosition,\"y\",{get:function(){return e.lastEventPosition.y-e.playerHeight}}),Object.defineProperty(this.feetPosition,\"z\",{get:function(){return e.lastEventPosition.z}}),Object.defineProperty(this.rotation,\"x\",{get:function(){return e.lastEventRotation.x}}),Object.defineProperty(this.rotation,\"y\",{get:function(){return e.lastEventRotation.y}}),Object.defineProperty(this.rotation,\"z\",{get:function(){return e.lastEventRotation.z}}),Object.defineProperty(this.rotation,\"w\",{get:function(){return e.lastEventRotation.w}})}return Object.defineProperty(e,\"instance\",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"playerHeight\",{get:function(){return this._playerHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"cameraMode\",{get:function(){return this._cameraMode},enumerable:!1,configurable:!0}),e.prototype.positionChanged=function(t){this.lastEventPosition=t.position,this.lastEventWorldPosition=t.cameraPosition,this._playerHeight=t.playerHeight},e.prototype.rotationChanged=function(t){this.lastEventRotation=t.quaternion},e.prototype.cameraModeChanged=function(t){this._cameraMode=t.cameraMode},e}();!function(t){t.HitFirst=\"rqhf\",t.HitAll=\"rqha\"}(Fn||(Fn={}));var Vn,Hn=function(){function t(){this.queries={}}return Object.defineProperty(t,\"instance\",{get:function(){return t.ensureInstance(),t._instance},enumerable:!1,configurable:!0}),t.ensureInstance=function(){t._instance||(t._instance=new t)},t.prototype.getRayFromCamera=function(t){var e=Un.instance.rotation,n=_t.Matrix.Identity();e.toRotationMatrix(n);var i=_t.Vector3.TransformCoordinates(_t.Vector3.Forward(),n);return{origin:Un.instance.position,direction:i,distance:t}},t.prototype.getRayFromPositions=function(t,e){var n=e.subtract(t),i=n.length();return{origin:t,direction:n.normalize(),distance:i}},t.prototype.hitFirst=function(t,e,n){var i=\"number\"==typeof n?Fn.HitFirst+n:m();this.queries[i]=e,\"undefined\"!=typeof dcl&&dcl.query(\"raycast\",{queryId:i,queryType:\"HitFirst\",ray:t})},t.prototype.hitAll=function(t,e,n){var i=\"number\"==typeof n?Fn.HitAll+n:m();this.queries[i]=e,\"undefined\"!=typeof dcl&&dcl.query(\"raycast\",{queryId:i,queryType:\"HitAll\",ray:t})},t.prototype.hitFirstAvatar=function(t,e){u(\"not implemented yet\")},t.prototype.hitAllAvatars=function(t,e){u(\"not implemented yet\")},t.prototype.handleRaycastHitFirstResponse=function(t){this.queries[t.payload.queryId](t.payload.payload),delete this.queries[t.payload.queryId]},t.prototype.handleRaycastHitAllResponse=function(t){this.queries[t.payload.queryId](t.payload.payload),delete this.queries[t.payload.queryId]},t}(),kn=function(){function t(){}return t.prototype.activate=function(t){t.eventManager.addListener(K,this,(function(t){\"HitFirst\"===t.payload.queryType?Hn.instance.handleRaycastHitFirstResponse(t):\"HitAll\"===t.payload.queryType&&Hn.instance.handleRaycastHitAllResponse(t)})),\"undefined\"!=typeof dcl&&dcl.subscribe(\"raycastResponse\")},t.prototype.deactivate=function(){\"undefined\"!=typeof dcl&&dcl.unsubscribe(\"raycastResponse\")},t}(),jn=function(){function t(){}return t.prototype.activate=function(t){t.eventManager.addListener($,this,(function(t){nn.instance.handlePointerEvent(t.payload)})),\"undefined\"!=typeof dcl&&(dcl.subscribe(\"pointerUp\"),dcl.subscribe(\"pointerDown\"),dcl.subscribe(\"actionButtonEvent\"))},t.prototype.deactivate=function(){\"undefined\"!=typeof dcl&&(dcl.unsubscribe(\"pointerUp\"),dcl.unsubscribe(\"pointerDown\"),dcl.unsubscribe(\"actionButtonEvent\"))},t}(),Gn=function(){function t(){this.handlerMap={}}return t.prototype.activate=function(t){t.eventManager.addListener(J,this,this.handleEvent),t.eventManager.addListener(A,this,this.componentAdded),t.eventManager.addListener(T,this,this.componentRemoved),\"undefined\"!=typeof dcl&&dcl.subscribe(\"uuidEvent\")},t.prototype.deactivate=function(){\"undefined\"!=typeof dcl&&dcl.unsubscribe(\"uuidEvent\")},t.prototype.onAddEntity=function(t){for(var e in t.components){var n=t.components[e];n instanceof In&&(this.handlerMap[n.uuid]=n)}},t.prototype.onRemoveEntity=function(t){for(var e in t.components){var n=t.components[e];n instanceof In&&delete this.handlerMap[n.uuid]}},t.prototype.componentAdded=function(t){if(t.entity.isAddedToEngine()){var e=t.entity.components[t.componentName];e instanceof In&&(this.handlerMap[e.uuid]=e)}},t.prototype.componentRemoved=function(t){t.entity.isAddedToEngine()&&t.component instanceof In&&delete this.handlerMap[t.component.uuid]},t.prototype.handleEvent=function(t){if(t.uuid in this.handlerMap){var e=this.handlerMap[t.uuid];e&&e.callback&&\"call\"in e.callback&&e.callback(t.payload)}},t}(),qn=new kn,Wn=new jn,Yn=new Gn,Xn=function(e){function n(t){var n=e.call(this)||this;return n.loop=!1,n.volume=1,n.url=t,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"url\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"loop\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"loadingCompleteEventId\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"volume\",void 0),n=r([N(\"engine.AudioClip\",t.CLASS_ID.AUDIO_CLIP),s(\"design:paramtypes\",[String])],n)}(B),Qn=function(e){function n(t){var n=e.call(this)||this;if(n.audioClip=t,n.loop=!1,n.volume=1,n.playing=!1,n.pitch=1,n.playedAtTimestamp=Date.now(),!(t instanceof Xn))throw new Error(\"Trying to create AudioSource(AudioClip) with an invalid AudioClip\");return n.audioClipId=D(t),n}return i(n,e),n.prototype.playOnce=function(){return this.playing=!0,this.dirty=!0,this.playedAtTimestamp=Date.now(),this.data.nonce=Math.random(),this},r([B.readonly,s(\"design:type\",String)],n.prototype,\"audioClipId\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"loop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"volume\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"playing\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"pitch\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"playedAtTimestamp\",void 0),n=r([P(\"engine.AudioSource\",t.CLASS_ID.AUDIO_SOURCE),s(\"design:paramtypes\",[Xn])],n)}(B),Zn=function(e){function n(t){var n=e.call(this)||this;return n.playing=!1,n.volume=1,n.url=t,n.playing=!0,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"url\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"playing\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"volume\",void 0),n=r([P(\"engine.AudioStream\",t.CLASS_ID.AUDIO_STREAM),s(\"design:paramtypes\",[String])],n)}(B);t.Gizmo=void 0,(Vn=t.Gizmo||(t.Gizmo={})).MOVE=\"MOVE\",Vn.ROTATE=\"ROTATE\",Vn.SCALE=\"SCALE\",Vn.NONE=\"NONE\";var Jn,Kn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=\"gizmoEvent\",t}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.gizmoEvent\",t.CLASS_ID.UUID_CALLBACK)],n)}(In),$n=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.position=!0,t.rotation=!0,t.scale=!0,t.cycle=!0,t.localReference=!1,t}return i(n,e),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"position\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"rotation\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"scale\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"cycle\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"selectedGizmo\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"localReference\",void 0),n=r([P(\"engine.gizmos\",t.CLASS_ID.GIZMOS)],n)}(B),ti=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"onFocus\",Yn.handlerMap[n.uuid]=n,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.onFocus\",t.CLASS_ID.UUID_CALLBACK),s(\"design:paramtypes\",[Function])],n)}(In),ei=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"onTextSubmit\",Yn.handlerMap[n.uuid]=n,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.onTextSubmit\",t.CLASS_ID.UUID_CALLBACK),s(\"design:paramtypes\",[Function])],n)}(In),ni=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"onBlur\",Yn.handlerMap[n.uuid]=n,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.onBlur\",t.CLASS_ID.UUID_CALLBACK),s(\"design:paramtypes\",[Function])],n)}(In),ii=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"onEnter\",Yn.handlerMap[n.uuid]=n,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.onEnter\",t.CLASS_ID.UUID_CALLBACK),s(\"design:paramtypes\",[Function])],n)}(In),oi=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"onChange\",Yn.handlerMap[n.uuid]=n,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.onChange\",t.CLASS_ID.UUID_CALLBACK),s(\"design:paramtypes\",[Function])],n)}(In),ri=function(e){function n(t,n){var i=e.call(this,t)||this;return i.type=\"onClick\",Yn.handlerMap[i.uuid]=i,n&&(i.showFeedback=!(!1===n.showFeedback),n.button&&(i.button=n.button),n.hoverText&&(i.hoverText=n.hoverText),n.distance&&(i.distance=n.distance)),i}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.onClick\",t.CLASS_ID.UUID_CALLBACK),s(\"design:paramtypes\",[Function,Object])],n)}(zn),si=function(e){function n(t,n){var i=e.call(this,t)||this;return i.type=\"pointerDown\",Yn.handlerMap[i.uuid]=i,n&&(i.showFeedback=!(!1===n.showFeedback),n.button&&(i.button=n.button),n.hoverText&&(i.hoverText=n.hoverText),n.distance&&(i.distance=n.distance)),i}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.pointerDown\",t.CLASS_ID.UUID_CALLBACK),s(\"design:paramtypes\",[Function,Object])],n)}(zn),ai=function(e){function n(t,n){var i=e.call(this,t)||this;return i.type=\"pointerUp\",Yn.handlerMap[i.uuid]=i,n&&(i.showFeedback=!(!1===n.showFeedback),n.button&&(i.button=n.button),n.hoverText&&(i.hoverText=n.hoverText),n.distance&&(i.distance=n.distance)),i}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.pointerUp\",t.CLASS_ID.UUID_CALLBACK),s(\"design:paramtypes\",[Function,Object])],n)}(zn),di=function(e){function n(t,n){var i=e.call(this,t)||this;return i.type=\"pointerHoverEnter\",Yn.handlerMap[i.uuid]=i,n&&n.distance&&(i.distance=n.distance),i}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.pointerHoverEnter\",t.CLASS_ID.UUID_CALLBACK),s(\"design:paramtypes\",[Function,Object])],n)}(zn),hi=function(e){function n(t){var n=e.call(this,t)||this;return n.type=\"pointerHoverExit\",Yn.handlerMap[n.uuid]=n,n.distance=160,n}return i(n,e),r([B.readonly,s(\"design:type\",String)],n.prototype,\"type\",void 0),n=r([P(\"engine.pointerHoverExit\",t.CLASS_ID.UUID_CALLBACK),s(\"design:paramtypes\",[Function])],n)}(zn),li=function(t){function e(e){var n=t.call(this)||this;return n.name=null,n.visible=!0,n.opacity=1,n.hAlign=\"center\",n.vAlign=\"center\",n.width=\"100px\",n.height=\"50px\",n.positionX=\"0px\",n.positionY=\"0px\",n.isPointerBlocker=!0,e&&(n._parent=e,n.data.parentComponent=D(e)),n}return i(e,t),Object.defineProperty(e.prototype,\"parent\",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"parentComponent\",{get:function(){return this.data.parentComponent},enumerable:!1,configurable:!0}),r([B.field,s(\"design:type\",Object)],e.prototype,\"name\",void 0),r([B.field,s(\"design:type\",Boolean)],e.prototype,\"visible\",void 0),r([B.field,s(\"design:type\",Number)],e.prototype,\"opacity\",void 0),r([B.field,s(\"design:type\",String)],e.prototype,\"hAlign\",void 0),r([B.field,s(\"design:type\",String)],e.prototype,\"vAlign\",void 0),r([B.uiValue,s(\"design:type\",Object)],e.prototype,\"width\",void 0),r([B.uiValue,s(\"design:type\",Object)],e.prototype,\"height\",void 0),r([B.uiValue,s(\"design:type\",Object)],e.prototype,\"positionX\",void 0),r([B.uiValue,s(\"design:type\",Object)],e.prototype,\"positionY\",void 0),r([B.field,s(\"design:type\",Boolean)],e.prototype,\"isPointerBlocker\",void 0),e}(B),pi=function(e){function n(){return e.call(this,null)||this}return i(n,e),n=r([N(\"engine.shape\",t.CLASS_ID.UI_FULLSCREEN_SHAPE),s(\"design:paramtypes\",[])],n)}(li),ci=function(e){function n(){return e.call(this,null)||this}return i(n,e),n=r([N(\"engine.shape\",t.CLASS_ID.UI_WORLD_SPACE_SHAPE),s(\"design:paramtypes\",[])],n)}(li),ui=function(e){function n(){return e.call(this,null)||this}return i(n,e),n=r([N(\"engine.shape\",t.CLASS_ID.UI_SCREEN_SPACE_SHAPE),s(\"design:paramtypes\",[])],n)}(li),yi=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.thickness=0,t.color=_t.Color4.Clear(),t.alignmentUsesSize=!0,t}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"thickness\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"color\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"alignmentUsesSize\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.UI_CONTAINER_RECT)],n)}(li);t.UIStackOrientation=void 0,(Jn=t.UIStackOrientation||(t.UIStackOrientation={}))[Jn.VERTICAL=0]=\"VERTICAL\",Jn[Jn.HORIZONTAL=1]=\"HORIZONTAL\";var fi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.adaptWidth=!0,n.adaptHeight=!0,n.color=_t.Color4.Clear(),n.stackOrientation=t.UIStackOrientation.VERTICAL,n.spacing=0,n}return i(n,e),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"adaptWidth\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"adaptHeight\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"color\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"stackOrientation\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"spacing\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.UI_CONTAINER_STACK)],n)}(li),mi=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.fontSize=10,t.fontWeight=\"normal\",t.thickness=0,t.cornerRadius=0,t.color=_t.Color4.White(),t.background=_t.Color4.White(),t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.paddingLeft=0,t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=_t.Color4.Black(),t.text=\"button\",t}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"fontSize\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"fontWeight\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"thickness\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"cornerRadius\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"color\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"background\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingTop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingRight\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingBottom\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingLeft\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowBlur\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowOffsetX\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowOffsetY\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"shadowColor\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"text\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.UI_BUTTON_SHAPE)],n)}(li),gi=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.outlineWidth=0,t.outlineColor=_t.Color4.White(),t.color=_t.Color4.White(),t.fontSize=10,t.fontAutoSize=!1,t.value=\"\",t.lineSpacing=0,t.lineCount=0,t.adaptWidth=!1,t.adaptHeight=!1,t.textWrapping=!1,t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=_t.Color4.Black(),t.hTextAlign=\"left\",t.vTextAlign=\"bottom\",t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.paddingLeft=0,t}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"outlineWidth\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"outlineColor\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"color\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"fontSize\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"fontAutoSize\",void 0),r([B.component,s(\"design:type\",Tn)],n.prototype,\"font\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"value\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"lineSpacing\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"lineCount\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"adaptWidth\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"adaptHeight\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"textWrapping\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowBlur\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowOffsetX\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowOffsetY\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"shadowColor\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"hTextAlign\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"vTextAlign\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingTop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingRight\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingBottom\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingLeft\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.UI_TEXT_SHAPE)],n)}(li),vi=function(e){function n(t){var n=e.call(this,t)||this;return n.outlineWidth=0,n.outlineColor=_t.Color4.Black(),n.color=_t.Color4.Clear(),n.fontSize=10,n.value=\"\",n.placeholder=\"\",n.margin=10,n.hTextAlign=\"left\",n.vTextAlign=\"bottom\",n.focusedBackground=_t.Color4.Black(),n.textWrapping=!1,n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0,n.shadowColor=_t.Color4.White(),n.paddingTop=0,n.paddingRight=0,n.paddingBottom=0,n.paddingLeft=0,n.onTextSubmit=null,n.onChanged=null,n.onFocus=null,n.onBlur=null,n.onTextChanged=new oi((function(t){var e=t.value,i=e.value,o=e.isSubmit,r=n.dirty;if(n.value=i,n.dirty=r,o&&n.onTextSubmit){var s={text:i};n.onTextSubmit.callback(s)}else if(!o&&n.onChanged){var a={value:i,pointerId:t.pointerId};n.onChanged.callback(a)}})),n}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"outlineWidth\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"outlineColor\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"color\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"fontSize\",void 0),r([B.component,s(\"design:type\",Tn)],n.prototype,\"font\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"value\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"placeholder\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"margin\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"hTextAlign\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"vTextAlign\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"focusedBackground\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"textWrapping\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowBlur\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowOffsetX\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"shadowOffsetY\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"shadowColor\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingTop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingRight\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingBottom\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingLeft\",void 0),r([In.uuidEvent,s(\"design:type\",oi)],n.prototype,\"onTextChanged\",void 0),r([In.uuidEvent,s(\"design:type\",Object)],n.prototype,\"onFocus\",void 0),r([In.uuidEvent,s(\"design:type\",Object)],n.prototype,\"onBlur\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.UI_INPUT_TEXT_SHAPE),s(\"design:paramtypes\",[Object])],n)}(li),_i=function(e){function n(t,n){var i=e.call(this,t)||this;return i.sourceLeft=0,i.sourceTop=0,i.sourceWidth=1,i.sourceHeight=1,i.paddingTop=0,i.paddingRight=0,i.paddingBottom=0,i.paddingLeft=0,i.sizeInPixels=!0,i.onClick=null,i.source=n,i}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"sourceLeft\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"sourceTop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"sourceWidth\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"sourceHeight\",void 0),r([B.component,s(\"design:type\",Object)],n.prototype,\"source\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingTop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingRight\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingBottom\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingLeft\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"sizeInPixels\",void 0),r([In.uuidEvent,s(\"design:type\",Object)],n.prototype,\"onClick\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.UI_IMAGE_SHAPE),s(\"design:paramtypes\",[li,Object])],n)}(li),bi=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.valueX=0,t.valueY=0,t.backgroundColor=_t.Color4.Clear(),t.isHorizontal=!1,t.isVertical=!1,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.paddingLeft=0,t.onChanged=null,t}return i(n,e),r([B.field,s(\"design:type\",Number)],n.prototype,\"valueX\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"valueY\",void 0),r([B.field,s(\"design:type\",_t.Color4)],n.prototype,\"backgroundColor\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"isHorizontal\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"isVertical\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingTop\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingRight\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingBottom\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"paddingLeft\",void 0),r([In.uuidEvent,s(\"design:type\",Object)],n.prototype,\"onChanged\",void 0),n=r([N(\"engine.shape\",t.CLASS_ID.UI_SLIDER_SHAPE)],n)}(li),xi=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.useDummyModel=!1,t.talking=!1,t}var o;return i(n,e),o=n,n.Dummy=function(){var t=new o;return t.useDummyModel=!0,t},r([B.field,s(\"design:type\",String)],n.prototype,\"id\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"name\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"expressionTriggerId\",void 0),r([B.field,s(\"design:type\",Number)],n.prototype,\"expressionTriggerTimestamp\",void 0),r([B.field,s(\"design:type\",String)],n.prototype,\"bodyShape\",void 0),r([B.field,s(\"design:type\",Array)],n.prototype,\"wearables\",void 0),r([B.field,s(\"design:type\",Array)],n.prototype,\"emotes\",void 0),r([B.field,s(\"design:type\",Object)],n.prototype,\"skinColor\",void 0),r([B.field,s(\"design:type\",Object)],n.prototype,\"hairColor\",void 0),r([B.field,s(\"design:type\",Object)],n.prototype,\"eyeColor\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"useDummyModel\",void 0),r([B.field,s(\"design:type\",Boolean)],n.prototype,\"talking\",void 0),n=o=r([P(\"engine.avatarShape\",t.CLASS_ID.AVATAR_SHAPE)],n)}(B),wi=null,Ti=null,Ai=null;function Ri(){return Ai||(Ai=new Q),Ai}var Si=function(){function t(){var t=this;this.messageQueue=[],this.connected=!1,this.flushing=!1,function(){if(!Ti){(Ti=dcl.loadModule(\"@decentraland/CommunicationsController\",{})).then((function(t){wi=t}));var t=Ri();dcl.subscribe(\"comms\"),dcl.onEvent((function(e){\"comms\"===e.type&&t.notifyObservers(e.data)}))}return Ti}().then((function(){t.connected=!0,t.flush()}))}return t.prototype.on=function(t,e){return Ri().add((function(n){try{var i=JSON.parse(n.message);i.message===t&&e(i.payload,n.sender)}catch(n){dcl.error(\"Error parsing comms message \"+(n.message||\"\"),n)}}))},t.prototype.sendRaw=function(t){this.messageQueue.push(t),this.connected&&this.flush()},t.prototype.emit=function(t,e){var n=JSON.stringify({message:t,payload:e});this.sendRaw(n),Ri().notifyObservers({message:n,sender:\"self\"})},t.prototype.flush=function(){var t=this;if(0!==this.messageQueue.length&&this.connected&&wi&&!this.flushing){var e=this.messageQueue.shift();this.flushing=!0,dcl.callRpc(wi.rpcHandle,\"send\",[e]).then((function(e){t.flushing=!1,t.flush()}),(function(e){t.flushing=!1,y(\"Error flushing MessageBus\",e)}))}},t}(),Ci=new H(\"scene\");Ci.uuid=\"0\";var Ei=new k(Ci);N.engine=Ei,\"undefined\"!=typeof dcl&&(Ei.addSystem(new gt(dcl),1/0),mt(dcl)),Ei.addSystem(Yn),Ei.addSystem(Wn),Ei.addSystem(qn),t.AVATAR_OBSERVABLE=\"AVATAR_OBSERVABLE\",t.Angle=_t.Angle,t.AnimationState=Ye,t.Animator=xn,t.Arc2=_t.Arc2,t.AttachToAvatar=dn,t.Attachable=e,t.AudioClip=Xn,t.AudioSource=Qn,t.AudioStream=Zn,t.AvatarModifierArea=rn,t.AvatarShape=xi,t.AvatarTexture=Bn,t.Axis=_t.Axis,t.BasicMaterial=En,t.BezierCurve=_t.BezierCurve,t.Billboard=hn,t.BoxShape=pn,t.Camera=Un,t.CameraModeArea=Dn,t.CircleShape=un,t.Color3=_t.Color3,t.Color4=_t.Color4,t.Component=P,t.ComponentAdded=A,t.ComponentGroup=V,t.ComponentRemoved=T,t.ConeShape=fn,t.Curve3=_t.Curve3,t.CylinderShape=mn,t.DEG2RAD=_t.DEG2RAD,t.DisposableComponent=N,t.DisposableComponentCreated=z,t.DisposableComponentRemoved=O,t.DisposableComponentUpdated=M,t.Engine=k,t.Entity=H,t.Epsilon=_t.Epsilon,t.EventConstructor=x,t.EventManager=b,t.Font=Tn,t.Frustum=_t.Frustum,t.GLTFShape=gn,t.Gizmos=$n,t.GlobalPointerDown=$e,t.GlobalPointerUp=tn,t.Input=nn,t.Material=Cn,t.Matrix=_t.Matrix,t.MessageBus=Si,t.MultiObserver=X,t.NFTShape=_n,t.OBJShape=wn,t.Observable=Q,t.ObservableComponent=B,t.Observer=Y,t.ObserverEventState=W,t.OnAnimationEnd=Mn,t.OnBlur=ni,t.OnChanged=oi,t.OnClick=ri,t.OnEnter=ii,t.OnFocus=ti,t.OnGizmoEvent=Kn,t.OnPointerDown=si,t.OnPointerHoverEnter=di,t.OnPointerHoverExit=hi,t.OnPointerLock=On,t.OnPointerUUIDEvent=zn,t.OnPointerUp=ai,t.OnTextSubmit=ei,t.OnUUIDEvent=In,t.Orientation=_t.Orientation,t.ParentChanged=R,t.Path2=_t.Path2,t.Path3D=_t.Path3D,t.PhysicsCast=Hn,t.Plane=_t.Plane,t.PlaneShape=yn,t.PointerEvent=$,t.PointerEventComponent=Ke,t.PointerEventSystem=jn,t.Quaternion=_t.Quaternion,t.RAD2DEG=_t.RAD2DEG,t.RaycastEventSystem=kn,t.RaycastResponse=K,t.Scalar=_t.Scalar,t.Shape=ln,t.Size=_t.Size,t.SmartItem=Pn,t.Space=_t.Space,t.SphereShape=cn,t.Subscription=en,t.TextShape=Rn,t.Texture=bn,t.ToGammaSpace=_t.ToGammaSpace,t.ToLinearSpace=_t.ToLinearSpace,t.Transform=sn,t.UIButton=mi,t.UICanvas=ui,t.UIContainerRect=yi,t.UIContainerStack=fi,t.UIFullScreen=pi,t.UIImage=_i,t.UIInputText=vi,t.UIScrollRect=bi,t.UIShape=li,t.UIText=gi,t.UIValue=S,t.UIWorldSpace=ci,t.UUIDEvent=J,t.UUIDEventSystem=Gn,t.Vector2=_t.Vector2,t.Vector3=_t.Vector3,t.Vector4=_t.Vector4,t.VideoClip=Nn,t.VideoTexture=Ln,t._initEventObservables=mt,t.buildArray=function(t,e){for(var n=[],i=0;i<t;++i)n.push(e());return n},t.engine=Ei,t.error=y,t.executeTask=G,t.getComponentClassId=L,t.getComponentId=D,t.getComponentName=F,t.getMessageObserver=Ri,t.isDisposableComponent=U,t.log=u,t.newId=f,t.onCameraModeChangedObservable=et,t.onEnterScene=ot,t.onEnterSceneObservable=it,t.onIdleStateChangedObservable=nt,t.onLeaveScene=st,t.onLeaveSceneObservable=rt,t.onPlayerClickedObservable=ft,t.onPlayerConnectedObservable=ct,t.onPlayerDisconnectedObservable=ut,t.onPlayerExpressionObservable=dt,t.onPointerLockedStateChange=ht,t.onProfileChanged=pt,t.onRealmChangedObservable=yt,t.onSceneReadyObservable=at,t.onVideoEvent=lt,t.openExternalURL=function(t){\"undefined\"!=typeof dcl?dcl.openExternalUrl(t):y(\"ERROR: openExternalURL dcl is undefined\")},t.openNFTDialog=function(t,e){if(void 0===e&&(e=null),\"undefined\"!=typeof dcl){var n=t.match(/ethereum:\\/\\/(.+)\\/(.+)/);if(!n||n.length<3)return;dcl.openNFTDialog(n[1],n[2],e)}else y(\"ERROR: openNFTDialog dcl is undefined\")},t.pointerEventSystem=Wn,t.raycastEventSystem=qn,t.teleportTo=function(t){var e,n;e=\"requestTeleport\",n=[t],void 0===q&&\"undefined\"!=typeof dcl&&(q=dcl.loadModule(\"@decentraland/UserActionModule\",{})),void 0!==q&&\"undefined\"!=typeof dcl&&q.then((function(t){dcl.callRpc(t.rpcHandle,e,n)}))},t.uuid=m,t.uuidEventSystem=Yn,Object.defineProperty(t,\"__esModule\",{value:!0})}(this.self=this.self||{});",
    "sha256": "23778a76f13e57dd2878d299001215ff20e2f62b2a4be99b9bd334966fdce517"
  },
  {
    "path": "node_modules/@dcl/ecs-scene-utils/dist/index.js",
    "content": "define(\"@dcl/ecs-scene-utils\",[\"exports\",\"@decentraland/EnvironmentAPI\"],(function(e,t){\"use strict\";\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function r(e,t,n,i){var r,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(o<3?r(a):o>3?r(t,n,a):r(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function o(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{u(i.next(e))}catch(e){o(e)}}function s(e){try{u(i.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((i=i.apply(e,t||[])).next())}))}function a(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function s(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}var u,c=function(){function e(){this._components=[],this._componentGroups=[],e._instance=this}return e.createAndAddToEngine=function(){return null==this._instance&&(this._instance=new e,engine.addSystem(this._instance)),this._instance},e.registerCustomComponent=function(e){this.createAndAddToEngine()._components.push(e)},e.prototype.addComponentType=function(e){var t,n;try{for(var i=s(this._components),r=i.next();!r.done;r=i.next()){if(e==r.value)return}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this._components.push(e),this._componentGroups.push(engine.getComponentGroup(e,Transform))},e.prototype.update=function(e){for(var t=0;t<this._components.length;t++)this.updateComponent(e,this._components[t],this._componentGroups[t])},e.prototype.updateComponent=function(e,t,n){n.entities.forEach((function(n){var i=n.getComponent(Transform),r=n.getComponent(t);r.update(e),r.assignValueToTransform(i),r.hasFinished()&&(n.removeComponent(r),null!=r.onFinishCallback&&r.onFinishCallback())}))},e._instance=null,e}();function h(t,n){switch(t){case e.InterpolationType.LINEAR:return n;case e.InterpolationType.EASEINQUAD:return function(e){return e*e}(n);case e.InterpolationType.EASEOUTQUAD:return function(e){return e*(2-e)}(n);case e.InterpolationType.EASEQUAD:return function(e){return e*e/(2*(e*e-e)+1)}(n);case e.InterpolationType.EASEINSINE:return function(e){return 1-Math.cos(e*Math.PI/2)}(n);case e.InterpolationType.EASEOUTSINE:return function(e){return Math.sin(e*Math.PI/2)}(n);case e.InterpolationType.EASESINE:return function(e){return-(Math.cos(Math.PI*e)-1)/2}(n);case e.InterpolationType.EASEINEXPO:return function(e){return 0===e?0:Math.pow(2,10*e-10)}(n);case e.InterpolationType.EASEOUTEXPO:return function(e){return 1===e?1:1-Math.pow(2,-10*e)}(n);case e.InterpolationType.EASEEXPO:return function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}(n);case e.InterpolationType.EASEINELASTIC:return function(e){var t=2*Math.PI/3;return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t)}(n);case e.InterpolationType.EASEOUTELASTIC:return function(e){var t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1}(n);case e.InterpolationType.EASEELASTIC:return function(e){var t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1}(n);case e.InterpolationType.EASEINBOUNCE:return function(e){return 1-l(1-e)}(n);case e.InterpolationType.EASEOUTEBOUNCE:return function(e){return l(e)}(n);case e.InterpolationType.EASEBOUNCE:return function(e){return e<.5?(1-l(1-2*e))/2:(1+l(2*e-1))/2}(n);default:return n}}function l(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375}e.InterpolationType=void 0,(u=e.InterpolationType||(e.InterpolationType={}))[u.LINEAR=0]=\"LINEAR\",u[u.EASEINQUAD=1]=\"EASEINQUAD\",u[u.EASEOUTQUAD=2]=\"EASEOUTQUAD\",u[u.EASEQUAD=3]=\"EASEQUAD\",u.EASEINSINE=\"easeinsine\",u.EASEOUTSINE=\"easeoutsine\",u.EASESINE=\"easeinoutsine\",u.EASEINEXPO=\"easeinexpo\",u.EASEOUTEXPO=\"easeoutexpo\",u.EASEEXPO=\"easeinoutexpo\",u.EASEINELASTIC=\"easeinelastic\",u.EASEOUTELASTIC=\"easeoutelastic\",u.EASEELASTIC=\"easeinoutelastic\",u.EASEINBOUNCE=\"easeinbounce\",u.EASEOUTEBOUNCE=\"easeoutbounce\",u.EASEBOUNCE=\"easeinoutbounce\";var p,d=function(){function t(t,i,r,o,a){void 0===a&&(a=e.InterpolationType.LINEAR),this.start=t,this.end=i,this.normalizedTime=0,this.lerpTime=0,this.onFinishCallback=o,this.interpolationType=a,0!=r?this.speed=1/r:(this.speed=0,this.normalizedTime=1,this.lerpTime=1),c.createAndAddToEngine().addComponentType(n)}var n;return n=t,t.prototype.update=function(e){this.normalizedTime=Scalar.Clamp(this.normalizedTime+e*this.speed,0,1),this.lerpTime=h(this.interpolationType,this.normalizedTime)},t.prototype.hasFinished=function(){return this.normalizedTime>=1},t.prototype.assignValueToTransform=function(e){e.position=Vector3.Lerp(this.start,this.end,this.lerpTime)},t=n=r([Component(\"moveTransformComponent\")],t)}(),g=function(){function t(t,i,r,o,a){void 0===a&&(a=e.InterpolationType.LINEAR),this.start=t,this.end=i,this.normalizedTime=0,this.lerpTime=0,this.onFinishCallback=o,this.interpolationType=a,0!=r?this.speed=1/r:(this.speed=0,this.normalizedTime=1,this.lerpTime=1),c.createAndAddToEngine().addComponentType(n)}var n;return n=t,t.prototype.update=function(e){this.normalizedTime=Scalar.Clamp(this.normalizedTime+e*this.speed,0,1),this.lerpTime=h(this.interpolationType,this.normalizedTime)},t.prototype.hasFinished=function(){return this.normalizedTime>=1},t.prototype.assignValueToTransform=function(e){e.rotation=Quaternion.Slerp(this.start,this.end,this.lerpTime)},t=n=r([Component(\"rotateTransformComponent\")],t)}(),f=function(){function t(t,i,r,o,a){void 0===a&&(a=e.InterpolationType.LINEAR),this.start=t,this.end=i,this.normalizedTime=0,this.lerpTime=0,this.onFinishCallback=o,this.interpolationType=a,0!=r?this.speed=1/r:(this.speed=0,this.normalizedTime=1,this.lerpTime=1),c.createAndAddToEngine().addComponentType(n)}var n;return n=t,t.prototype.update=function(e){this.normalizedTime=Scalar.Clamp(this.normalizedTime+e*this.speed,0,1),this.lerpTime=h(this.interpolationType,this.normalizedTime)},t.prototype.hasFinished=function(){return this.normalizedTime>=1},t.prototype.assignValueToTransform=function(e){e.scale=Vector3.Lerp(this.start,this.end,this.lerpTime)},t=n=r([Component(\"scaleTransformComponent\")],t)}(),m=function(){function e(e,n,i,r){if(this.speed=[],this.normalizedTime=0,this.currentIndex=0,this.points=e,this.onFinishCallback=i,this.onPointReachedCallback=r,e.length<2)throw new Error(\"At least 2 points are needed for FollowPathComponent.\");if(n>0){for(var o=0,a=[],s=0;s<e.length-1;s++){var u=Vector3.Distance(e[s],e[s+1]);o+=u,a.push(u)}for(s=0;s<a.length;s++)this.speed.push(1/(a[s]/o*n))}else this.normalizedTime=1,this.currentIndex=e.length-2;c.createAndAddToEngine().addComponentType(t)}var t;return t=e,e.prototype.update=function(e){this.normalizedTime=Scalar.Clamp(this.normalizedTime+e*this.speed[this.currentIndex],0,1),this.normalizedTime>=1&&this.currentIndex<this.points.length-2&&(this.currentIndex++,this.normalizedTime=0,this.onPointReachedCallback&&this.currentIndex<this.points.length-1&&this.onPointReachedCallback(this.points[this.currentIndex],this.points[this.currentIndex+1]))},e.prototype.hasFinished=function(){return this.currentIndex>=this.points.length-2&&this.normalizedTime>=1},e.prototype.assignValueToTransform=function(e){e.position=Vector3.Lerp(this.points[this.currentIndex],this.points[this.currentIndex+1],this.normalizedTime)},e=t=r([Component(\"followPathComponent\")],e)}(),y=function(){function e(e,n,i,r,o,a){if(this.speed=[],this.turnToFaceNext=!1,this.facingNext=!1,this.normalizedTime=0,this.currentIndex=0,this.points=Curve3.CreateCatmullRomSpline(e,i,!!o).getPoints(),this.onFinishCallback=a,this.turnToFaceNext=r||!1,this.points.length<2)throw new Error(\"At least 2 points are needed for FollowPathComponent.\");if(n>0){for(var s=0,u=[],h=0;h<this.points.length-1;h++){var l=Vector3.Distance(this.points[h],this.points[h+1]);s+=l,u.push(l)}for(h=0;h<u.length;h++)this.speed.push(1/(u[h]/s*n))}else this.normalizedTime=1,this.currentIndex=e.length-2;c.createAndAddToEngine().addComponentType(t)}var t;return t=e,e.prototype.update=function(e){this.normalizedTime=Scalar.Clamp(this.normalizedTime+e*this.speed[this.currentIndex],0,1),this.normalizedTime>=1&&this.currentIndex<this.points.length-2&&(this.currentIndex++,this.normalizedTime=0,1==this.turnToFaceNext&&(this.facingNext=!1))},e.prototype.hasFinished=function(){return this.currentIndex>=this.points.length-2&&this.normalizedTime>=1},e.prototype.assignValueToTransform=function(e){e.position=Vector3.Lerp(this.points[this.currentIndex],this.points[this.currentIndex+1],this.normalizedTime),this.facingNext||(this.facingNext=!0,this.currentIndex<this.points.length-1?e.lookAt(this.points[this.currentIndex+1]):e.lookAt(this.points[0]))},e=t=r([Component(\"followCurvedPathComponent\")],e)}(),T=function(){function e(e,n){this.rotationVelocity=e,this.onFinishCallback=n,this.rotation=Quaternion.Identity,this.finished=!1,c.createAndAddToEngine().addComponentType(t)}var t;return t=e,e.prototype.update=function(e){this.rotation=Quaternion.Slerp(Quaternion.Identity,this.rotationVelocity,e)},e.prototype.hasFinished=function(){return this.finished},e.prototype.assignValueToTransform=function(e){e.rotation=e.rotation.multiply(this.rotation)},e.prototype.stop=function(){this.finished=!0},e=t=r([Component(\"keepRotatingComponent\")],e)}();e.ToggleState=void 0,(p=e.ToggleState||(e.ToggleState={}))[p.Off=0]=\"Off\",p[p.On=1]=\"On\";var S=function(){function t(t,n){void 0===t&&(t=e.ToggleState.On),this.enabled=!0,this.state=e.ToggleState.Off,this.set(t),n&&this.setCallback(n)}return t.prototype.set=function(e){this.state=e,this.onValueChangedCallback&&this.onValueChangedCallback(e)},t.prototype.toggle=function(){this.enabled&&this.set(1-this.state)},t.prototype.isOn=function(){return this.state==e.ToggleState.On},t.prototype.setCallback=function(e){this.onValueChangedCallback=e},t=r([Component(\"toggle\")],t)}(),E=function(){function e(){this._components=[],e._instance=this}return e.createAndAddToEngine=function(){return null==this._instance&&(this._instance=new e,engine.addSystem(this._instance)),this._instance},e.registerCustomComponent=function(e){this.createAndAddToEngine()._components.push(e)},e.prototype.addComponentType=function(e){var t,n;try{for(var i=s(this._components),r=i.next();!r.done;r=i.next()){if(e==r.value)return}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this._components.push(e)},e.prototype.update=function(e){var t=this;this._components.forEach((function(n){t.updateComponent(e,n)}))},e.prototype.updateComponent=function(e,t){var n=engine.getEntitiesWithComponent(t);for(var i in n)if(n.hasOwnProperty(i)){var r=n[i],o=r.getComponent(t);o.elapsedTime+=e,o.elapsedTime>=o.targetTime&&o.onTargetTimeReached(r)}},e._instance=null,e}(),C=function(){function e(e,n){var i=this;E.createAndAddToEngine().addComponentType(t),this.elapsedTime=0,this.targetTime=e/1e3,this.onTimeReachedCallback=n,this.onTargetTimeReached=function(e){i.onTimeReachedCallback&&i.onTimeReachedCallback(),e.removeComponent(i)}}var t;return t=e,e.prototype.setCallback=function(e){this.onTimeReachedCallback=e},e=t=r([Component(\"timerDelay\")],e)}(),b=function(){function e(e,n){var i=this;E.createAndAddToEngine().addComponentType(t),this.elapsedTime=0,this.targetTime=e/1e3,this.onTimeReachedCallback=n,this.onTargetTimeReached=function(e){i.onTimeReachedCallback&&i.onTimeReachedCallback(),e.removeComponent(i),engine.removeEntity(e)}}var t;return t=e,e.prototype.setCallback=function(e){this.onTimeReachedCallback=e},e=t=r([Component(\"timerExpireIn\")],e)}(),v=function(){function e(e,n){var i=this;E.createAndAddToEngine().addComponentType(t),this.elapsedTime=0,this.targetTime=e/1e3,this.onTimeReachedCallback=n,this.onTargetTimeReached=function(){i.elapsedTime=0,i.onTimeReachedCallback&&i.onTimeReachedCallback()}}var t;return t=e,e.prototype.setCallback=function(e){this.onTimeReachedCallback=e},e=t=r([Component(\"timerInterval\")],e)}();function I(e,t,n,i,r,o){var a=new Entity;a.addComponent(new Transform(o||{position:new Vector3(0,1.5,0)})),a.setParent(t);var s=new TextShape(e);return s.fontSize=r||3,s.color=i||Color3.Black(),a.addComponent(s),n&&a.addComponent(new Billboard),engine.addEntity(a),a}var A,_,w=function(){function e(){this._triggers={},e._instance=this,this._cameraTriggerWrapper=new q(new P(new Vector3(.5,1.8,.5),new Vector3(0,.91,0))),this._componentGroup=engine.getComponentGroup(N)}return Object.defineProperty(e,\"instance\",{get:function(){return this.createAndAddToEngine()},enumerable:!1,configurable:!0}),e.createAndAddToEngine=function(){return null==this._instance&&(this._instance=new e,engine.addSystem(this._instance)),this._instance},e.prototype.setCameraTriggerShape=function(e){this._cameraTriggerWrapper.setShape(e)},e.prototype.update=function(){var t=this,n=this._componentGroup.entities;for(var i in n.forEach((function(e){t.shouldWrapTriggerEntity(e)&&t.wrapTriggerEntity(e)})),this._triggers)if(this._triggers.hasOwnProperty(i)){var r=this._triggers[i];r.isDebugging()&&r.updateDebugEntity(),r.isInEngine()?null!=r.trigger&&r.trigger.enabled?(r.wasEnabled||r.isDebugging()&&r.addDebugEntity(),r.wasEnabled=!0,(r.trigger.onCameraEnter||r.trigger.onCameraExit)&&this.checkCollisionAgainstCamera(r),(r.trigger.onTriggerEnter||r.trigger.onTriggerExit)&&this.checkCollisionAgainstOtherTriggers(r)):r.wasEnabled&&(r.wasEnabled=!1,r.isDebugging()&&r.removeDebugEntity(),e.removeTriggerFromSystem(r)):(r.isDebugging()&&r.removeDebugEntity(),e.removeTriggerFromSystem(r),delete this._triggers[i])}},e.prototype.shouldWrapTriggerEntity=function(e){return null==this._triggers[e.uuid]||null==this._triggers[e.uuid]},e.prototype.wrapTriggerEntity=function(e){this._triggers[e.uuid]=new x(e)},e.removeTriggerFromSystem=function(t){for(var n,i=t.getActiveCollisions(),r=0;r<i.length;r++){!(i[r]===(null===(n=e._instance)||void 0===n?void 0:n._cameraTriggerWrapper)||null==i[r].trigger)&&i[r].trigger.onTriggerExit&&t.entity&&i[r].trigger.onTriggerExit(t.entity),i[r].disengageActiveCollision(t),t.disengageActiveCollision(i[r])}},e.disengageCollision=function(e,t){e.disengageActiveCollision(t),t.disengageActiveCollision(e),e.trigger.onTriggerExit&&t.entity&&e.trigger.onTriggerExit(t.entity),t.trigger.onTriggerExit&&e.entity&&t.trigger.onTriggerExit(e.entity)},e.engageCollision=function(e,t){e.engageCollision(t),t.engageCollision(e),e.trigger.onTriggerEnter&&t.entity&&e.trigger.onTriggerEnter(t.entity),t.trigger.onTriggerEnter&&e.entity&&t.trigger.onTriggerEnter(e.entity)},e.prototype.checkCollisionAgainstCamera=function(t){var n=t.hasActiveCollision(this._cameraTriggerWrapper),i=e.areColliding(t,this._cameraTriggerWrapper);n&&!i?(t.disengageActiveCollision(this._cameraTriggerWrapper),t.trigger.onCameraExit&&t.trigger.onCameraExit()):!n&&i&&(t.engageCollision(this._cameraTriggerWrapper),t.trigger.onCameraEnter&&t.trigger.onCameraEnter())},e.prototype.checkCollisionAgainstOtherTriggers=function(t){for(var n in this._triggers)if(this._triggers.hasOwnProperty(n)&&n!=t.uuid&&this._triggers[n].trigger.enabled&&e.canTriggersCollide(t,this._triggers[n])){var i=t.hasActiveCollision(this._triggers[n]),r=e.areColliding(t,this._triggers[n]);i&&!r?e.disengageCollision(t,this._triggers[n]):!i&&r&&e.engageCollision(t,this._triggers[n])}},e.canTriggersCollide=function(e,t){return 0==e.trigger.triggeredByLayer||0!=(t.trigger.layer&e.trigger.triggeredByLayer)},e.areColliding=function(t,n){return t.getShape()instanceof P&&n.getShape()instanceof P?e.areCollidingAABB(t.getGlobalPosition(),t.getShape(),n.getGlobalPosition(),n.getShape()):t.getShape()instanceof k&&n.getShape()instanceof k?e.areCollidingSphere(t.getGlobalPosition(),t.getShape(),n.getGlobalPosition(),n.getShape()):t.getShape()instanceof P&&n.getShape()instanceof k?e.areCollidingAABBSphere(t.getGlobalPosition(),t.getShape(),n.getGlobalPosition(),n.getShape()):t.getShape()instanceof k&&n.getShape()instanceof P&&e.areCollidingAABBSphere(n.getGlobalPosition(),n.getShape(),t.getGlobalPosition(),t.getShape())},e.areCollidingAABB=function(t,n,i,r){var o=e.getBoxShapeValues(t,n),a=e.getBoxShapeValues(i,r);return o.min.x<=a.max.x&&o.max.x>=a.min.x&&o.min.y<=a.max.y&&o.max.y>=a.min.y&&o.min.z<=a.max.z&&o.max.z>=a.min.z},e.areCollidingSphere=function(e,t,n,i){return Vector3.DistanceSquared(e.add(t.position),n.add(i.position))<t.radius*t.radius+i.radius*i.radius},e.areCollidingAABBSphere=function(t,n,i,r){var o=e.getBoxShapeValues(t,n),a=i.add(r.position),s=r.radius,u=0;return a.x<o.min.x&&(u+=(o.min.x-a.x)*(o.min.x-a.x)),a.x>o.max.x&&(u+=(a.x-o.max.x)*(a.x-o.max.x)),a.y<o.min.y&&(u+=(o.min.y-a.y)*(o.min.y-a.y)),a.y>o.max.y&&(u+=(a.y-o.max.y)*(a.y-o.max.y)),a.z<o.min.z&&(u+=(o.min.z-a.z)*(o.min.z-a.z)),a.z>o.max.z&&(u+=(a.z-o.max.z)*(a.z-o.max.z)),u<s*s},e.getBoxShapeValues=function(e,t){var n=e.add(t.position);return{center:n,min:n.subtract(t.size.scale(.5)),max:n.add(t.size.scale(.5))}},e._instance=null,e}(),x=function(){function e(e){this.wasEnabled=!0,this._uuid=\"\",this._collidingWith={},this._isDebug=!1,this._debugEntity=null,this._entity=e,e&&(this._trigger=e.getComponent(N),this._uuid=e.uuid,this._isDebug=this._trigger.debugEnabled,this._isDebug&&this.addDebugEntity())}return Object.defineProperty(e.prototype,\"entity\",{get:function(){return this._entity},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"trigger\",{get:function(){return this._trigger},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,\"uuid\",{get:function(){return this._uuid},enumerable:!1,configurable:!0}),e.prototype.getGlobalPosition=function(){return this._entity?e.getEntityWorldPosition(this._entity):Vector3.Zero()},e.prototype.getShape=function(){return this._trigger.shape},e.prototype.isInEngine=function(){return null!=this._entity&&this._entity.isAddedToEngine()},e.prototype.getActiveCollisions=function(){var e=[];for(var t in this._collidingWith)this._collidingWith.hasOwnProperty(t)&&e.push(this._collidingWith[t]);return e},e.prototype.hasActiveCollision=function(e){return null!=this._collidingWith[e.uuid]&&null!=this._collidingWith[e.uuid]},e.prototype.disengageActiveCollision=function(e){delete this._collidingWith[e.uuid]},e.prototype.engageCollision=function(e){this._collidingWith[e.uuid]=e},e.prototype.isDebugging=function(){return this._isDebug},e.prototype.addDebugEntity=function(){return o(this,void 0,void 0,(function(){var n,i,r;return a(this,(function(o){switch(o.label){case 0:return[4,!t.isPreviewMode()];case 1:return o.sent()||(e._debugMaterial||(e._debugMaterial=new Material,e._debugMaterial.alphaTest=.5),null==this._debugEntity&&(this._debugEntity=new Entity,n=new Transform,this._debugEntity.addComponent(n),this._debugEntity.addComponent(e._debugMaterial),this.getShape()instanceof P&&((i=new BoxShape).withCollisions=!1,this._debugEntity.addComponent(i),n.scale=this.getShape().size),this.getShape()instanceof k&&((i=new SphereShape).withCollisions=!1,this._debugEntity.addComponent(i),r=this.getShape().radius,n.scale=new Vector3(r,r,r))),engine.addEntity(this._debugEntity)),[2]}}))}))},e.prototype.removeDebugEntity=function(){null!=this._debugEntity&&engine.removeEntity(this._debugEntity)},e.prototype.updateDebugEntity=function(){this._debugEntity&&(this._debugEntity.getComponent(Transform).position=this.getGlobalPosition().add(this.getShape().position))},e.getEntityWorldPosition=function(e){var t=e.hasComponent(Transform)?e.getComponent(Transform).position.clone():Vector3.Zero(),n=e.getParent();if(null!=n){var i=n.hasComponent(Transform)?n.getComponent(Transform).rotation:Quaternion.Identity;return this.getEntityWorldPosition(n).add(t.rotate(i))}return t},e._debugMaterial=null,e}(),q=function(e){function t(t){var n=e.call(this)||this;return n._shape=t,n._uuid=\"cameraTrigger\",n}return i(t,e),t.prototype.getGlobalPosition=function(){return Camera.instance.position},t.prototype.getShape=function(){return this._shape},t.prototype.setShape=function(e){this._shape=e},t.prototype.isInEngine=function(){return!1},t.prototype.hasActiveCollision=function(e){return!1},t.prototype.disengageActiveCollision=function(e){},t.prototype.engageCollision=function(e){},t.prototype.isDebugging=function(){return!1},t}(x),N=function(){function e(e,t){this.enabled=!0,this.layer=0,this.triggeredByLayer=0,this._debugEnabled=!1,w.createAndAddToEngine(),this.shape=e,t&&(t.layer&&(this.layer=t.layer),t.triggeredByLayer&&(this.triggeredByLayer=t.triggeredByLayer),t.onTriggerEnter&&(this.onTriggerEnter=t.onTriggerEnter),t.onTriggerExit&&(this.onTriggerExit=t.onTriggerExit),t.onCameraEnter&&(this.onCameraEnter=t.onCameraEnter),t.onCameraExit&&(this.onCameraExit=t.onCameraExit),t.enableDebug&&(this._debugEnabled=t.enableDebug))}return Object.defineProperty(e.prototype,\"debugEnabled\",{get:function(){return this._debugEnabled},enumerable:!1,configurable:!0}),e=r([Component(\"triggerComponent\")],e)}(),P=function(e,t){void 0===e&&(e=Vector3.One().scale(2)),void 0===t&&(t=Vector3.Zero()),this.size=e,this.position=t},k=function(e,t){void 0===e&&(e=2),void 0===t&&(t=Vector3.Zero()),this.radius=e,this.position=t};e.ActionsSequenceSystem=function(){function e(e){this.beginSequenceNode=null,this.currentSequenceNode=null,this.running=!1,this.started=!1,e&&this.startSequence(e)}return e.prototype.startSequence=function(e){this.beginSequenceNode=e.beginSequenceNode,this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1},e.prototype.setOnFinishCallback=function(e){this.onFinishCallback=e},e.prototype.isRunning=function(){return this.running},e.prototype.stop=function(){this.running=!1},e.prototype.resume=function(){null!=this.beginSequenceNode&&(this.running=!0)},e.prototype.reset=function(){this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1},e.prototype.getRunningAction=function(){var e=this.currentSequenceNode;if(this.currentSequenceNode instanceof z)do{e=e.currentInnerSequence}while(e instanceof z);return e.action},e.prototype.update=function(e){this.running&&(this.started?this.currentSequenceNode.hasFinish()?(this.currentSequenceNode.onFinish(),this.currentSequenceNode=this.currentSequenceNode.next,this.currentSequenceNode?this.currentSequenceNode.onStart():(this.running=!1,this.onFinishCallback&&this.onFinishCallback())):this.currentSequenceNode.update(e):(this.currentSequenceNode.onStart(),this.started=!0))},e}(),A=e.ActionsSequenceSystem||(e.ActionsSequenceSystem={}),_=function(){function e(){this.currentSequenceNode=null,this.beginSequenceNode=null,this.whileNodeStack=[]}return e.prototype.then=function(e){if(null==this.currentSequenceNode)this.currentSequenceNode=new O,this.currentSequenceNode.action=e,this.beginSequenceNode=this.currentSequenceNode;else{var t=new O;t.action=e,this.currentSequenceNode=this.currentSequenceNode.then(t)}return this},e.prototype.if=function(e){var t=new F(e);return null==this.currentSequenceNode?(this.currentSequenceNode=t,this.beginSequenceNode=t):this.currentSequenceNode=this.currentSequenceNode.then(t),this},e.prototype.else=function(){var e=this.currentSequenceNode.getSequence();if(!(e instanceof F))throw new Error(\"IF statement is needed to be called before ELSE statement.\");e.closed=!0;var t=new R(e);return this.currentSequenceNode=this.currentSequenceNode.then(t),this},e.prototype.endIf=function(){var e=this.currentSequenceNode.getSequence();if(!(e instanceof F||e instanceof R))throw new Error(\"IF statement is needed to be called before ENDIF statement.\");return e.closed=!0,this},e.prototype.while=function(e){var t=new D(e);return null==this.currentSequenceNode?(this.currentSequenceNode=t,this.beginSequenceNode=t):this.currentSequenceNode=this.currentSequenceNode.then(t),this.whileNodeStack.push(t),this},e.prototype.endWhile=function(){var e=this.currentSequenceNode.getSequence();if(!(e instanceof D))throw new Error(\"WHILE statement is needed to be called before ENDWHILE statement.\");return e.closed=!0,this.whileNodeStack.length>0&&this.whileNodeStack.splice(this.whileNodeStack.length-1,1),this},e.prototype.breakWhile=function(){if(!(this.whileNodeStack.length>0))throw new Error(\"WHILE statement is needed to be called before BREAKWHILE statement.\");return this.currentSequenceNode=this.currentSequenceNode.then(new B(this.whileNodeStack[this.whileNodeStack.length-1])),this},e}(),A.SequenceBuilder=_;var O=function(){function e(){this.action=null,this.next=null}return e.prototype.then=function(e){return this.next=e,e},e.prototype.onStart=function(){this.action&&this.action.onStart()},e.prototype.update=function(e){this.action&&this.action.update(e)},e.prototype.onFinish=function(){this.action&&this.action.onFinish()},e.prototype.hasFinish=function(){return!this.action||this.action.hasFinished},e.prototype.getSequence=function(){return this},e}(),z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentInnerSequence=null,t.startingInnerSequence=null,t.closed=!1,t}return i(t,e),t.prototype.then=function(e){if(null==this.currentInnerSequence)this.currentInnerSequence=e,this.startingInnerSequence=e;else{if(this.closed)return this.next=e,e;this.currentInnerSequence=this.currentInnerSequence.then(e)}return this},t.prototype.onStart=function(){this.currentInnerSequence=this.startingInnerSequence,this.currentInnerSequence&&this.currentInnerSequence.onStart()},t.prototype.update=function(e){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(e))},t.prototype.onFinish=function(){this.currentInnerSequence&&this.currentInnerSequence.onFinish()},t.prototype.hasFinish=function(){return null==this.currentInnerSequence},t.prototype.getSequence=function(){if(this.currentInnerSequence){var e=this.currentInnerSequence.getSequence();if(e instanceof t&&!e.closed)return e}return this},t}(O),F=function(e){function t(t){var n=e.call(this)||this;return n.result=!1,n.condition=t,n}return i(t,e),t.prototype.onStart=function(){this.result=this.condition(),this.result?e.prototype.onStart.call(this):this.currentInnerSequence=null},t}(z),R=function(e){function t(t){var n=e.call(this)||this;return n.ifSequence=null,n.ifSequence=t,n}return i(t,e),t.prototype.onStart=function(){this.ifSequence&&!this.ifSequence.result?e.prototype.onStart.call(this):this.currentInnerSequence=null},t}(z),D=function(e){function t(t){var n=e.call(this)||this;return n.breakWhile=!1,n.condition=t,n}return i(t,e),t.prototype.onStart=function(){this.breakWhile=!1,this.condition()?e.prototype.onStart.call(this):this.currentInnerSequence=null},t.prototype.update=function(e){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,null==this.currentInnerSequence&&(this.currentInnerSequence=this.startingInnerSequence),this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(e))},t.prototype.hasFinish=function(){return this.breakWhile||!this.condition()},t}(z),B=function(e){function t(t){var n=e.call(this)||this;return n.whileNode=t,n}return i(t,e),t.prototype.onStart=function(){this.whileNode.breakWhile=!0},t}(O);e.Delay=C,e.ExpireIn=b,e.FollowCurvedPathComponent=y,e.FollowPathComponent=m,e.Interpolate=h,e.Interval=v,e.KeepRotatingComponent=T,e.MoveTransformComponent=d,e.RotateTransformComponent=g,e.ScaleTransformComponent=f,e.SequenceNode=O,e.ToggleComponent=S,e.TransformSystem=c,e.TriggerBoxShape=P,e.TriggerComponent=N,e.TriggerSphereShape=k,e.TriggerSystem=w,e.addLabel=I,e.addOneTimeTrigger=function(e,t,n){var i=!1,r=!1,o=new Entity;o.addComponent(new Transform({}));var a={};return t.layer&&(a.layer=t.layer),t.triggeredByLayer&&(a.triggeredByLayer=t.triggeredByLayer),t.onCameraEnter&&(a.onCameraEnter=function(){i||(i=!0,t.onCameraEnter()),!i&&t.onCameraEnter||!r&&t.onCameraExit||engine.removeEntity(o)}),t.onCameraExit&&(a.onCameraExit=function(){r||(r=!0,t.onCameraExit()),!i&&t.onCameraEnter||!r&&t.onCameraExit||engine.removeEntity(o)}),t.enableDebug&&(a.enableDebug=t.enableDebug),o.addComponent(new N(e,a)),n&&o.setParent(n),engine.addEntity(o),o},e.addTestCube=function(e,n,i,r,s,u,c){return o(this,void 0,void 0,(function(){var o,h,l;return a(this,(function(a){switch(a.label){case 0:return(o=!c)?[4,!t.isPreviewMode()]:[3,2];case 1:o=a.sent(),a.label=2;case 2:return o?[2]:((h=new Entity).addComponent(new Transform(e)),s?(h.addComponent(new SphereShape),h.getComponent(Transform).scale.setAll(.5)):h.addComponent(new BoxShape),engine.addEntity(h),h.addComponent(new OnPointerDown(n,{hoverText:i||\"click\",button:ActionButton.POINTER})),r&&((l=new Material).albedoColor=r,h.addComponent(l)),u&&(h.getComponent(BoxShape).withCollisions=!1),i&&I(i,h,!0),[2,h])}}))}))},e.clamp=function(e,t,n){var i=e;return e>n?i=n:e<t&&(i=t),i},e.getEntityWorldPosition=function e(t){var n=t.hasComponent(Transform)?t.getComponent(Transform).position.clone():Vector3.Zero(),i=t.getParent();if(null!=i&&\"0\"!=i.uuid){if(\"FirstPersonCameraEntityReference\"==i.uuid){var r=Camera.instance.rotation.clone();return Camera.instance.position.clone().add(n.rotate(r))}if(\"AvatarEntityReference\"==i.uuid){var o=Camera.instance.rotation;r=Quaternion.Euler(0,o.eulerAngles.y,0);return Camera.instance.position.clone().add(n.rotate(r)).add(new Vector3(0,-.875,0))}r=i.hasComponent(Transform)?i.getComponent(Transform).rotation:Quaternion.Identity;return e(i).add(n.rotate(r))}return n},e.getEntityWorldRotation=function e(t){var n=t.hasComponent(Transform)?t.getComponent(Transform).rotation.clone():Quaternion.Zero(),i=t.getParent();if(null!=i&&\"0\"!=i.uuid){if(\"FirstPersonCameraEntityReference\"==i.uuid){var r=Camera.instance.rotation.clone();return n.multiply(r)}if(\"AvatarEntityReference\"==i.uuid){r=Quaternion.Euler(0,Camera.instance.rotation.eulerAngles.y,0);return n.multiply(r)}r=e(i);return n.multiply(r)}return n},e.map=function(e,t,n,i,r){return(e-t)/(n-t)*(r-i)+i},e.sendRequest=function(e,t,n,i){return o(this,void 0,void 0,(function(){var r,o,s;return a(this,(function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),r={method:t||\"GET\"},n&&(r.headers=n),i&&(r.body=JSON.stringify(i)),[4,fetch(e,r)];case 1:o=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,o.json()];case 3:return[2,a.sent()];case 4:return a.sent(),[2,o];case 5:return[3,7];case 6:return s=a.sent(),log(\"error fetching from \",e,\" : \",s),[3,7];case 7:return[2]}}))}))},e.setTimeout=function(e,t){var n=new Entity;return n.addComponent(new C(e,(function(){t(),engine.removeEntity(n)}))),engine.addEntity(n),n},Object.defineProperty(e,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL3NyYy90cmFuc2Zvcm0vbWF0aC9pbnRlcnBvbGF0aW9uLnRzIiwiLi4vc3JjL3RyYW5zZm9ybS9zeXN0ZW0vdHJhbnNmcm9tU3lzdGVtLnRzIiwiLi4vc3JjL3RvZ2dsZS90b2dnbGVDb21wb25lbnQudHMiLCIuLi9zcmMvdHJhbnNmb3JtL2NvbXBvbmVudC9tb3ZlLnRzIiwiLi4vc3JjL3RyYW5zZm9ybS9jb21wb25lbnQvcm90YXRlLnRzIiwiLi4vc3JjL3RyYW5zZm9ybS9jb21wb25lbnQvc2NhbGUudHMiLCIuLi9zcmMvdHJhbnNmb3JtL2NvbXBvbmVudC9mb2xsb3dwYXRoLnRzIiwiLi4vc3JjL3RyYW5zZm9ybS9jb21wb25lbnQva2VlcHJvdGF0aW5nLnRzIiwiLi4vc3JjL3RpbWVyL3N5c3RlbS90aW1lclN5c3RlbS50cyIsIi4uL3NyYy90aW1lci9jb21wb25lbnQvZGVsYXkudHMiLCIuLi9zcmMvdGltZXIvY29tcG9uZW50L2V4cGlyZS50cyIsIi4uL3NyYy90aW1lci9jb21wb25lbnQvaW50ZXJ2YWwudHMiLCIuLi9zcmMvaGVscGVycy90ZXN0Q3ViZS50cyIsIi4uL3NyYy9hY3Rpb25zU2VxdWVuY2VTeXN0ZW0vYWN0aW9uc1NlcXVlbmNlU3lzdGVtLnRzIiwiLi4vc3JjL3RyaWdnZXJzL3RyaWdnZXJTeXN0ZW0udHMiLCIuLi9zcmMvaGVscGVycy9vbmVUaW1lVHJpZ2dlci50cyIsIi4uL3NyYy9oZWxwZXJzL2hlbHBlcmZ1bmN0aW9ucy50cyIsIi4uL3NyYy9oZWxwZXJzL3JlcXVlc3RzLnRzIiwiLi4vc3JjL2hlbHBlcnMvdGltZU91dC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGVudW0gSW50ZXJwb2xhdGlvblR5cGUge1xuICBMSU5FQVIsXG5cbiAgRUFTRUlOUVVBRCxcbiAgRUFTRU9VVFFVQUQsXG4gIEVBU0VRVUFELFxuXG4gIEVBU0VJTlNJTkUgPSAnZWFzZWluc2luZScsXG4gIEVBU0VPVVRTSU5FID0gJ2Vhc2VvdXRzaW5lJyxcbiAgRUFTRVNJTkUgPSAnZWFzZWlub3V0c2luZScsXG5cbiAgRUFTRUlORVhQTyA9ICdlYXNlaW5leHBvJyxcbiAgRUFTRU9VVEVYUE8gPSAnZWFzZW91dGV4cG8nLFxuICBFQVNFRVhQTyA9ICdlYXNlaW5vdXRleHBvJyxcblxuICBFQVNFSU5FTEFTVElDID0gJ2Vhc2VpbmVsYXN0aWMnLFxuICBFQVNFT1VURUxBU1RJQyA9ICdlYXNlb3V0ZWxhc3RpYycsXG4gIEVBU0VFTEFTVElDID0gJ2Vhc2Vpbm91dGVsYXN0aWMnLFxuXG4gIEVBU0VJTkJPVU5DRSA9ICdlYXNlaW5ib3VuY2UnLFxuICBFQVNFT1VURUJPVU5DRSA9ICdlYXNlb3V0Ym91bmNlJyxcbiAgRUFTRUJPVU5DRSA9ICdlYXNlaW5vdXRib3VuY2UnLFxufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEludGVycG9sYXRlKHR5cGU6IEludGVycG9sYXRpb25UeXBlLCB0OiBudW1iZXIpOiBudW1iZXIge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkxJTkVBUjpcbiAgICAgIFx0cmV0dXJuIEludGVycG9sYXRlTGluZWFyKHQpXG5cdFx0YnJlYWtcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VJTlFVQUQ6XG4gICAgICBcdHJldHVybiBJbnRlcnBvbGF0ZUVhc2VJblF1YWQodClcblx0XHRicmVha1xuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRU9VVFFVQUQ6XG4gICAgICBcdHJldHVybiBJbnRlcnBvbGF0ZUVhc2VPdXRRdWFkKHQpXG5cdFx0YnJlYWtcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VRVUFEOlxuICAgICAgXHRyZXR1cm4gSW50ZXJwb2xhdGVFYXNlUXVhZCh0KVxuXHRcdGJyZWFrXG5cdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUlOU0lORTpcblx0XHRyZXR1cm4gSW50ZXJwb2xhdGVFYXNlSW5TaW5lKHQpXG5cdFx0YnJlYWtcblx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFT1VUU0lORTpcblx0XHRyZXR1cm4gSW50ZXJwb2xhdGVFYXNlT3V0U2luZSh0KVxuXHRcdGJyZWFrXG5cdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRVNJTkU6XG5cdFx0cmV0dXJuIEludGVycG9sYXRlRWFzZUluT3V0U2luZSh0KVxuXHRcdGJyZWFrXG5cdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUlORVhQTzpcblx0XHRyZXR1cm4gSW50ZXJwb2xhdGVFYXNlSW5FeHBvKHQpXG5cdFx0YnJlYWtcblx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFT1VURVhQTzpcblx0XHRyZXR1cm4gSW50ZXJwb2xhdGVFYXNlT3V0RXhwbyh0KVxuXHRcdGJyZWFrXG5cdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUVYUE86XG5cdFx0cmV0dXJuIEludGVycG9sYXRlRWFzZUluT3V0RXhwbyh0KVxuXHRcdGJyZWFrXG5cdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUlORUxBU1RJQzpcblx0XHRyZXR1cm4gSW50ZXJwb2xhdGVFYXNlSW5FbGFzdGljKHQpXG5cdFx0YnJlYWtcblx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFT1VURUxBU1RJQzpcblx0XHRyZXR1cm4gSW50ZXJwb2xhdGVFYXNlT3V0RWxhc3RpYyh0KVxuXHRcdGJyZWFrXHRcblx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFRUxBU1RJQzpcblx0XHRyZXR1cm4gSW50ZXJwb2xhdGVFYXNlSW5PdXRFbGFzdGljKHQpXG5cdFx0YnJlYWtcblx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFSU5CT1VOQ0U6XG5cdFx0cmV0dXJuIEludGVycG9sYXRlRWFzZUluQm91bmNlKHQpXG5cdFx0YnJlYWtcblx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFT1VURUJPVU5DRTpcblx0XHRyZXR1cm4gSW50ZXJwb2xhdGVFYXNlT3V0Qm91bmNlKHQpXG5cdFx0YnJlYWtcblx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFQk9VTkNFOlxuXHRcdHJldHVybiBJbnRlcnBvbGF0ZUVhc2VJbk91dEJvdW5jZSh0KVxuXHRcdGJyZWFrXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBJbnRlcnBvbGF0ZUxpbmVhcih0KVxuICB9XG59XG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUxpbmVhcih0OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gdFxufVxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5RdWFkKHQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB0ICogdFxufVxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlT3V0UXVhZCh0OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gdCAqICgyIC0gdClcbn1cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZVF1YWQodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuICh0ICogdCkgLyAoMi4wICogKHQgKiB0IC0gdCkgKyAxLjApXG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZUluU2luZSh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gMSAtIE1hdGguY29zKCh0ICogTWF0aC5QSSkgLyAyKVxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VPdXRTaW5lKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBNYXRoLnNpbigodCAqIE1hdGguUEkpIC8gMilcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5PdXRTaW5lKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiAtKE1hdGguY29zKE1hdGguUEkgKiB0KSAtIDEpIC8gMlxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VJbkV4cG8odDogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIHQgPT09IDAgPyAwIDogTWF0aC5wb3coMiwgMTAgKiB0IC0gMTApXG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZU91dEV4cG8odDogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIHQgPT09IDEgPyAxIDogMSAtIE1hdGgucG93KDIsIC0xMCAqIHQpXG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZUluT3V0RXhwbyh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gdCA9PT0gMFxuXHRcdFx0PyAwXG5cdFx0XHQ6IHQgPT09IDFcblx0XHRcdD8gMVxuXHRcdFx0OiB0IDwgMC41XG5cdFx0XHQ/IE1hdGgucG93KDIsIDIwICogdCAtIDEwKSAvIDJcblx0XHRcdDogKDIgLSBNYXRoLnBvdygyLCAtMjAgKiB0ICsgMTApKSAvIDJcbn1cblxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VJbkVsYXN0aWModDogbnVtYmVyKTogbnVtYmVyIHtcblx0Y29uc3QgYzQgPSAoMiAqIE1hdGguUEkpIC8gM1xuXHRcblx0cmV0dXJuIHQgPT09IDBcblx0XHRcdD8gMFxuXHRcdFx0OiB0ID09PSAxXG5cdFx0XHQ/IDFcblx0XHRcdDogLU1hdGgucG93KDIsIDEwICogdCAtIDEwKSAqIE1hdGguc2luKCh0ICogMTAgLSAxMC43NSkgKiBjNClcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlT3V0RWxhc3RpYyh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRjb25zdCBjNSA9ICgyICogTWF0aC5QSSkgLyAzXG5cdFxuXHRyZXR1cm4gdCA9PT0gMFxuXHRcdFx0PyAwXG5cdFx0XHQ6IHQgPT09IDFcblx0XHRcdD8gMVxuXHRcdFx0OiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0ICogMTAgLSAwLjc1KSAqIGM1KSArIDFcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5PdXRFbGFzdGljKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdGNvbnN0IGM2ID0gKDIgKiBNYXRoLlBJKSAvIDQuNVxuXHRcblx0cmV0dXJuIHQgPT09IDBcblx0XHRcdD8gMFxuXHRcdFx0OiB0ID09PSAxXG5cdFx0XHQ/IDFcblx0XHRcdDogdCA8IDAuNVxuXHRcdFx0PyAtKE1hdGgucG93KDIsIDIwICogdCAtIDEwKSAqIE1hdGguc2luKCgyMCAqIHQgLSAxMS4xMjUpICogYzYpKSAvIDJcblx0XHRcdDogKE1hdGgucG93KDIsIC0yMCAqIHQgKyAxMCkgKiBNYXRoLnNpbigoMjAgKiB0IC0gMTEuMTI1KSAqIGM2KSkgLyAyICsgMVxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VJbkJvdW5jZSh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gMSAtIGJvdW5jZSgxIC0gdClcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlT3V0Qm91bmNlKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBib3VuY2UodClcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5PdXRCb3VuY2UodDogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIHQgPCAwLjUgPyAoMSAtIGJvdW5jZSgxIC0gMiAqIHQpKSAvIDIgOiAoMSArIGJvdW5jZSgyICogdCAtIDEpKSAvIDJcbn1cblxuXHRcbmZ1bmN0aW9uIGJvdW5jZSh4OiBudW1iZXIpIHtcblx0Y29uc3QgbjEgPSA3LjU2MjVcblx0Y29uc3QgZDEgPSAyLjc1XG5cblx0aWYgKHggPCAxIC8gZDEpIHtcblx0XHRyZXR1cm4gbjEgKiB4ICogeFxuXHR9IGVsc2UgaWYgKHggPCAyIC8gZDEpIHtcblx0XHRyZXR1cm4gbjEgKiAoeCAtPSAxLjUgLyBkMSkgKiB4ICsgMC43NVxuXHR9IGVsc2UgaWYgKHggPCAyLjUgLyBkMSkge1xuXHRcdHJldHVybiBuMSAqICh4IC09IDIuMjUgLyBkMSkgKiB4ICsgMC45Mzc1XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIG4xICogKHggLT0gMi42MjUgLyBkMSkgKiB4ICsgMC45ODQzNzVcblx0fVxufSIsImltcG9ydCB7IElUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQvaXRyYW5zZm9ybWNvbXBvbmVudCdcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFuc2Zvcm1TeXN0ZW0gaW1wbGVtZW50cyBJU3lzdGVtIHtcbiAgcHVibGljIHN0YXRpYyBfaW5zdGFuY2U6IFRyYW5zZm9ybVN5c3RlbSB8IG51bGwgPSBudWxsXG5cbiAgcHJpdmF0ZSBfY29tcG9uZW50czogQ29tcG9uZW50Q29uc3RydWN0b3I8SVRyYW5zZm9ybUNvbXBvbmVudD5bXSA9IFtdXG4gIHByaXZhdGUgX2NvbXBvbmVudEdyb3VwczogQ29tcG9uZW50R3JvdXBbXSA9IFtdXG5cbiAgc3RhdGljIGNyZWF0ZUFuZEFkZFRvRW5naW5lKCk6IFRyYW5zZm9ybVN5c3RlbSB7XG4gICAgaWYgKHRoaXMuX2luc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IFRyYW5zZm9ybVN5c3RlbSgpXG4gICAgICBlbmdpbmUuYWRkU3lzdGVtKHRoaXMuX2luc3RhbmNlKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2VcbiAgfVxuXG4gIHN0YXRpYyByZWdpc3RlckN1c3RvbUNvbXBvbmVudDxUIGV4dGVuZHMgSVRyYW5zZm9ybUNvbXBvbmVudD4oXG4gICAgY29tcG9uZW50OiBDb21wb25lbnRDb25zdHJ1Y3RvcjxUPlxuICApIHtcbiAgICB0aGlzLmNyZWF0ZUFuZEFkZFRvRW5naW5lKCkuX2NvbXBvbmVudHMucHVzaChjb21wb25lbnQpXG4gIH1cblxuICBwdWJsaWMgYWRkQ29tcG9uZW50VHlwZShcbiAgICBjb21wb25lbnQ6IENvbXBvbmVudENvbnN0cnVjdG9yPElUcmFuc2Zvcm1Db21wb25lbnQ+XG4gICkge1xuICAgIGZvciAobGV0IGNvbXAgb2YgdGhpcy5fY29tcG9uZW50cykge1xuICAgICAgaWYgKGNvbXBvbmVudCA9PSBjb21wKSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9jb21wb25lbnRzLnB1c2goY29tcG9uZW50KVxuICAgIHRoaXMuX2NvbXBvbmVudEdyb3Vwcy5wdXNoKGVuZ2luZS5nZXRDb21wb25lbnRHcm91cChjb21wb25lbnQsIFRyYW5zZm9ybSkpXG4gIH1cblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIFRyYW5zZm9ybVN5c3RlbS5faW5zdGFuY2UgPSB0aGlzXG4gIH1cblxuICB1cGRhdGUoZHQ6IG51bWJlcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoZHQsIHRoaXMuX2NvbXBvbmVudHNbaV0sIHRoaXMuX2NvbXBvbmVudEdyb3Vwc1tpXSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUNvbXBvbmVudDxUIGV4dGVuZHMgSVRyYW5zZm9ybUNvbXBvbmVudD4oXG4gICAgZHQ6IG51bWJlcixcbiAgICBjb21wb25lbnQ6IENvbXBvbmVudENvbnN0cnVjdG9yPFQ+LFxuICAgIGdyb3VwOiBDb21wb25lbnRHcm91cFxuICApIHtcbiAgICBncm91cC5lbnRpdGllcy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFRyYW5zZm9ybSlcbiAgICAgIGNvbnN0IGNvbXAgPSBlbnRpdHkuZ2V0Q29tcG9uZW50KGNvbXBvbmVudClcblxuICAgICAgY29tcC51cGRhdGUoZHQpXG4gICAgICBjb21wLmFzc2lnblZhbHVlVG9UcmFuc2Zvcm0odHJhbnNmb3JtKVxuICAgICAgaWYgKGNvbXAuaGFzRmluaXNoZWQoKSkge1xuICAgICAgICBlbnRpdHkucmVtb3ZlQ29tcG9uZW50KGNvbXApXG4gICAgICAgIGlmIChjb21wLm9uRmluaXNoQ2FsbGJhY2sgIT0gbnVsbCkgY29tcC5vbkZpbmlzaENhbGxiYWNrKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCIvKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGVudW0gVG9nZ2xlU3RhdGUge1xuICBPZmYgPSAwLFxuICBPblxufVxuXG4vKipcbiAqIFRvZ2dsZSBjb21wb25lbnQgZm9yIGVudGl0aWVzIHdpdGggdHdvIHN0YXRlcyAoT04gb3IgT0ZGKVxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCd0b2dnbGUnKVxuZXhwb3J0IGNsYXNzIFRvZ2dsZUNvbXBvbmVudCB7XG4gIHB1YmxpYyBlbmFibGVkOiBib29sZWFuID0gdHJ1ZVxuXG4gIHByaXZhdGUgb25WYWx1ZUNoYW5nZWRDYWxsYmFjaz86ICh2YWx1ZTogVG9nZ2xlU3RhdGUpID0+IHZvaWRcbiAgcHJpdmF0ZSBzdGF0ZTogVG9nZ2xlU3RhdGUgPSBUb2dnbGVTdGF0ZS5PZmZcblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIGEgVG9nZ2xlQ29tcG9uZW50XG4gICAqIEBwYXJhbSBzdGFydGluZ1N0YXRlIC0gc3RhcnRpbmcgc3RhdGUgb2YgdGhlIHRvZ2dsZSAoT04gb3IgT0ZGKVxuICAgKiBAcGFyYW0gb25WYWx1ZUNoYW5nZWRDYWxsYmFjayAtIGNhbGxlZCB3aGVuIHRvZ2dsZSBzdGF0ZSBjaGFuZ2VkXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBzdGFydGluZ1N0YXRlOiBUb2dnbGVTdGF0ZSA9IFRvZ2dsZVN0YXRlLk9uLFxuICAgIG9uVmFsdWVDaGFuZ2VkQ2FsbGJhY2s/OiAodmFsdWU6IFRvZ2dsZVN0YXRlKSA9PiB2b2lkXG4gICkge1xuICAgIHRoaXMuc2V0KHN0YXJ0aW5nU3RhdGUpXG4gICAgaWYgKG9uVmFsdWVDaGFuZ2VkQ2FsbGJhY2spIHRoaXMuc2V0Q2FsbGJhY2sob25WYWx1ZUNoYW5nZWRDYWxsYmFjaylcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdHJpZ2dlciB0byBhIHN0YXRlXG4gICAqIEBwYXJhbSBzdGF0ZSAtIG5ldyBzdGF0ZVxuICAgKi9cbiAgcHVibGljIHNldChzdGF0ZTogVG9nZ2xlU3RhdGUpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGVcbiAgICBpZiAodGhpcy5vblZhbHVlQ2hhbmdlZENhbGxiYWNrKSB0aGlzLm9uVmFsdWVDaGFuZ2VkQ2FsbGJhY2soc3RhdGUpXG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIHN0YXRlIG9mIFRvZ2dsZUNvbXBvbmVudFxuICAgKi9cbiAgcHVibGljIHRvZ2dsZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICB0aGlzLnNldCgxIC0gdGhpcy5zdGF0ZSlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGlmIHRoZSBjdXJyZW50IHRvZ2dsZSBzdGF0ZSBpcyBPTlxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgcHVibGljIGlzT24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUgPT0gVG9nZ2xlU3RhdGUuT25cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgY2FsbGJhY2sgZm9yIHdoZW4gVG9nZ2xlQ29tcG9uZW50IHN0YXRlIGNoYW5nZWRcbiAgICogQHBhcmFtIG9uVmFsdWVDaGFuZ2VkQ2FsbGJhY2sgLSBjYWxsYmFja1xuICAgKi9cbiAgcHVibGljIHNldENhbGxiYWNrKFxuICAgIG9uVmFsdWVDaGFuZ2VkQ2FsbGJhY2s6ICh2YWx1ZTogVG9nZ2xlU3RhdGUpID0+IHZvaWRcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5vblZhbHVlQ2hhbmdlZENhbGxiYWNrID0gb25WYWx1ZUNoYW5nZWRDYWxsYmFja1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgVG9nZ2xlQ29tcG9uZW50LFxuICBUb2dnbGVTdGF0ZVxufVxuIiwiaW1wb3J0IHsgSVRyYW5zZm9ybUNvbXBvbmVudCB9IGZyb20gJy4vaXRyYW5zZm9ybWNvbXBvbmVudCdcbmltcG9ydCB7IFRyYW5zZm9ybVN5c3RlbSB9IGZyb20gJy4uL3N5c3RlbS90cmFuc2Zyb21TeXN0ZW0nXG5pbXBvcnQgeyBJbnRlcnBvbGF0aW9uVHlwZSwgSW50ZXJwb2xhdGUgfSBmcm9tICcuLi9tYXRoL2ludGVycG9sYXRpb24nXG5cbi8qKlxuICogQ29tcG9uZW50IHRvIHRyYW5zbGF0ZSBlbnRpdHkgZnJvbSBvbmUgcG9zaXRpb24gKHN0YXJ0KSB0byBhbm90aGVyIChlbmQpIGluIGFuIGFtb3VudCBvZiB0aW1lXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ21vdmVUcmFuc2Zvcm1Db21wb25lbnQnKVxuZXhwb3J0IGNsYXNzIE1vdmVUcmFuc2Zvcm1Db21wb25lbnQgaW1wbGVtZW50cyBJVHJhbnNmb3JtQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBzdGFydDogUmVhZE9ubHlWZWN0b3IzXG4gIHByaXZhdGUgZW5kOiBSZWFkT25seVZlY3RvcjNcbiAgcHJpdmF0ZSBzcGVlZDogbnVtYmVyXG4gIHByaXZhdGUgbm9ybWFsaXplZFRpbWU6IG51bWJlclxuICBwcml2YXRlIGludGVycG9sYXRpb25UeXBlOiBJbnRlcnBvbGF0aW9uVHlwZVxuICBwcml2YXRlIGxlcnBUaW1lOiBudW1iZXJcblxuICBvbkZpbmlzaENhbGxiYWNrPzogKCkgPT4gdm9pZFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBNb3ZlVHJhbnNmb3JtQ29tcG9uZW50IGluc3RhbmNlIHRvIGFkZCBhcyBhIGNvbXBvbmVudCB0byBhIEVudGl0eVxuICAgKiBAcGFyYW0gc3RhcnQgLSBzdGFydGluZyBwb3NpdGlvblxuICAgKiBAcGFyYW0gZW5kIC0gZW5kaW5nIHBvc2l0aW9uXG4gICAqIEBwYXJhbSBkdXJhdGlvbiAtIGR1cmF0aW9uIChpbiBzZWNvbmRzKSBvZiBzdGFydCB0byBlbmQgdHJhbnNsYXRpb25cbiAgICogQHBhcmFtIG9uRmluaXNoQ2FsbGJhY2sgLSBjYWxsZWQgd2hlbiB0cmFuc2xhdGlvbiBlbmRzXG4gICAqIEBwYXJhbSBpbnRlcnBvbGF0aW9uVHlwZSAtIHR5cGUgb2YgaW50ZXJwb2xhdGlvbiB0byBiZSB1c2VkIChkZWZhdWx0OiBMSU5FQVIpXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBzdGFydDogUmVhZE9ubHlWZWN0b3IzLFxuICAgIGVuZDogUmVhZE9ubHlWZWN0b3IzLFxuICAgIGR1cmF0aW9uOiBudW1iZXIsXG4gICAgb25GaW5pc2hDYWxsYmFjaz86ICgpID0+IHZvaWQsXG4gICAgaW50ZXJwb2xhdGlvblR5cGU6IEludGVycG9sYXRpb25UeXBlID0gSW50ZXJwb2xhdGlvblR5cGUuTElORUFSXG4gICkge1xuICAgIHRoaXMuc3RhcnQgPSBzdGFydFxuICAgIHRoaXMuZW5kID0gZW5kXG4gICAgdGhpcy5ub3JtYWxpemVkVGltZSA9IDBcbiAgICB0aGlzLmxlcnBUaW1lID0gMFxuICAgIHRoaXMub25GaW5pc2hDYWxsYmFjayA9IG9uRmluaXNoQ2FsbGJhY2tcbiAgICB0aGlzLmludGVycG9sYXRpb25UeXBlID0gaW50ZXJwb2xhdGlvblR5cGVcblxuICAgIGlmIChkdXJhdGlvbiAhPSAwKSB7XG4gICAgICB0aGlzLnNwZWVkID0gMSAvIGR1cmF0aW9uXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3BlZWQgPSAwXG4gICAgICB0aGlzLm5vcm1hbGl6ZWRUaW1lID0gMVxuICAgICAgdGhpcy5sZXJwVGltZSA9IDFcbiAgICB9XG5cbiAgICBsZXQgaW5zdGFuY2UgPSBUcmFuc2Zvcm1TeXN0ZW0uY3JlYXRlQW5kQWRkVG9FbmdpbmUoKVxuICAgIGluc3RhbmNlLmFkZENvbXBvbmVudFR5cGUoTW92ZVRyYW5zZm9ybUNvbXBvbmVudClcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgdGhpcy5ub3JtYWxpemVkVGltZSA9IFNjYWxhci5DbGFtcChcbiAgICAgIHRoaXMubm9ybWFsaXplZFRpbWUgKyBkdCAqIHRoaXMuc3BlZWQsXG4gICAgICAwLFxuICAgICAgMVxuICAgIClcbiAgICB0aGlzLmxlcnBUaW1lID0gSW50ZXJwb2xhdGUodGhpcy5pbnRlcnBvbGF0aW9uVHlwZSwgdGhpcy5ub3JtYWxpemVkVGltZSlcbiAgfVxuXG4gIGhhc0ZpbmlzaGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZWRUaW1lID49IDFcbiAgfVxuXG4gIGFzc2lnblZhbHVlVG9UcmFuc2Zvcm0odHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLkxlcnAodGhpcy5zdGFydCwgdGhpcy5lbmQsIHRoaXMubGVycFRpbWUpXG4gIH1cbn1cbiIsImltcG9ydCB7IElUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tICcuL2l0cmFuc2Zvcm1jb21wb25lbnQnXG5pbXBvcnQgeyBUcmFuc2Zvcm1TeXN0ZW0gfSBmcm9tICcuLi9zeXN0ZW0vdHJhbnNmcm9tU3lzdGVtJ1xuaW1wb3J0IHsgSW50ZXJwb2xhdGlvblR5cGUsIEludGVycG9sYXRlIH0gZnJvbSAnLi4vbWF0aC9pbnRlcnBvbGF0aW9uJ1xuXG4vKipcbiAqIENvbXBvbmVudCB0byByb3RhdGUgZW50aXR5IGZyb20gb25lIHJvdGF0aW9uIChzdGFydCkgdG8gYW5vdGhlciAoZW5kKSBpbiBhbiBhbW91bnQgb2YgdGltZVxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdyb3RhdGVUcmFuc2Zvcm1Db21wb25lbnQnKVxuZXhwb3J0IGNsYXNzIFJvdGF0ZVRyYW5zZm9ybUNvbXBvbmVudCBpbXBsZW1lbnRzIElUcmFuc2Zvcm1Db21wb25lbnQge1xuICBwcml2YXRlIHN0YXJ0OiBSZWFkT25seVF1YXRlcm5pb25cbiAgcHJpdmF0ZSBlbmQ6IFJlYWRPbmx5UXVhdGVybmlvblxuICBwcml2YXRlIHNwZWVkOiBudW1iZXJcbiAgcHJpdmF0ZSBub3JtYWxpemVkVGltZTogbnVtYmVyXG4gIHByaXZhdGUgaW50ZXJwb2xhdGlvblR5cGU6IEludGVycG9sYXRpb25UeXBlXG4gIHByaXZhdGUgbGVycFRpbWU6IG51bWJlclxuXG4gIG9uRmluaXNoQ2FsbGJhY2s/OiAoKSA9PiB2b2lkXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIFJvdGF0ZVRyYW5zZm9ybUNvbXBvbmVudCBpbnN0YW5jZSB0byBhZGQgYXMgYSBjb21wb25lbnQgdG8gYSBFbnRpdHlcbiAgICogQHBhcmFtIHN0YXJ0IC0gc3RhcnRpbmcgcm90YXRpb25cbiAgICogQHBhcmFtIGVuZCAtIGVuZGluZyByb3RhdGlvblxuICAgKiBAcGFyYW0gZHVyYXRpb24gLSBkdXJhdGlvbiAoaW4gc2Vjb25kcykgb2Ygc3RhcnQgdG8gZW5kIHJvdGF0aW9uXG4gICAqIEBwYXJhbSBvbkZpbmlzaENhbGxiYWNrIC0gY2FsbGVkIHdoZW4gcm90YXRpb24gZW5kc1xuICAgKiBAcGFyYW0gaW50ZXJwb2xhdGlvblR5cGUgLSB0eXBlIG9mIGludGVycG9sYXRpb24gdG8gYmUgdXNlZCAoZGVmYXVsdDogTElORUFSKVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgc3RhcnQ6IFJlYWRPbmx5UXVhdGVybmlvbixcbiAgICBlbmQ6IFJlYWRPbmx5UXVhdGVybmlvbixcbiAgICBkdXJhdGlvbjogbnVtYmVyLFxuICAgIG9uRmluaXNoQ2FsbGJhY2s/OiAoKSA9PiB2b2lkLFxuICAgIGludGVycG9sYXRpb25UeXBlOiBJbnRlcnBvbGF0aW9uVHlwZSA9IEludGVycG9sYXRpb25UeXBlLkxJTkVBUlxuICApIHtcbiAgICB0aGlzLnN0YXJ0ID0gc3RhcnRcbiAgICB0aGlzLmVuZCA9IGVuZFxuICAgIHRoaXMubm9ybWFsaXplZFRpbWUgPSAwXG4gICAgdGhpcy5sZXJwVGltZSA9IDBcbiAgICB0aGlzLm9uRmluaXNoQ2FsbGJhY2sgPSBvbkZpbmlzaENhbGxiYWNrXG4gICAgdGhpcy5pbnRlcnBvbGF0aW9uVHlwZSA9IGludGVycG9sYXRpb25UeXBlXG5cbiAgICBpZiAoZHVyYXRpb24gIT0gMCkge1xuICAgICAgdGhpcy5zcGVlZCA9IDEgLyBkdXJhdGlvblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNwZWVkID0gMFxuICAgICAgdGhpcy5ub3JtYWxpemVkVGltZSA9IDFcbiAgICAgIHRoaXMubGVycFRpbWUgPSAxXG4gICAgfVxuXG4gICAgbGV0IGluc3RhbmNlID0gVHJhbnNmb3JtU3lzdGVtLmNyZWF0ZUFuZEFkZFRvRW5naW5lKClcbiAgICBpbnN0YW5jZS5hZGRDb21wb25lbnRUeXBlKFJvdGF0ZVRyYW5zZm9ybUNvbXBvbmVudClcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgdGhpcy5ub3JtYWxpemVkVGltZSA9IFNjYWxhci5DbGFtcChcbiAgICAgIHRoaXMubm9ybWFsaXplZFRpbWUgKyBkdCAqIHRoaXMuc3BlZWQsXG4gICAgICAwLFxuICAgICAgMVxuICAgIClcbiAgICB0aGlzLmxlcnBUaW1lID0gSW50ZXJwb2xhdGUodGhpcy5pbnRlcnBvbGF0aW9uVHlwZSwgdGhpcy5ub3JtYWxpemVkVGltZSlcbiAgfVxuXG4gIGhhc0ZpbmlzaGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZWRUaW1lID49IDFcbiAgfVxuXG4gIGFzc2lnblZhbHVlVG9UcmFuc2Zvcm0odHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLlNsZXJwKHRoaXMuc3RhcnQsIHRoaXMuZW5kLCB0aGlzLmxlcnBUaW1lKVxuICB9XG59XG4iLCJpbXBvcnQgeyBJVHJhbnNmb3JtQ29tcG9uZW50IH0gZnJvbSAnLi9pdHJhbnNmb3JtY29tcG9uZW50J1xuaW1wb3J0IHsgVHJhbnNmb3JtU3lzdGVtIH0gZnJvbSAnLi4vc3lzdGVtL3RyYW5zZnJvbVN5c3RlbSdcbmltcG9ydCB7IEludGVycG9sYXRpb25UeXBlLCBJbnRlcnBvbGF0ZSB9IGZyb20gJy4uL21hdGgvaW50ZXJwb2xhdGlvbidcblxuLyoqXG4gKiBDb21wb25lbnQgdG8gc2NhbGUgZW50aXR5IGZyb20gb25lIHZhbHVlIChzdGFydCkgdG8gYW5vdGhlciAoZW5kKSBpbiBhbiBhbW91bnQgb2YgdGltZVxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdzY2FsZVRyYW5zZm9ybUNvbXBvbmVudCcpXG5leHBvcnQgY2xhc3MgU2NhbGVUcmFuc2Zvcm1Db21wb25lbnQgaW1wbGVtZW50cyBJVHJhbnNmb3JtQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBzdGFydDogUmVhZE9ubHlWZWN0b3IzXG4gIHByaXZhdGUgZW5kOiBSZWFkT25seVZlY3RvcjNcbiAgcHJpdmF0ZSBzcGVlZDogbnVtYmVyXG4gIHByaXZhdGUgbm9ybWFsaXplZFRpbWU6IG51bWJlclxuICBwcml2YXRlIGludGVycG9sYXRpb25UeXBlOiBJbnRlcnBvbGF0aW9uVHlwZVxuICBwcml2YXRlIGxlcnBUaW1lOiBudW1iZXJcblxuICBvbkZpbmlzaENhbGxiYWNrPzogKCkgPT4gdm9pZFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBTY2FsZVRyYW5zZm9ybUNvbXBvbmVudCBpbnN0YW5jZSB0byBhZGQgYXMgYSBjb21wb25lbnQgdG8gYSBFbnRpdHlcbiAgICogQHBhcmFtIHN0YXJ0IC0gc3RhcnRpbmcgc2NhbGVcbiAgICogQHBhcmFtIGVuZCAtIGVuZGluZyBzY2FsZVxuICAgKiBAcGFyYW0gZHVyYXRpb24gLSBkdXJhdGlvbiAoaW4gc2Vjb25kcykgb2Ygc3RhcnQgdG8gZW5kIHNjYWxpbmdcbiAgICogQHBhcmFtIG9uRmluaXNoQ2FsbGJhY2sgLSBjYWxsZWQgd2hlbiBzY2FsaW5nIGVuZHNcbiAgICogQHBhcmFtIGludGVycG9sYXRpb25UeXBlIC0gdHlwZSBvZiBpbnRlcnBvbGF0aW9uIHRvIGJlIHVzZWQgKGRlZmF1bHQ6IExJTkVBUilcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHN0YXJ0OiBSZWFkT25seVZlY3RvcjMsXG4gICAgZW5kOiBSZWFkT25seVZlY3RvcjMsXG4gICAgZHVyYXRpb246IG51bWJlcixcbiAgICBvbkZpbmlzaENhbGxiYWNrPzogKCkgPT4gdm9pZCxcbiAgICBpbnRlcnBvbGF0aW9uVHlwZTogSW50ZXJwb2xhdGlvblR5cGUgPSBJbnRlcnBvbGF0aW9uVHlwZS5MSU5FQVJcbiAgKSB7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0XG4gICAgdGhpcy5lbmQgPSBlbmRcbiAgICB0aGlzLm5vcm1hbGl6ZWRUaW1lID0gMFxuICAgIHRoaXMubGVycFRpbWUgPSAwXG4gICAgdGhpcy5vbkZpbmlzaENhbGxiYWNrID0gb25GaW5pc2hDYWxsYmFja1xuICAgIHRoaXMuaW50ZXJwb2xhdGlvblR5cGUgPSBpbnRlcnBvbGF0aW9uVHlwZVxuXG4gICAgaWYgKGR1cmF0aW9uICE9IDApIHtcbiAgICAgIHRoaXMuc3BlZWQgPSAxIC8gZHVyYXRpb25cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zcGVlZCA9IDBcbiAgICAgIHRoaXMubm9ybWFsaXplZFRpbWUgPSAxXG4gICAgICB0aGlzLmxlcnBUaW1lID0gMVxuICAgIH1cblxuICAgIGxldCBpbnN0YW5jZSA9IFRyYW5zZm9ybVN5c3RlbS5jcmVhdGVBbmRBZGRUb0VuZ2luZSgpXG4gICAgaW5zdGFuY2UuYWRkQ29tcG9uZW50VHlwZShTY2FsZVRyYW5zZm9ybUNvbXBvbmVudClcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgdGhpcy5ub3JtYWxpemVkVGltZSA9IFNjYWxhci5DbGFtcChcbiAgICAgIHRoaXMubm9ybWFsaXplZFRpbWUgKyBkdCAqIHRoaXMuc3BlZWQsXG4gICAgICAwLFxuICAgICAgMVxuICAgIClcbiAgICB0aGlzLmxlcnBUaW1lID0gSW50ZXJwb2xhdGUodGhpcy5pbnRlcnBvbGF0aW9uVHlwZSwgdGhpcy5ub3JtYWxpemVkVGltZSlcbiAgfVxuXG4gIGhhc0ZpbmlzaGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZWRUaW1lID49IDFcbiAgfVxuXG4gIGFzc2lnblZhbHVlVG9UcmFuc2Zvcm0odHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICB0cmFuc2Zvcm0uc2NhbGUgPSBWZWN0b3IzLkxlcnAodGhpcy5zdGFydCwgdGhpcy5lbmQsIHRoaXMubGVycFRpbWUpXG4gIH1cbn1cbiIsImltcG9ydCB7IElUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tICcuL2l0cmFuc2Zvcm1jb21wb25lbnQnXG5pbXBvcnQgeyBUcmFuc2Zvcm1TeXN0ZW0gfSBmcm9tICcuLi9zeXN0ZW0vdHJhbnNmcm9tU3lzdGVtJ1xuXG4vKipcbiAqIENvbXBvbmVudCB0byBtb3ZlIGFuIGVudGl0eSBkb3duIGEgZml4ZWQgcGF0aCBpbiBhIGdpdmVuIGFtb3VudCBvZiB0aW1lXG4gKiBAcHVibGljXG4gKi9cbkBDb21wb25lbnQoJ2ZvbGxvd1BhdGhDb21wb25lbnQnKVxuZXhwb3J0IGNsYXNzIEZvbGxvd1BhdGhDb21wb25lbnQgaW1wbGVtZW50cyBJVHJhbnNmb3JtQ29tcG9uZW50IHtcbiAgcHJpdmF0ZSBwb2ludHM6IFZlY3RvcjNbXVxuICBwcml2YXRlIHNwZWVkOiBudW1iZXJbXSA9IFtdXG4gIHByaXZhdGUgbm9ybWFsaXplZFRpbWU6IG51bWJlclxuICBwcml2YXRlIGN1cnJlbnRJbmRleDogbnVtYmVyXG5cbiAgb25GaW5pc2hDYWxsYmFjaz86ICgpID0+IHZvaWRcbiAgb25Qb2ludFJlYWNoZWRDYWxsYmFjaz86IChjdXJyZW50UG9pbnQ6IFZlY3RvcjMsIG5leHRQb2ludDogVmVjdG9yMykgPT4gdm9pZFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBGb2xsb3dQYXRoQ29tcG9uZW50IGluc3RhbmNlIHRvIGFkZCBhcyBhIGNvbXBvbmVudCB0byBhIEVudGl0eVxuICAgKiBAcGFyYW0gcG9pbnRzIC0gYXJyYXkgb2YgcG9pbnRzIGZvciB0aGUgcGF0aFxuICAgKiBAcGFyYW0gZHVyYXRpb24gLSBkdXJhdGlvbiBvZiB0aGUgbW92ZW1lbnQgdGhyb3VnaCB0aGUgcGF0aFxuICAgKiBAcGFyYW0gb25GaW5pc2hDYWxsYmFjayAtIGNhbGxlZCB3aGVuIG1vdmVtZW50IGVuZHNcbiAgICogQHBhcmFtIG9uUG9pbnRSZWFjaGVkQ2FsbGJhY2sgLSBjYWxsZWQgZXZlcnl0aW1lIGFuIGVudGl0eSByZWFjaGVzIGEgcG9pbnQgb2YgdGhlIHBhdGhcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBvaW50czogVmVjdG9yM1tdLFxuICAgIGR1cmF0aW9uOiBudW1iZXIsXG4gICAgb25GaW5pc2hDYWxsYmFjaz86ICgpID0+IHZvaWQsXG4gICAgb25Qb2ludFJlYWNoZWRDYWxsYmFjaz86IChjdXJyZW50UG9pbnQ6IFZlY3RvcjMsIG5leHRQb2ludDogVmVjdG9yMykgPT4gdm9pZFxuICApIHtcbiAgICB0aGlzLm5vcm1hbGl6ZWRUaW1lID0gMFxuICAgIHRoaXMuY3VycmVudEluZGV4ID0gMFxuICAgIHRoaXMucG9pbnRzID0gcG9pbnRzXG4gICAgdGhpcy5vbkZpbmlzaENhbGxiYWNrID0gb25GaW5pc2hDYWxsYmFja1xuICAgIHRoaXMub25Qb2ludFJlYWNoZWRDYWxsYmFjayA9IG9uUG9pbnRSZWFjaGVkQ2FsbGJhY2tcblxuICAgIGlmIChwb2ludHMubGVuZ3RoIDwgMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdCBsZWFzdCAyIHBvaW50cyBhcmUgbmVlZGVkIGZvciBGb2xsb3dQYXRoQ29tcG9uZW50LicpXG4gICAgfVxuXG4gICAgaWYgKGR1cmF0aW9uID4gMCkge1xuICAgICAgbGV0IHRvdGFsRGlzdCA9IDBcbiAgICAgIGxldCBwb2ludHNEaXN0ID0gW11cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBsZXQgc3FEaXN0ID0gVmVjdG9yMy5EaXN0YW5jZShwb2ludHNbaV0sIHBvaW50c1tpICsgMV0pXG4gICAgICAgIHRvdGFsRGlzdCArPSBzcURpc3RcbiAgICAgICAgcG9pbnRzRGlzdC5wdXNoKHNxRGlzdClcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzRGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnNwZWVkLnB1c2goMSAvICgocG9pbnRzRGlzdFtpXSAvIHRvdGFsRGlzdCkgKiBkdXJhdGlvbikpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubm9ybWFsaXplZFRpbWUgPSAxXG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IHBvaW50cy5sZW5ndGggLSAyXG4gICAgfVxuXG4gICAgbGV0IGluc3RhbmNlID0gVHJhbnNmb3JtU3lzdGVtLmNyZWF0ZUFuZEFkZFRvRW5naW5lKClcbiAgICBpbnN0YW5jZS5hZGRDb21wb25lbnRUeXBlKEZvbGxvd1BhdGhDb21wb25lbnQpXG4gIH1cblxuICB1cGRhdGUoZHQ6IG51bWJlcikge1xuICAgIHRoaXMubm9ybWFsaXplZFRpbWUgPSBTY2FsYXIuQ2xhbXAoXG4gICAgICB0aGlzLm5vcm1hbGl6ZWRUaW1lICsgZHQgKiB0aGlzLnNwZWVkW3RoaXMuY3VycmVudEluZGV4XSxcbiAgICAgIDAsXG4gICAgICAxXG4gICAgKVxuICAgIGlmIChcbiAgICAgIHRoaXMubm9ybWFsaXplZFRpbWUgPj0gMSAmJlxuICAgICAgdGhpcy5jdXJyZW50SW5kZXggPCB0aGlzLnBvaW50cy5sZW5ndGggLSAyXG4gICAgKSB7XG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCsrXG4gICAgICB0aGlzLm5vcm1hbGl6ZWRUaW1lID0gMFxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLm9uUG9pbnRSZWFjaGVkQ2FsbGJhY2sgJiZcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPCB0aGlzLnBvaW50cy5sZW5ndGggLSAxXG4gICAgICApXG4gICAgICAgIHRoaXMub25Qb2ludFJlYWNoZWRDYWxsYmFjayhcbiAgICAgICAgICB0aGlzLnBvaW50c1t0aGlzLmN1cnJlbnRJbmRleF0sXG4gICAgICAgICAgdGhpcy5wb2ludHNbdGhpcy5jdXJyZW50SW5kZXggKyAxXVxuICAgICAgICApXG4gICAgfVxuICB9XG5cbiAgaGFzRmluaXNoZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuY3VycmVudEluZGV4ID49IHRoaXMucG9pbnRzLmxlbmd0aCAtIDIgJiYgdGhpcy5ub3JtYWxpemVkVGltZSA+PSAxXG4gICAgKVxuICB9XG5cbiAgYXNzaWduVmFsdWVUb1RyYW5zZm9ybSh0cmFuc2Zvcm06IFRyYW5zZm9ybSkge1xuICAgIHRyYW5zZm9ybS5wb3NpdGlvbiA9IFZlY3RvcjMuTGVycChcbiAgICAgIHRoaXMucG9pbnRzW3RoaXMuY3VycmVudEluZGV4XSxcbiAgICAgIHRoaXMucG9pbnRzW3RoaXMuY3VycmVudEluZGV4ICsgMV0sXG4gICAgICB0aGlzLm5vcm1hbGl6ZWRUaW1lXG4gICAgKVxuICB9XG59XG5cbi8qKlxuICogQ29tcG9uZW50IHRvIG1vdmUgYSBlbnRpdHkgZG93biBhIGZpeGVkIHBhdGggaW4gYW4gYW1vdW50IG9mIHRpbWVcbiAqIEBwdWJsaWNcbiAqL1xuQENvbXBvbmVudCgnZm9sbG93Q3VydmVkUGF0aENvbXBvbmVudCcpXG5leHBvcnQgY2xhc3MgRm9sbG93Q3VydmVkUGF0aENvbXBvbmVudCBpbXBsZW1lbnRzIElUcmFuc2Zvcm1Db21wb25lbnQge1xuICBwcml2YXRlIHBvaW50czogVmVjdG9yM1tdXG4gIHByaXZhdGUgc3BlZWQ6IG51bWJlcltdID0gW11cbiAgcHJpdmF0ZSBub3JtYWxpemVkVGltZTogbnVtYmVyXG4gIHByaXZhdGUgY3VycmVudEluZGV4OiBudW1iZXJcbiAgcHJpdmF0ZSB0dXJuVG9GYWNlTmV4dDogYm9vbGVhbiA9IGZhbHNlXG4gIHByaXZhdGUgZmFjaW5nTmV4dDogYm9vbGVhbiA9IGZhbHNlXG5cbiAgb25GaW5pc2hDYWxsYmFjaz86ICgpID0+IHZvaWRcblxuICAvKipcbiAgICogQ3JlYXRlIGEgRm9sbG93Q3VydmVkUGF0aENvbXBvbmVudCBpbnN0YW5jZSB0byBhZGQgYXMgYSBjb21wb25lbnQgdG8gYSBFbnRpdHlcbiAgICogQHBhcmFtIHBvaW50cyAtIGFycmF5IG9mIHBvaW50cyB0aGF0IHRoZSBjdXJ2ZSBtdXN0IHBhc3MgdGhyb3VnaFxuICAgKiBAcGFyYW0gZHVyYXRpb24gLSBkdXJhdGlvbiBvZiB0aGUgbW92ZW1lbnQgdGhyb3VnaCB0aGUgcGF0aFxuICAgKiBAcGFyYW0gbnVtYmVyT2ZTZWdtZW50cyAtIGhvdyBtYW55IHN0cmFpZ2h0IGxpbmUgc2VnbWVudHMgdG8gdXNlIHRvIGNvbnN0cnVjdCB0aGUgY3VydmVcbiAgICogQHBhcmFtIHR1cm5Ub0ZhY2VOZXh0IC0gaWYgdHJ1ZSwgcm90YXRlcyBmb3IgZWFjaCBzZWdtZW50IHRvIGFsd2F5cyBsb29rIGZvcndhcmRcbiAgICogQHBhcmFtIGNsb3NlZENpcmNsZSAtIGlmIHRydWUsIHRyYWNlcyBhIGNpcmNsZSB0aGF0IHN0YXJ0cyBiYWNrIGF0IHRoZSBiZWdpbm5pbmcsIGtlZXBpbmcgdGhlIGN1cnZhdHVyZSByb3VuZGVkIGluIHRoZSBzZWFtcyB0b29cbiAgICogQHBhcmFtIG9uRmluaXNoQ2FsbGJhY2sgLSBjYWxsZWQgd2hlbiBtb3ZlbWVudCBlbmRzXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwb2ludHM6IFZlY3RvcjNbXSxcbiAgICBkdXJhdGlvbjogbnVtYmVyLFxuICAgIG51bWJlck9mU2VnbWVudHM6IG51bWJlcixcbiAgICB0dXJuVG9GYWNlTmV4dD86IGJvb2xlYW4sXG4gICAgY2xvc2VkQ2lyY2xlPzogYm9vbGVhbixcbiAgICBvbkZpbmlzaENhbGxiYWNrPzogKCkgPT4gdm9pZFxuICApIHtcbiAgICB0aGlzLm5vcm1hbGl6ZWRUaW1lID0gMFxuICAgIHRoaXMuY3VycmVudEluZGV4ID0gMFxuICAgIHRoaXMucG9pbnRzID0gQ3VydmUzLkNyZWF0ZUNhdG11bGxSb21TcGxpbmUoXG4gICAgICBwb2ludHMsXG4gICAgICBudW1iZXJPZlNlZ21lbnRzLFxuICAgICAgY2xvc2VkQ2lyY2xlID8gdHJ1ZSA6IGZhbHNlXG4gICAgKS5nZXRQb2ludHMoKVxuICAgIHRoaXMub25GaW5pc2hDYWxsYmFjayA9IG9uRmluaXNoQ2FsbGJhY2tcbiAgICB0aGlzLnR1cm5Ub0ZhY2VOZXh0ID0gdHVyblRvRmFjZU5leHQgPyB0dXJuVG9GYWNlTmV4dCA6IGZhbHNlXG5cbiAgICBpZiAodGhpcy5wb2ludHMubGVuZ3RoIDwgMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdCBsZWFzdCAyIHBvaW50cyBhcmUgbmVlZGVkIGZvciBGb2xsb3dQYXRoQ29tcG9uZW50LicpXG4gICAgfVxuXG4gICAgaWYgKGR1cmF0aW9uID4gMCkge1xuICAgICAgbGV0IHRvdGFsRGlzdCA9IDBcbiAgICAgIGxldCBwb2ludHNEaXN0ID0gW11cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGxldCBzcURpc3QgPSBWZWN0b3IzLkRpc3RhbmNlKHRoaXMucG9pbnRzW2ldLCB0aGlzLnBvaW50c1tpICsgMV0pXG4gICAgICAgIHRvdGFsRGlzdCArPSBzcURpc3RcbiAgICAgICAgcG9pbnRzRGlzdC5wdXNoKHNxRGlzdClcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzRGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnNwZWVkLnB1c2goMSAvICgocG9pbnRzRGlzdFtpXSAvIHRvdGFsRGlzdCkgKiBkdXJhdGlvbikpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubm9ybWFsaXplZFRpbWUgPSAxXG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IHBvaW50cy5sZW5ndGggLSAyXG4gICAgfVxuXG4gICAgbGV0IGluc3RhbmNlID0gVHJhbnNmb3JtU3lzdGVtLmNyZWF0ZUFuZEFkZFRvRW5naW5lKClcbiAgICBpbnN0YW5jZS5hZGRDb21wb25lbnRUeXBlKEZvbGxvd0N1cnZlZFBhdGhDb21wb25lbnQpXG4gIH1cblxuICB1cGRhdGUoZHQ6IG51bWJlcikge1xuICAgIHRoaXMubm9ybWFsaXplZFRpbWUgPSBTY2FsYXIuQ2xhbXAoXG4gICAgICB0aGlzLm5vcm1hbGl6ZWRUaW1lICsgZHQgKiB0aGlzLnNwZWVkW3RoaXMuY3VycmVudEluZGV4XSxcbiAgICAgIDAsXG4gICAgICAxXG4gICAgKVxuICAgIGlmIChcbiAgICAgIHRoaXMubm9ybWFsaXplZFRpbWUgPj0gMSAmJlxuICAgICAgdGhpcy5jdXJyZW50SW5kZXggPCB0aGlzLnBvaW50cy5sZW5ndGggLSAyXG4gICAgKSB7XG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCsrXG4gICAgICB0aGlzLm5vcm1hbGl6ZWRUaW1lID0gMFxuICAgICAgaWYgKHRoaXMudHVyblRvRmFjZU5leHQgPT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLmZhY2luZ05leHQgPSBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhc0ZpbmlzaGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCA+PSB0aGlzLnBvaW50cy5sZW5ndGggLSAyICYmIHRoaXMubm9ybWFsaXplZFRpbWUgPj0gMVxuICAgIClcbiAgfVxuXG4gIGFzc2lnblZhbHVlVG9UcmFuc2Zvcm0odHJhbnNmb3JtOiBUcmFuc2Zvcm0pIHtcbiAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLkxlcnAoXG4gICAgICB0aGlzLnBvaW50c1t0aGlzLmN1cnJlbnRJbmRleF0sXG4gICAgICB0aGlzLnBvaW50c1t0aGlzLmN1cnJlbnRJbmRleCArIDFdLFxuICAgICAgdGhpcy5ub3JtYWxpemVkVGltZVxuICAgIClcblxuICAgIGlmICghdGhpcy5mYWNpbmdOZXh0KSB7XG4gICAgICB0aGlzLmZhY2luZ05leHQgPSB0cnVlXG5cbiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA8IHRoaXMucG9pbnRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgdHJhbnNmb3JtLmxvb2tBdCh0aGlzLnBvaW50c1t0aGlzLmN1cnJlbnRJbmRleCArIDFdKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNmb3JtLmxvb2tBdCh0aGlzLnBvaW50c1swXSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IElUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tICcuL2l0cmFuc2Zvcm1jb21wb25lbnQnXG5pbXBvcnQgeyBUcmFuc2Zvcm1TeXN0ZW0gfSBmcm9tICcuLi9zeXN0ZW0vdHJhbnNmcm9tU3lzdGVtJ1xuXG4vKipcbiAqIENvbXBvbmVudCB0byByb3RhdGUgZW50aXR5IGluZGVmaW5pdGVseSB1bnRpbCBzdG9wIGlzIGNhbGxlZFxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCdrZWVwUm90YXRpbmdDb21wb25lbnQnKVxuZXhwb3J0IGNsYXNzIEtlZXBSb3RhdGluZ0NvbXBvbmVudCBpbXBsZW1lbnRzIElUcmFuc2Zvcm1Db21wb25lbnQge1xuICBvbkZpbmlzaENhbGxiYWNrPzogKCkgPT4gdm9pZFxuXG4gIHByaXZhdGUgcm90YXRpb25WZWxvY2l0eTogUXVhdGVybmlvblxuICBwcml2YXRlIHJvdGF0aW9uOiBRdWF0ZXJuaW9uXG4gIHByaXZhdGUgZmluaXNoZWQ6IGJvb2xlYW5cblxuICAvKipcbiAgICogUm90YXRlcyBhbiBlbnRpdHkgY29udGludW91c2x5LiBUaGUgZW50aXR5IHdpbGwga2VlcCByb3RhdGluZyBmb3JldmVyIHVudGlsIGl0J3MgZXhwbGljaXRseSBzdG9wcGVkIG9yIHRoZSBjb21wb25lbnQgaXMgcmVtb3ZlZC5cbiAgICogQHBhcmFtIHJvdGF0aW9uVmVsb2NpdHkgLSBhIHF1YXRlcm5pb24gZGVzY3JpYmluZyB0aGUgZGVzaXJlZCByb3RhdGlvbiB0byBwZXJmb3JtIGVhY2ggc2Vjb25kIHNlY29uZFxuICAgKiBAcGFyYW0gb25GaW5pc2hDYWxsYmFjayAtIGNhbGxlZCB3aGVuIHJvdGF0aW9uIGVuZHNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJvdGF0aW9uVmVsb2NpdHk6IFF1YXRlcm5pb24sIG9uRmluaXNoQ2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5yb3RhdGlvblZlbG9jaXR5ID0gcm90YXRpb25WZWxvY2l0eVxuICAgIHRoaXMub25GaW5pc2hDYWxsYmFjayA9IG9uRmluaXNoQ2FsbGJhY2tcbiAgICB0aGlzLnJvdGF0aW9uID0gUXVhdGVybmlvbi5JZGVudGl0eVxuICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZVxuXG4gICAgbGV0IGluc3RhbmNlID0gVHJhbnNmb3JtU3lzdGVtLmNyZWF0ZUFuZEFkZFRvRW5naW5lKClcbiAgICBpbnN0YW5jZS5hZGRDb21wb25lbnRUeXBlKEtlZXBSb3RhdGluZ0NvbXBvbmVudClcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5yb3RhdGlvbiA9IFF1YXRlcm5pb24uU2xlcnAoXG4gICAgICBRdWF0ZXJuaW9uLklkZW50aXR5LFxuICAgICAgdGhpcy5yb3RhdGlvblZlbG9jaXR5LFxuICAgICAgZHRcbiAgICApXG4gIH1cblxuICBoYXNGaW5pc2hlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5maW5pc2hlZFxuICB9XG5cbiAgYXNzaWduVmFsdWVUb1RyYW5zZm9ybSh0cmFuc2Zvcm06IFRyYW5zZm9ybSk6IHZvaWQge1xuICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IHRyYW5zZm9ybS5yb3RhdGlvbi5tdWx0aXBseSh0aGlzLnJvdGF0aW9uKVxuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZVxuICB9XG59XG4iLCJpbXBvcnQgeyBJVGltZXJDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQvaXRpbWVyY29tcG9uZW50J1xyXG5cclxuZXhwb3J0IGNsYXNzIFRpbWVyU3lzdGVtIGltcGxlbWVudHMgSVN5c3RlbSB7XHJcbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBUaW1lclN5c3RlbSB8IG51bGwgPSBudWxsXHJcblxyXG4gIHByaXZhdGUgX2NvbXBvbmVudHM6IENvbXBvbmVudENvbnN0cnVjdG9yPElUaW1lckNvbXBvbmVudD5bXSA9IFtdXHJcblxyXG4gIHN0YXRpYyBjcmVhdGVBbmRBZGRUb0VuZ2luZSgpOiBUaW1lclN5c3RlbSB7XHJcbiAgICBpZiAodGhpcy5faW5zdGFuY2UgPT0gbnVsbCkge1xyXG4gICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBUaW1lclN5c3RlbSgpXHJcbiAgICAgIGVuZ2luZS5hZGRTeXN0ZW0odGhpcy5faW5zdGFuY2UpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5faW5zdGFuY2VcclxuICB9XHJcblxyXG4gIHN0YXRpYyByZWdpc3RlckN1c3RvbUNvbXBvbmVudDxUIGV4dGVuZHMgSVRpbWVyQ29tcG9uZW50PihcclxuICAgIGNvbXBvbmVudDogQ29tcG9uZW50Q29uc3RydWN0b3I8VD5cclxuICApIHtcclxuICAgIHRoaXMuY3JlYXRlQW5kQWRkVG9FbmdpbmUoKS5fY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudClcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhZGRDb21wb25lbnRUeXBlKGNvbXBvbmVudDogQ29tcG9uZW50Q29uc3RydWN0b3I8SVRpbWVyQ29tcG9uZW50Pikge1xyXG4gICAgZm9yIChsZXQgY29tcCBvZiB0aGlzLl9jb21wb25lbnRzKSB7XHJcbiAgICAgIGlmIChjb21wb25lbnQgPT0gY29tcCkge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLl9jb21wb25lbnRzLnB1c2goY29tcG9uZW50KVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcclxuICAgIFRpbWVyU3lzdGVtLl9pbnN0YW5jZSA9IHRoaXNcclxuICB9XHJcblxyXG4gIHVwZGF0ZShkdDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9jb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IHtcclxuICAgICAgdGhpcy51cGRhdGVDb21wb25lbnQoZHQsIGNvbXBvbmVudClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHVwZGF0ZUNvbXBvbmVudDxUIGV4dGVuZHMgSVRpbWVyQ29tcG9uZW50PihcclxuICAgIGR0OiBudW1iZXIsXHJcbiAgICBjb21wb25lbnQ6IENvbXBvbmVudENvbnN0cnVjdG9yPFQ+XHJcbiAgKSB7XHJcbiAgICBsZXQgcmVjb3JkID0gZW5naW5lLmdldEVudGl0aWVzV2l0aENvbXBvbmVudChjb21wb25lbnQpXHJcblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gcmVjb3JkKSB7XHJcbiAgICAgIGlmIChyZWNvcmQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgIGxldCBlbnRpdHkgPSByZWNvcmRba2V5XVxyXG4gICAgICAgIGxldCB0aW1lckNvbXBvbmVudCA9IGVudGl0eS5nZXRDb21wb25lbnQoY29tcG9uZW50KVxyXG5cclxuICAgICAgICB0aW1lckNvbXBvbmVudC5lbGFwc2VkVGltZSArPSBkdFxyXG4gICAgICAgIGlmICh0aW1lckNvbXBvbmVudC5lbGFwc2VkVGltZSA+PSB0aW1lckNvbXBvbmVudC50YXJnZXRUaW1lKSB7XHJcbiAgICAgICAgICB0aW1lckNvbXBvbmVudC5vblRhcmdldFRpbWVSZWFjaGVkKGVudGl0eSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSVRpbWVyQ29tcG9uZW50IH0gZnJvbSAnLi9pdGltZXJjb21wb25lbnQnXHJcbmltcG9ydCB7IFRpbWVyU3lzdGVtIH0gZnJvbSAnLi4vc3lzdGVtL3RpbWVyU3lzdGVtJ1xyXG5cclxuLyoqXHJcbiAqIEV4ZWN1dGUgb25jZSBhZnRlciBYIG1pbGxpc2Vjb25kc1xyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5AQ29tcG9uZW50KCd0aW1lckRlbGF5JylcclxuZXhwb3J0IGNsYXNzIERlbGF5IGltcGxlbWVudHMgSVRpbWVyQ29tcG9uZW50IHtcclxuICBlbGFwc2VkVGltZTogbnVtYmVyXHJcbiAgdGFyZ2V0VGltZTogbnVtYmVyXHJcbiAgb25UYXJnZXRUaW1lUmVhY2hlZDogKG93bmVyRW50aXR5OiBJRW50aXR5KSA9PiB2b2lkXHJcblxyXG4gIHByaXZhdGUgb25UaW1lUmVhY2hlZENhbGxiYWNrPzogKCkgPT4gdm9pZFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gbWlsbGlzZWNzIC0gYW1vdW50IG9mIHRpbWUgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICogQHBhcmFtIG9uVGltZVJlYWNoZWRDYWxsYmFjayAtIGNhbGxiYWNrIGZvciB3aGVuIHRpbWUgaXMgcmVhY2hlZFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG1pbGxpc2VjczogbnVtYmVyLCBvblRpbWVSZWFjaGVkQ2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XHJcbiAgICBsZXQgaW5zdGFuY2UgPSBUaW1lclN5c3RlbS5jcmVhdGVBbmRBZGRUb0VuZ2luZSgpXHJcbiAgICBpbnN0YW5jZS5hZGRDb21wb25lbnRUeXBlKERlbGF5KVxyXG5cclxuICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwXHJcbiAgICB0aGlzLnRhcmdldFRpbWUgPSBtaWxsaXNlY3MgLyAxMDAwXHJcbiAgICB0aGlzLm9uVGltZVJlYWNoZWRDYWxsYmFjayA9IG9uVGltZVJlYWNoZWRDYWxsYmFja1xyXG4gICAgdGhpcy5vblRhcmdldFRpbWVSZWFjaGVkID0gZW50aXR5ID0+IHtcclxuICAgICAgaWYgKHRoaXMub25UaW1lUmVhY2hlZENhbGxiYWNrKSB0aGlzLm9uVGltZVJlYWNoZWRDYWxsYmFjaygpXHJcbiAgICAgIGVudGl0eS5yZW1vdmVDb21wb25lbnQodGhpcylcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldENhbGxiYWNrKG9uVGltZVJlYWNoZWRDYWxsYmFjazogKCkgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5vblRpbWVSZWFjaGVkQ2FsbGJhY2sgPSBvblRpbWVSZWFjaGVkQ2FsbGJhY2tcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSVRpbWVyQ29tcG9uZW50IH0gZnJvbSAnLi9pdGltZXJjb21wb25lbnQnXHJcbmltcG9ydCB7IFRpbWVyU3lzdGVtIH0gZnJvbSAnLi4vc3lzdGVtL3RpbWVyU3lzdGVtJ1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBlbnRpdHkgYWZ0ZXIgWCBtaWxsaXNlY29uZHNcclxuICogQHB1YmxpY1xyXG4gKi9cclxuQENvbXBvbmVudCgndGltZXJFeHBpcmVJbicpXHJcbmV4cG9ydCBjbGFzcyBFeHBpcmVJbiBpbXBsZW1lbnRzIElUaW1lckNvbXBvbmVudCB7XHJcbiAgZWxhcHNlZFRpbWU6IG51bWJlclxyXG4gIHRhcmdldFRpbWU6IG51bWJlclxyXG4gIG9uVGFyZ2V0VGltZVJlYWNoZWQ6IChvd25lckVudGl0eTogSUVudGl0eSkgPT4gdm9pZFxyXG5cclxuICBwcml2YXRlIG9uVGltZVJlYWNoZWRDYWxsYmFjaz86ICgpID0+IHZvaWRcclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIG1pbGxpc2VjcyAtIGFtb3VudCBvZiB0aW1lIGluIG1pbGxpc2Vjb25kc1xyXG4gICAqIEBwYXJhbSBvblRpbWVSZWFjaGVkQ2FsbGJhY2sgLSBjYWxsYmFjayBmb3Igd2hlbiB0aW1lIGlzIHJlYWNoZWRcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihtaWxsaXNlY3M6IG51bWJlciwgb25UaW1lUmVhY2hlZENhbGxiYWNrPzogKCkgPT4gdm9pZCkge1xyXG4gICAgbGV0IGluc3RhbmNlID0gVGltZXJTeXN0ZW0uY3JlYXRlQW5kQWRkVG9FbmdpbmUoKVxyXG4gICAgaW5zdGFuY2UuYWRkQ29tcG9uZW50VHlwZShFeHBpcmVJbilcclxuXHJcbiAgICB0aGlzLmVsYXBzZWRUaW1lID0gMFxyXG4gICAgdGhpcy50YXJnZXRUaW1lID0gbWlsbGlzZWNzIC8gMTAwMFxyXG4gICAgdGhpcy5vblRpbWVSZWFjaGVkQ2FsbGJhY2sgPSBvblRpbWVSZWFjaGVkQ2FsbGJhY2tcclxuICAgIHRoaXMub25UYXJnZXRUaW1lUmVhY2hlZCA9IGVudGl0eSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLm9uVGltZVJlYWNoZWRDYWxsYmFjaykgdGhpcy5vblRpbWVSZWFjaGVkQ2FsbGJhY2soKVxyXG4gICAgICBlbnRpdHkucmVtb3ZlQ29tcG9uZW50KHRoaXMpXHJcbiAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkoZW50aXR5KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0Q2FsbGJhY2sob25UaW1lUmVhY2hlZENhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XHJcbiAgICB0aGlzLm9uVGltZVJlYWNoZWRDYWxsYmFjayA9IG9uVGltZVJlYWNoZWRDYWxsYmFja1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJVGltZXJDb21wb25lbnQgfSBmcm9tICcuL2l0aW1lcmNvbXBvbmVudCdcclxuaW1wb3J0IHsgVGltZXJTeXN0ZW0gfSBmcm9tICcuLi9zeXN0ZW0vdGltZXJTeXN0ZW0nXHJcblxyXG4vKipcclxuICogRXhlY3V0ZSBldmVyeSBYIG1pbGxpc2Vjb25kc1xyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5AQ29tcG9uZW50KCd0aW1lckludGVydmFsJylcclxuZXhwb3J0IGNsYXNzIEludGVydmFsIGltcGxlbWVudHMgSVRpbWVyQ29tcG9uZW50IHtcclxuICBlbGFwc2VkVGltZTogbnVtYmVyXHJcbiAgdGFyZ2V0VGltZTogbnVtYmVyXHJcbiAgb25UYXJnZXRUaW1lUmVhY2hlZDogKG93bmVyRW50aXR5OiBJRW50aXR5KSA9PiB2b2lkXHJcblxyXG4gIHByaXZhdGUgb25UaW1lUmVhY2hlZENhbGxiYWNrPzogKCkgPT4gdm9pZFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0gbWlsbGlzZWNzIC0gYW1vdW50IG9mIHRpbWUgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICogQHBhcmFtIG9uVGltZVJlYWNoZWRDYWxsYmFjayAtIGNhbGxiYWNrIGZvciB3aGVuIHRpbWUgaXMgcmVhY2hlZFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKG1pbGxpc2VjczogbnVtYmVyLCBvblRpbWVSZWFjaGVkQ2FsbGJhY2s/OiAoKSA9PiB2b2lkKSB7XHJcbiAgICBsZXQgaW5zdGFuY2UgPSBUaW1lclN5c3RlbS5jcmVhdGVBbmRBZGRUb0VuZ2luZSgpXHJcbiAgICBpbnN0YW5jZS5hZGRDb21wb25lbnRUeXBlKEludGVydmFsKVxyXG5cclxuICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwXHJcbiAgICB0aGlzLnRhcmdldFRpbWUgPSBtaWxsaXNlY3MgLyAxMDAwXHJcbiAgICB0aGlzLm9uVGltZVJlYWNoZWRDYWxsYmFjayA9IG9uVGltZVJlYWNoZWRDYWxsYmFja1xyXG4gICAgdGhpcy5vblRhcmdldFRpbWVSZWFjaGVkID0gKCkgPT4ge1xyXG4gICAgICB0aGlzLmVsYXBzZWRUaW1lID0gMFxyXG4gICAgICBpZiAodGhpcy5vblRpbWVSZWFjaGVkQ2FsbGJhY2spIHRoaXMub25UaW1lUmVhY2hlZENhbGxiYWNrKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldENhbGxiYWNrKG9uVGltZVJlYWNoZWRDYWxsYmFjazogKCkgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5vblRpbWVSZWFjaGVkQ2FsbGJhY2sgPSBvblRpbWVSZWFjaGVkQ2FsbGJhY2tcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgaXNQcmV2aWV3TW9kZSB9IGZyb20gJ0BkZWNlbnRyYWxhbmQvRW52aXJvbm1lbnRBUEknXG5cbi8qKlxuICogUXVpY2sgZnVuY3Rpb24gdG8gYWRkIGEgY3ViZSB0aGF0IGNhbiBydW4gZnVuY3Rpb25zIHdoZW4gY2xpY2tlZC4gQnkgZGVmYXVsdCBvbmx5IGRpc3BsYXllZCB3aGVuIGluIHByZXZpZXcgbW9kZSBmb3IgdGVzdHMuXG4gKlxuICogQHBhcmFtIHBvcyAtIFRyYW5zZm9ybSBhcmd1bWVudHMgZm9yIHRoZSBjdWJlLCBpbmNsdWRpbmcgcG9zaXRpb24sIHNjYWxlIGFuZCByb3RhdGlvblxuICogQHBhcmFtIHRyaWdnZXJlZEZ1bmN0aW9uIC0gRnVuY3Rpb24gdG8gZXhlY3V0ZSBldmVyeSB0aW1lIHRoZSBjdWJlIGlzIGNsaWNrZWQuXG4gKiBAcGFyYW0gbGFiZWwgLSBUZXh0IHRvIGRpc3BsYXkgb3ZlciBjdWJlIGFuZCBvbiBob3Zlci5cbiAqIEBwYXJhbSBjb2xvciAtIEN1YmUgY29sb3IuXG4gKiBAcGFyYW0gc3BoZXJlIC0gSWYgdHJ1ZSwgdXNlIGEgc3BoZXJlIHNoYXBlIGluc3RlYWQgb2YgY3ViZS5cbiAqIEBwYXJhbSBub0NvbGxpZGVyIC0gSWYgdHJ1ZSwgY3ViZSBoYXMgbm8gY29sbGlkZXIuXG4gKiBAcmV0dXJucyBBIG5ldyBlbnRpdHkgd2l0aCB0aGUgY29uZmlndXJlZCBzZXR0aW5ncyBhbmQgYSBsYWJlbCBhcyBhIGNoaWxkXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRUZXN0Q3ViZShcbiAgcG9zOiBUcmFuZm9ybUNvbnN0cnVjdG9yQXJncyxcbiAgdHJpZ2dlcmVkRnVuY3Rpb246ICgpID0+IHZvaWQsXG4gIGxhYmVsPzogc3RyaW5nLFxuICBjb2xvcj86IENvbG9yMyxcbiAgc3BoZXJlPzogYm9vbGVhbixcbiAgbm9Db2xsaWRlcj86IGJvb2xlYW4sXG4gIGtlZXBJblByb2R1Y3Rpb24/OiBib29sZWFuXG4pOiBQcm9taXNlPEVudGl0eT4ge1xuICAvLyBpZiBub3QgaW4gcHJldmlldyByZXR1cm5cbiAgaWYgKCFrZWVwSW5Qcm9kdWN0aW9uICYmIChhd2FpdCAhaXNQcmV2aWV3TW9kZSgpKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgbGV0IGN1YmUgPSBuZXcgRW50aXR5KClcbiAgY3ViZS5hZGRDb21wb25lbnQobmV3IFRyYW5zZm9ybShwb3MpKVxuICBpZiAoc3BoZXJlKSB7XG4gICAgY3ViZS5hZGRDb21wb25lbnQobmV3IFNwaGVyZVNoYXBlKCkpXG4gICAgY3ViZS5nZXRDb21wb25lbnQoVHJhbnNmb3JtKS5zY2FsZS5zZXRBbGwoMC41KVxuICB9IGVsc2Uge1xuICAgIGN1YmUuYWRkQ29tcG9uZW50KG5ldyBCb3hTaGFwZSgpKVxuICB9XG5cbiAgZW5naW5lLmFkZEVudGl0eShjdWJlKVxuXG4gIGN1YmUuYWRkQ29tcG9uZW50KFxuICAgIG5ldyBPblBvaW50ZXJEb3duKHRyaWdnZXJlZEZ1bmN0aW9uLCB7XG4gICAgICBob3ZlclRleHQ6IGxhYmVsID8gbGFiZWwgOiAnY2xpY2snLFxuICAgICAgYnV0dG9uOiBBY3Rpb25CdXR0b24uUE9JTlRFUlxuICAgIH0pXG4gIClcblxuICBpZiAoY29sb3IpIHtcbiAgICBsZXQgY3ViZU1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKClcbiAgICBjdWJlTWF0ZXJpYWwuYWxiZWRvQ29sb3IgPSBjb2xvclxuICAgIGN1YmUuYWRkQ29tcG9uZW50KGN1YmVNYXRlcmlhbClcbiAgfVxuXG4gIGlmIChub0NvbGxpZGVyKSB7XG4gICAgY3ViZS5nZXRDb21wb25lbnQoQm94U2hhcGUpLndpdGhDb2xsaXNpb25zID0gZmFsc2VcbiAgfVxuXG4gIGlmIChsYWJlbCkge1xuICAgIGFkZExhYmVsKGxhYmVsLCBjdWJlLCB0cnVlKVxuICB9XG5cbiAgcmV0dXJuIGN1YmVcbn1cblxuLyoqXG4gKiBNYXBzIGEgdmFsdWUgZnJvbSBvbmUgcmFuZ2Ugb2YgdmFsdWVzIHRvIGl0cyBlcXVpdmFsZW50LCBzY2FsZWQgaW4gcHJvcG9ydGlvbiB0byBhbm90aGVyIHJhbmdlIG9mIHZhbHVlcywgdXNpbmcgbWF4aW11bSBhbmQgbWluaW11bS5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIFRleHQgdG8gdXNlIG9uIGxhYmVsXG4gKiBAcGFyYW0gcGFyZW50IC0gRW50aXR5IHRvIHBsYWNlIGxhYmVsIG9uLlxuICogQHBhcmFtIGJpbGxib2FyZCAtIElmIHRydWUsIGxhYmVsIHR1cm5zIHRvIGFsd2F5cyBmYWNlIHBsYXllci5cbiAqIEBwYXJhbSBjb2xvciAtIFRleHQgY29sb3IuIEJsYWNrIGJ5IGRlZmF1bHQuXG4gKiBAcGFyYW0gc2l6ZSAtIFRleHQgZm9udCBzaXplLCAzIGJ5IGRlZmF1bHQuXG4gKiBAcGFyYW0gdGV4dE9mZnNldCAtIE9mZnNldCBmcm9tIHBhcmVudCBlbnRpdHkncyBwb3NpdGlvbi4gQnkgZGVmYXVsdCAxLjUgbWV0ZXJzIGFib3ZlIHRoZSBwYXJlbnQuXG4gKiBAcmV0dXJucyBBIG5ldyBlbnRpdHkgd2l0aCB0aGUgY29uZmlndXJlZCBzZXR0aW5ncyB0aGF0IGlzIGEgY2hpbGQgb2YgdGhlIHByb3ZpZGVkIHBhcmVudFxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkTGFiZWwoXG4gIHRleHQ6IHN0cmluZyxcbiAgcGFyZW50OiBJRW50aXR5LFxuICBiaWxsYm9hcmQ/OiBib29sZWFuLFxuICBjb2xvcj86IENvbG9yMyxcbiAgc2l6ZT86IG51bWJlcixcbiAgdGV4dE9mZnNldD86IFRyYW5mb3JtQ29uc3RydWN0b3JBcmdzXG4pOiBFbnRpdHkge1xuICBsZXQgbGFiZWwgPSBuZXcgRW50aXR5KClcbiAgbGFiZWwuYWRkQ29tcG9uZW50KFxuICAgIG5ldyBUcmFuc2Zvcm0oXG4gICAgICB0ZXh0T2Zmc2V0ID8gdGV4dE9mZnNldCA6IHsgcG9zaXRpb246IG5ldyBWZWN0b3IzKDAsIDEuNSwgMCkgfVxuICAgIClcbiAgKVxuICBsYWJlbC5zZXRQYXJlbnQocGFyZW50KVxuICBsZXQgdGV4dFNoYXBlID0gbmV3IFRleHRTaGFwZSh0ZXh0KVxuICB0ZXh0U2hhcGUuZm9udFNpemUgPSBzaXplID8gc2l6ZSA6IDNcbiAgdGV4dFNoYXBlLmNvbG9yID0gY29sb3IgPyBjb2xvciA6IENvbG9yMy5CbGFjaygpXG4gIGxhYmVsLmFkZENvbXBvbmVudCh0ZXh0U2hhcGUpXG4gIGlmIChiaWxsYm9hcmQpIHtcbiAgICBsYWJlbC5hZGRDb21wb25lbnQobmV3IEJpbGxib2FyZCgpKVxuICB9XG4gIGVuZ2luZS5hZGRFbnRpdHkobGFiZWwpXG5cbiAgcmV0dXJuIGxhYmVsXG59XG4iLCIvKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIEFjdGlvbnNTZXF1ZW5jZVN5c3RlbSBpbXBsZW1lbnRzIElTeXN0ZW0ge1xuICBwcml2YXRlIGJlZ2luU2VxdWVuY2VOb2RlOiBTZXF1ZW5jZU5vZGUgfCBudWxsID0gbnVsbFxuICBwcml2YXRlIGN1cnJlbnRTZXF1ZW5jZU5vZGU6IFNlcXVlbmNlTm9kZSB8IG51bGwgPSBudWxsXG5cbiAgcHJpdmF0ZSBydW5uaW5nOiBib29sZWFuID0gZmFsc2VcbiAgcHJpdmF0ZSBzdGFydGVkOiBib29sZWFuID0gZmFsc2VcblxuICBwcml2YXRlIG9uRmluaXNoQ2FsbGJhY2s/OiAoKSA9PiB2b2lkXG5cbiAgY29uc3RydWN0b3Ioc2VxdWVuY2VCdWlsdD86IEFjdGlvbnNTZXF1ZW5jZVN5c3RlbS5TZXF1ZW5jZUJ1aWxkZXIpIHtcbiAgICBpZiAoc2VxdWVuY2VCdWlsdCkge1xuICAgICAgdGhpcy5zdGFydFNlcXVlbmNlKHNlcXVlbmNlQnVpbHQpXG4gICAgfVxuICB9XG5cbiAgc3RhcnRTZXF1ZW5jZShzZXF1ZW5jZUJ1aWx0OiBBY3Rpb25zU2VxdWVuY2VTeXN0ZW0uU2VxdWVuY2VCdWlsZGVyKSB7XG4gICAgdGhpcy5iZWdpblNlcXVlbmNlTm9kZSA9IHNlcXVlbmNlQnVpbHQuYmVnaW5TZXF1ZW5jZU5vZGVcbiAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgPSB0aGlzLmJlZ2luU2VxdWVuY2VOb2RlXG4gICAgdGhpcy5ydW5uaW5nID0gdHJ1ZVxuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlXG4gIH1cblxuICBzZXRPbkZpbmlzaENhbGxiYWNrKG9uRmluaXNoQ2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcbiAgICB0aGlzLm9uRmluaXNoQ2FsbGJhY2sgPSBvbkZpbmlzaENhbGxiYWNrXG4gIH1cblxuICBpc1J1bm5pbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucnVubmluZ1xuICB9XG5cbiAgc3RvcCgpIHtcbiAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZVxuICB9XG5cbiAgcmVzdW1lKCkge1xuICAgIGlmICh0aGlzLmJlZ2luU2VxdWVuY2VOb2RlICE9IG51bGwpIHtcbiAgICAgIHRoaXMucnVubmluZyA9IHRydWVcbiAgICB9XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgPSB0aGlzLmJlZ2luU2VxdWVuY2VOb2RlXG4gICAgdGhpcy5ydW5uaW5nID0gdHJ1ZVxuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlXG4gIH1cblxuICBnZXRSdW5uaW5nQWN0aW9uKCk6IEFjdGlvbnNTZXF1ZW5jZVN5c3RlbS5JQWN0aW9uIHwgbnVsbCB7XG4gICAgbGV0IGN1cnJlbnROb2RlOiBTZXF1ZW5jZU5vZGUgfCBudWxsID0gdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlXG5cbiAgICBpZiAodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlIGluc3RhbmNlb2YgU3ViU2VxdWVuY2VOb2RlKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGN1cnJlbnROb2RlID0gKGN1cnJlbnROb2RlIGFzIFN1YlNlcXVlbmNlTm9kZSkuY3VycmVudElubmVyU2VxdWVuY2VcbiAgICAgIH0gd2hpbGUgKGN1cnJlbnROb2RlIGluc3RhbmNlb2YgU3ViU2VxdWVuY2VOb2RlKVxuICAgIH1cbiAgICByZXR1cm4gKGN1cnJlbnROb2RlIGFzIFNlcXVlbmNlTm9kZSkuYWN0aW9uXG4gIH1cblxuICB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLnJ1bm5pbmcpIHtcbiAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgIDsodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkub25TdGFydCgpXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLmhhc0ZpbmlzaCgpKSB7XG4gICAgICAgICAgOyh0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgYXMgU2VxdWVuY2VOb2RlKS51cGRhdGUoZHQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgOyh0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgYXMgU2VxdWVuY2VOb2RlKS5vbkZpbmlzaCgpXG4gICAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gKHRoaXNcbiAgICAgICAgICAgIC5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkubmV4dFxuICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZS5vblN0YXJ0KClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2VcbiAgICAgICAgICAgIGlmICh0aGlzLm9uRmluaXNoQ2FsbGJhY2spIHRoaXMub25GaW5pc2hDYWxsYmFjaygpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgbmFtZXNwYWNlIEFjdGlvbnNTZXF1ZW5jZVN5c3RlbSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgSUFjdGlvbiB7XG4gICAgb25TdGFydCgpOiB2b2lkXG4gICAgdXBkYXRlKGR0OiBudW1iZXIpOiB2b2lkXG4gICAgb25GaW5pc2goKTogdm9pZFxuICAgIGhhc0ZpbmlzaGVkOiBib29sZWFuXG4gIH1cblxuICBleHBvcnQgY2xhc3MgU2VxdWVuY2VCdWlsZGVyIHtcbiAgICBwcml2YXRlIGN1cnJlbnRTZXF1ZW5jZU5vZGU6IFNlcXVlbmNlTm9kZSB8IG51bGwgPSBudWxsXG4gICAgcHVibGljIGJlZ2luU2VxdWVuY2VOb2RlOiBTZXF1ZW5jZU5vZGUgfCBudWxsID0gbnVsbFxuXG4gICAgcHJpdmF0ZSB3aGlsZU5vZGVTdGFjazogV2hpbGVTZXF1ZW5jZU5vZGVbXSA9IFtdXG5cbiAgICB0aGVuKGFjdGlvbjogQWN0aW9uc1NlcXVlbmNlU3lzdGVtLklBY3Rpb24pOiBTZXF1ZW5jZUJ1aWxkZXIge1xuICAgICAgaWYgKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9IG5ldyBTZXF1ZW5jZU5vZGUoKVxuICAgICAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUuYWN0aW9uID0gYWN0aW9uXG4gICAgICAgIHRoaXMuYmVnaW5TZXF1ZW5jZU5vZGUgPSB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBuZXh0ID0gbmV3IFNlcXVlbmNlTm9kZSgpXG4gICAgICAgIG5leHQuYWN0aW9uID0gYWN0aW9uXG4gICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9IHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZS50aGVuKG5leHQpXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGlmKGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhbik6IFNlcXVlbmNlQnVpbGRlciB7XG4gICAgICBsZXQgaWZTZXEgPSBuZXcgSWZTZXF1ZW5jZU5vZGUoY29uZGl0aW9uKVxuICAgICAgaWYgKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9IGlmU2VxXG4gICAgICAgIHRoaXMuYmVnaW5TZXF1ZW5jZU5vZGUgPSBpZlNlcVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlLnRoZW4oaWZTZXEpXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGVsc2UoKTogU2VxdWVuY2VCdWlsZGVyIHtcbiAgICAgIGxldCBzZXEgPSAodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkuZ2V0U2VxdWVuY2UoKVxuICAgICAgaWYgKHNlcSBpbnN0YW5jZW9mIElmU2VxdWVuY2VOb2RlKSB7XG4gICAgICAgIHNlcS5jbG9zZWQgPSB0cnVlXG4gICAgICAgIGxldCBlbHNlU2VxID0gbmV3IEVsc2VTZXF1ZW5jZU5vZGUoc2VxKVxuICAgICAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgPSAodGhpc1xuICAgICAgICAgIC5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkudGhlbihlbHNlU2VxKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdJRiBzdGF0ZW1lbnQgaXMgbmVlZGVkIHRvIGJlIGNhbGxlZCBiZWZvcmUgRUxTRSBzdGF0ZW1lbnQuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGVuZElmKCk6IFNlcXVlbmNlQnVpbGRlciB7XG4gICAgICBsZXQgc2VxID0gKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLmdldFNlcXVlbmNlKClcbiAgICAgIGlmIChzZXEgaW5zdGFuY2VvZiBJZlNlcXVlbmNlTm9kZSB8fCBzZXEgaW5zdGFuY2VvZiBFbHNlU2VxdWVuY2VOb2RlKSB7XG4gICAgICAgIHNlcS5jbG9zZWQgPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0lGIHN0YXRlbWVudCBpcyBuZWVkZWQgdG8gYmUgY2FsbGVkIGJlZm9yZSBFTkRJRiBzdGF0ZW1lbnQuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHdoaWxlKGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhbik6IFNlcXVlbmNlQnVpbGRlciB7XG4gICAgICBsZXQgd2hpbGVTZXEgPSBuZXcgV2hpbGVTZXF1ZW5jZU5vZGUoY29uZGl0aW9uKVxuICAgICAgaWYgKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9IHdoaWxlU2VxXG4gICAgICAgIHRoaXMuYmVnaW5TZXF1ZW5jZU5vZGUgPSB3aGlsZVNlcVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlLnRoZW4od2hpbGVTZXEpXG4gICAgICB9XG4gICAgICB0aGlzLndoaWxlTm9kZVN0YWNrLnB1c2god2hpbGVTZXEpXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGVuZFdoaWxlKCk6IFNlcXVlbmNlQnVpbGRlciB7XG4gICAgICBsZXQgc2VxID0gKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLmdldFNlcXVlbmNlKClcbiAgICAgIGlmIChzZXEgaW5zdGFuY2VvZiBXaGlsZVNlcXVlbmNlTm9kZSkge1xuICAgICAgICBzZXEuY2xvc2VkID0gdHJ1ZVxuICAgICAgICBpZiAodGhpcy53aGlsZU5vZGVTdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy53aGlsZU5vZGVTdGFjay5zcGxpY2UodGhpcy53aGlsZU5vZGVTdGFjay5sZW5ndGggLSAxLCAxKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1dISUxFIHN0YXRlbWVudCBpcyBuZWVkZWQgdG8gYmUgY2FsbGVkIGJlZm9yZSBFTkRXSElMRSBzdGF0ZW1lbnQuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGJyZWFrV2hpbGUoKTogU2VxdWVuY2VCdWlsZGVyIHtcbiAgICAgIGlmICh0aGlzLndoaWxlTm9kZVN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gKHRoaXNcbiAgICAgICAgICAuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLnRoZW4oXG4gICAgICAgICAgbmV3IEJyZWFrV2hpbGVTZXF1ZW5jZU5vZGUoXG4gICAgICAgICAgICB0aGlzLndoaWxlTm9kZVN0YWNrW3RoaXMud2hpbGVOb2RlU3RhY2subGVuZ3RoIC0gMV1cbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnV0hJTEUgc3RhdGVtZW50IGlzIG5lZWRlZCB0byBiZSBjYWxsZWQgYmVmb3JlIEJSRUFLV0hJTEUgc3RhdGVtZW50LidcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXF1ZW5jZU5vZGUge1xuICBhY3Rpb246IEFjdGlvbnNTZXF1ZW5jZVN5c3RlbS5JQWN0aW9uIHwgbnVsbCA9IG51bGxcbiAgbmV4dDogU2VxdWVuY2VOb2RlIHwgbnVsbCA9IG51bGxcblxuICB0aGVuKG5leHQ6IFNlcXVlbmNlTm9kZSk6IFNlcXVlbmNlTm9kZSB7XG4gICAgdGhpcy5uZXh0ID0gbmV4dFxuICAgIHJldHVybiBuZXh0XG4gIH1cblxuICBvblN0YXJ0KCkge1xuICAgIGlmICh0aGlzLmFjdGlvbikgdGhpcy5hY3Rpb24ub25TdGFydCgpXG4gIH1cblxuICB1cGRhdGUoZHQ6IG51bWJlcikge1xuICAgIGlmICh0aGlzLmFjdGlvbikgdGhpcy5hY3Rpb24udXBkYXRlKGR0KVxuICB9XG5cbiAgb25GaW5pc2goKSB7XG4gICAgaWYgKHRoaXMuYWN0aW9uKSB0aGlzLmFjdGlvbi5vbkZpbmlzaCgpXG4gIH1cblxuICBoYXNGaW5pc2goKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuYWN0aW9uKSByZXR1cm4gdGhpcy5hY3Rpb24uaGFzRmluaXNoZWRcbiAgICBlbHNlIHJldHVybiB0cnVlXG4gIH1cblxuICBnZXRTZXF1ZW5jZSgpOiBTZXF1ZW5jZU5vZGUge1xuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cblxuY2xhc3MgU3ViU2VxdWVuY2VOb2RlIGV4dGVuZHMgU2VxdWVuY2VOb2RlIHtcbiAgY3VycmVudElubmVyU2VxdWVuY2U6IFNlcXVlbmNlTm9kZSB8IG51bGwgPSBudWxsXG4gIHN0YXJ0aW5nSW5uZXJTZXF1ZW5jZTogU2VxdWVuY2VOb2RlIHwgbnVsbCA9IG51bGxcbiAgY2xvc2VkOiBib29sZWFuID0gZmFsc2VcblxuICB0aGVuKG5leHQ6IFNlcXVlbmNlTm9kZSk6IFNlcXVlbmNlTm9kZSB7XG4gICAgaWYgKHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPT0gbnVsbCkge1xuICAgICAgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9IG5leHRcbiAgICAgIHRoaXMuc3RhcnRpbmdJbm5lclNlcXVlbmNlID0gbmV4dFxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV4dFxuICAgICAgICByZXR1cm4gbmV4dFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9IHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UudGhlbihuZXh0KVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgb25TdGFydCgpIHtcbiAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID0gdGhpcy5zdGFydGluZ0lubmVyU2VxdWVuY2VcbiAgICBpZiAodGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSkgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS5vblN0YXJ0KClcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UpIHtcbiAgICAgIGlmICghdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS5oYXNGaW5pc2goKSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLnVwZGF0ZShkdClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2Uub25GaW5pc2goKVxuICAgICAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID0gdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS5uZXh0XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlKSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLm9uU3RhcnQoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uRmluaXNoKCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlKSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLm9uRmluaXNoKClcbiAgfVxuXG4gIGhhc0ZpbmlzaCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9PSBudWxsXG4gIH1cblxuICBnZXRTZXF1ZW5jZSgpOiBTZXF1ZW5jZU5vZGUge1xuICAgIGlmICh0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlKSB7XG4gICAgICBsZXQgaW5uZXJTZXEgPSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLmdldFNlcXVlbmNlKClcbiAgICAgIGlmIChpbm5lclNlcSBpbnN0YW5jZW9mIFN1YlNlcXVlbmNlTm9kZSkge1xuICAgICAgICBpZiAoIWlubmVyU2VxLmNsb3NlZCkge1xuICAgICAgICAgIHJldHVybiBpbm5lclNlcVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzXG4gIH1cbn1cblxuY2xhc3MgSWZTZXF1ZW5jZU5vZGUgZXh0ZW5kcyBTdWJTZXF1ZW5jZU5vZGUge1xuICBjb25kaXRpb246ICgpID0+IGJvb2xlYW5cbiAgcmVzdWx0OiBib29sZWFuID0gZmFsc2VcblxuICBjb25zdHJ1Y3Rvcihjb25kaXRpb246ICgpID0+IGJvb2xlYW4pIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb25cbiAgfVxuXG4gIG9uU3RhcnQoKSB7XG4gICAgdGhpcy5yZXN1bHQgPSB0aGlzLmNvbmRpdGlvbigpXG4gICAgaWYgKHRoaXMucmVzdWx0KSBzdXBlci5vblN0YXJ0KClcbiAgICBlbHNlIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPSBudWxsXG4gIH1cbn1cblxuY2xhc3MgRWxzZVNlcXVlbmNlTm9kZSBleHRlbmRzIFN1YlNlcXVlbmNlTm9kZSB7XG4gIGlmU2VxdWVuY2U6IElmU2VxdWVuY2VOb2RlIHwgbnVsbCA9IG51bGxcblxuICBjb25zdHJ1Y3RvcihpZlNlcXVlbmNlOiBJZlNlcXVlbmNlTm9kZSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLmlmU2VxdWVuY2UgPSBpZlNlcXVlbmNlXG4gIH1cblxuICBvblN0YXJ0KCkge1xuICAgIGlmICh0aGlzLmlmU2VxdWVuY2UgJiYgIXRoaXMuaWZTZXF1ZW5jZS5yZXN1bHQpIHN1cGVyLm9uU3RhcnQoKVxuICAgIGVsc2UgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9IG51bGxcbiAgfVxufVxuXG5jbGFzcyBXaGlsZVNlcXVlbmNlTm9kZSBleHRlbmRzIFN1YlNlcXVlbmNlTm9kZSB7XG4gIGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhblxuICBicmVha1doaWxlOiBib29sZWFuID0gZmFsc2VcblxuICBjb25zdHJ1Y3Rvcihjb25kaXRpb246ICgpID0+IGJvb2xlYW4pIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5jb25kaXRpb24gPSBjb25kaXRpb25cbiAgfVxuXG4gIG9uU3RhcnQoKSB7XG4gICAgdGhpcy5icmVha1doaWxlID0gZmFsc2VcbiAgICBpZiAodGhpcy5jb25kaXRpb24oKSkgc3VwZXIub25TdGFydCgpXG4gICAgZWxzZSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID0gbnVsbFxuICB9XG5cbiAgdXBkYXRlKGR0OiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSkge1xuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLmhhc0ZpbmlzaCgpKSB7XG4gICAgICAgIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UudXBkYXRlKGR0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS5vbkZpbmlzaCgpXG4gICAgICAgIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLm5leHRcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPT0gbnVsbClcbiAgICAgICAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID0gdGhpcy5zdGFydGluZ0lubmVyU2VxdWVuY2VcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UpIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2Uub25TdGFydCgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFzRmluaXNoKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmJyZWFrV2hpbGUgfHwgIXRoaXMuY29uZGl0aW9uKClcbiAgfVxufVxuXG5jbGFzcyBCcmVha1doaWxlU2VxdWVuY2VOb2RlIGV4dGVuZHMgU2VxdWVuY2VOb2RlIHtcbiAgd2hpbGVOb2RlOiBXaGlsZVNlcXVlbmNlTm9kZVxuXG4gIGNvbnN0cnVjdG9yKHdoaWxlTm9kZTogV2hpbGVTZXF1ZW5jZU5vZGUpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy53aGlsZU5vZGUgPSB3aGlsZU5vZGVcbiAgfVxuXG4gIG9uU3RhcnQoKSB7XG4gICAgdGhpcy53aGlsZU5vZGUuYnJlYWtXaGlsZSA9IHRydWVcbiAgfVxufVxuIiwiaW1wb3J0IHsgaXNQcmV2aWV3TW9kZSB9IGZyb20gJ0BkZWNlbnRyYWxhbmQvRW52aXJvbm1lbnRBUEknXG5cbi8qKlxuICogT2JqZWN0IHdpdGggZGF0YSBmb3IgYSBOUENUcmlnZ2VyQ29tcG9uZW50XG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFRyaWdnZXJEYXRhID0ge1xuICAvKipcbiAgICogbGF5ZXIgb2YgdGhlIFRyaWdnZXIsIHVzZWZ1bCB0byBkaXNjcmltaW5hdGUgYmV0d2VlbiB0cmlnZ2VyIGV2ZW50cy4gWW91IGNhbiBzZXQgbXVsdGlwbGUgbGF5ZXJzIGJ5IHVzaW5nIGEgfCBzeW1ib2wuXG4gICAqL1xuICBsYXllcj86IG51bWJlclxuICAvKipcbiAgICogYWdhaW5zdCB3aGljaCBsYXllcnMgdG8gY2hlY2sgY29sbGlzaW9uc1xuICAgKi9cbiAgdHJpZ2dlcmVkQnlMYXllcj86IG51bWJlclxuICAvKipcbiAgICogY2FsbGJhY2sgd2hlbiBhbiBlbnRpdHkgb2YgYSB2YWxpZCBsYXllciBlbnRlcnMgdGhlIHRyaWdnZXIgYXJlYVxuICAgKi9cbiAgb25UcmlnZ2VyRW50ZXI/OiAoZW50aXR5OiBFbnRpdHkpID0+IHZvaWRcbiAgLyoqXG4gICAqIGNhbGxiYWNrIHdoZW4gYW4gZW50aXR5IG9mIGEgdmFsaWQgbGF5ZXIgbGVhdmVzIHRoZSB0cmlnZ2VyIGFyZWFcbiAgICovXG4gIG9uVHJpZ2dlckV4aXQ/OiAoZW50aXR5OiBFbnRpdHkpID0+IHZvaWRcbiAgLyoqXG4gICAqIGNhbGxiYWNrIHdoZW4gdGhlIHBsYXllciBlbnRlcnMgdGhlIHRyaWdnZXIgYXJlYVxuICAgKi9cbiAgb25DYW1lcmFFbnRlcj86ICgpID0+IHZvaWRcbiAgLyoqXG4gICAqIGNhbGxiYWNrIHdoZW4gdGhlIHBsYXllciBsZWF2ZXMgdGhlIHRyaWdnZXIgYXJlYVxuICAgKi9cbiAgb25DYW1lcmFFeGl0PzogKCkgPT4gdm9pZFxuICAvKipcbiAgICogd2hlbiB0cnVlIG1ha2VzIHRoZSB0cmlnZ2VyIGFyZWEgdmlzaWJsZSBmb3IgZGVidWcgcHVycG9zZXMuXG4gICAqL1xuICBlbmFibGVEZWJ1Zz86IGJvb2xlYW5cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmlnZ2VyU3lzdGVtIGltcGxlbWVudHMgSVN5c3RlbSB7XG4gIHByaXZhdGUgc3RhdGljIF9pbnN0YW5jZTogVHJpZ2dlclN5c3RlbSB8IG51bGwgPSBudWxsXG4gIHN0YXRpYyBnZXQgaW5zdGFuY2UoKTogVHJpZ2dlclN5c3RlbSB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlQW5kQWRkVG9FbmdpbmUoKVxuICB9XG5cbiAgcHJpdmF0ZSBfdHJpZ2dlcnM6IFJlY29yZDxzdHJpbmcsIFRyaWdnZXJXcmFwcGVyPiA9IHt9XG4gIHByaXZhdGUgX2NhbWVyYVRyaWdnZXJXcmFwcGVyOiBDYW1lcmFUcmlnZ2VyXG4gIHByaXZhdGUgX2NvbXBvbmVudEdyb3VwOiBDb21wb25lbnRHcm91cFxuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgVHJpZ2dlclN5c3RlbS5faW5zdGFuY2UgPSB0aGlzXG4gICAgdGhpcy5fY2FtZXJhVHJpZ2dlcldyYXBwZXIgPSBuZXcgQ2FtZXJhVHJpZ2dlcihcbiAgICAgIG5ldyBUcmlnZ2VyQm94U2hhcGUobmV3IFZlY3RvcjMoMC41LCAxLjgsIDAuNSksIG5ldyBWZWN0b3IzKDAsIDAuOTEsIDApKVxuICAgIClcblxuICAgIHRoaXMuX2NvbXBvbmVudEdyb3VwID0gZW5naW5lLmdldENvbXBvbmVudEdyb3VwKFRyaWdnZXJDb21wb25lbnQpXG4gIH1cblxuICBzdGF0aWMgY3JlYXRlQW5kQWRkVG9FbmdpbmUoKTogVHJpZ2dlclN5c3RlbSB7XG4gICAgaWYgKHRoaXMuX2luc3RhbmNlID09IG51bGwpIHtcbiAgICAgIHRoaXMuX2luc3RhbmNlID0gbmV3IFRyaWdnZXJTeXN0ZW0oKVxuICAgICAgZW5naW5lLmFkZFN5c3RlbSh0aGlzLl9pbnN0YW5jZSlcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlXG4gIH1cblxuICAvKipcbiAgICogc2V0IGEgY3VzdG9tIHRyaWdnZXIncyBzaGFwZSBmb3IgdGhlIGNhbWVyYVxuICAgKiBAcGFyYW0gc2hhcGUgLSBjdXN0b20gdHJpZ2dlcidzIHNoYXBlXG4gICAqL1xuICBzZXRDYW1lcmFUcmlnZ2VyU2hhcGUoc2hhcGU6IFRyaWdnZXJCb3hTaGFwZSB8IFRyaWdnZXJTcGhlcmVTaGFwZSkge1xuICAgIHRoaXMuX2NhbWVyYVRyaWdnZXJXcmFwcGVyLnNldFNoYXBlKHNoYXBlKVxuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGxldCBlbnRpdGllc1dpdGhUcmlnZ2VycyA9IHRoaXMuX2NvbXBvbmVudEdyb3VwLmVudGl0aWVzXG5cbiAgICAvL2l0ZXJhdGUgdGhyb3VnaCBhbGwgZW50aXRpZXMgd2l0aCB0cmlnZ2VycyBhbmQgd3JhcCBlbnRpdGllcyB0aGF0IHdlcmVuJ3Qgd3JhcHBlZCB5ZXRcbiAgICBlbnRpdGllc1dpdGhUcmlnZ2Vycy5mb3JFYWNoKGVudGl0eSA9PiB7XG4gICAgICBpZiAodGhpcy5zaG91bGRXcmFwVHJpZ2dlckVudGl0eShlbnRpdHkpKSB7XG4gICAgICAgIHRoaXMud3JhcFRyaWdnZXJFbnRpdHkoZW50aXR5KVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvL2l0ZXJhdGUgdGhyb3VnaCB3cmFwcGVkIGVudGl0aWVzXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy5fdHJpZ2dlcnMpIHtcbiAgICAgIGlmICh0aGlzLl90cmlnZ2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGxldCB3cmFwcGVyID0gdGhpcy5fdHJpZ2dlcnNba2V5XVxuXG4gICAgICAgIC8vdXBkYXRlIGRlYnVnIGVudGl0eVxuICAgICAgICBpZiAod3JhcHBlci5pc0RlYnVnZ2luZygpKSB7XG4gICAgICAgICAgd3JhcHBlci51cGRhdGVEZWJ1Z0VudGl0eSgpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXdyYXBwZXIuaXNJbkVuZ2luZSgpKSB7XG4gICAgICAgICAgLy9yZW1vdmUgZGVidWdnaW5nXG4gICAgICAgICAgaWYgKHdyYXBwZXIuaXNEZWJ1Z2dpbmcoKSkge1xuICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVEZWJ1Z0VudGl0eSgpXG4gICAgICAgICAgfVxuICAgICAgICAgIC8vcmVtb3ZlIG9sZCBjb2xsaXNpb25zXG4gICAgICAgICAgVHJpZ2dlclN5c3RlbS5yZW1vdmVUcmlnZ2VyRnJvbVN5c3RlbSh3cmFwcGVyKVxuICAgICAgICAgIC8vcmVtb3ZlIGZyb20gcmVjb3JkXG4gICAgICAgICAgZGVsZXRlIHRoaXMuX3RyaWdnZXJzW2tleV1cbiAgICAgICAgfSBlbHNlIGlmICh3cmFwcGVyLnRyaWdnZXIgIT0gbnVsbCAmJiB3cmFwcGVyLnRyaWdnZXIuZW5hYmxlZCkge1xuICAgICAgICAgIC8vaWYgd2FzIHNldCBhcyBlbmFibGVkIGluIGxhc3QgZnJhbWVcbiAgICAgICAgICBpZiAoIXdyYXBwZXIud2FzRW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKHdyYXBwZXIuaXNEZWJ1Z2dpbmcoKSkge1xuICAgICAgICAgICAgICB3cmFwcGVyLmFkZERlYnVnRW50aXR5KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy9zZXQgYXMgZW5hYmxlZFxuICAgICAgICAgIHdyYXBwZXIud2FzRW5hYmxlZCA9IHRydWVcblxuICAgICAgICAgIC8vY2hlY2sgY29sbGlzaW9uIGNhbWVyYVxuICAgICAgICAgIGlmICh3cmFwcGVyLnRyaWdnZXIub25DYW1lcmFFbnRlciB8fCB3cmFwcGVyLnRyaWdnZXIub25DYW1lcmFFeGl0KSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ29sbGlzaW9uQWdhaW5zdENhbWVyYSh3cmFwcGVyKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vY2hlY2sgY29sbGlzaW9uIHdpdGggb3RoZXJzXG4gICAgICAgICAgaWYgKHdyYXBwZXIudHJpZ2dlci5vblRyaWdnZXJFbnRlciB8fCB3cmFwcGVyLnRyaWdnZXIub25UcmlnZ2VyRXhpdCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvbGxpc2lvbkFnYWluc3RPdGhlclRyaWdnZXJzKHdyYXBwZXIpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHdyYXBwZXIud2FzRW5hYmxlZCkge1xuICAgICAgICAgIHdyYXBwZXIud2FzRW5hYmxlZCA9IGZhbHNlXG4gICAgICAgICAgLy9yZW1vdmUgZGVidWdnaW5nXG4gICAgICAgICAgaWYgKHdyYXBwZXIuaXNEZWJ1Z2dpbmcoKSkge1xuICAgICAgICAgICAgd3JhcHBlci5yZW1vdmVEZWJ1Z0VudGl0eSgpXG4gICAgICAgICAgfVxuICAgICAgICAgIFRyaWdnZXJTeXN0ZW0ucmVtb3ZlVHJpZ2dlckZyb21TeXN0ZW0od3JhcHBlcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkV3JhcFRyaWdnZXJFbnRpdHkoZW50aXR5OiBJRW50aXR5KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX3RyaWdnZXJzW2VudGl0eS51dWlkXSA9PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX3RyaWdnZXJzW2VudGl0eS51dWlkXSA9PSBudWxsXG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSB3cmFwVHJpZ2dlckVudGl0eShlbnRpdHk6IElFbnRpdHkpIHtcbiAgICB0aGlzLl90cmlnZ2Vyc1tlbnRpdHkudXVpZF0gPSBuZXcgVHJpZ2dlcldyYXBwZXIoZW50aXR5IGFzIEVudGl0eSlcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHJlbW92ZVRyaWdnZXJGcm9tU3lzdGVtKHdyYXBwZXI6IFRyaWdnZXJXcmFwcGVyKSB7XG4gICAgbGV0IGFjdGl2ZUNvbGxpc2lvbnMgPSB3cmFwcGVyLmdldEFjdGl2ZUNvbGxpc2lvbnMoKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlQ29sbGlzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGFjdGl2ZUNvbGxpc2lvbkhhc1RyaWdnZXIgPSAhKFxuICAgICAgICBhY3RpdmVDb2xsaXNpb25zW2ldID09PVxuICAgICAgICAgIFRyaWdnZXJTeXN0ZW0uX2luc3RhbmNlPy5fY2FtZXJhVHJpZ2dlcldyYXBwZXIgfHxcbiAgICAgICAgYWN0aXZlQ29sbGlzaW9uc1tpXS50cmlnZ2VyID09IG51bGxcbiAgICAgIClcblxuICAgICAgaWYgKFxuICAgICAgICBhY3RpdmVDb2xsaXNpb25IYXNUcmlnZ2VyICYmXG4gICAgICAgIGFjdGl2ZUNvbGxpc2lvbnNbaV0udHJpZ2dlci5vblRyaWdnZXJFeGl0ICYmXG4gICAgICAgIHdyYXBwZXIuZW50aXR5XG4gICAgICApXG4gICAgICAgIChhY3RpdmVDb2xsaXNpb25zW2ldLnRyaWdnZXIub25UcmlnZ2VyRXhpdCBhcyAoXG4gICAgICAgICAgZW50aXR5OiBJRW50aXR5XG4gICAgICAgICkgPT4gdm9pZCkod3JhcHBlci5lbnRpdHkpXG4gICAgICBhY3RpdmVDb2xsaXNpb25zW2ldLmRpc2VuZ2FnZUFjdGl2ZUNvbGxpc2lvbih3cmFwcGVyKVxuICAgICAgd3JhcHBlci5kaXNlbmdhZ2VBY3RpdmVDb2xsaXNpb24oYWN0aXZlQ29sbGlzaW9uc1tpXSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBkaXNlbmdhZ2VDb2xsaXNpb24odDE6IFRyaWdnZXJXcmFwcGVyLCB0MjogVHJpZ2dlcldyYXBwZXIpIHtcbiAgICB0MS5kaXNlbmdhZ2VBY3RpdmVDb2xsaXNpb24odDIpXG4gICAgdDIuZGlzZW5nYWdlQWN0aXZlQ29sbGlzaW9uKHQxKVxuXG4gICAgaWYgKHQxLnRyaWdnZXIub25UcmlnZ2VyRXhpdCAmJiB0Mi5lbnRpdHkpXG4gICAgICB0MS50cmlnZ2VyLm9uVHJpZ2dlckV4aXQodDIuZW50aXR5KVxuICAgIGlmICh0Mi50cmlnZ2VyLm9uVHJpZ2dlckV4aXQgJiYgdDEuZW50aXR5KVxuICAgICAgdDIudHJpZ2dlci5vblRyaWdnZXJFeGl0KHQxLmVudGl0eSlcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGVuZ2FnZUNvbGxpc2lvbih0MTogVHJpZ2dlcldyYXBwZXIsIHQyOiBUcmlnZ2VyV3JhcHBlcikge1xuICAgIHQxLmVuZ2FnZUNvbGxpc2lvbih0MilcbiAgICB0Mi5lbmdhZ2VDb2xsaXNpb24odDEpXG5cbiAgICBpZiAodDEudHJpZ2dlci5vblRyaWdnZXJFbnRlciAmJiB0Mi5lbnRpdHkpXG4gICAgICB0MS50cmlnZ2VyLm9uVHJpZ2dlckVudGVyKHQyLmVudGl0eSlcbiAgICBpZiAodDIudHJpZ2dlci5vblRyaWdnZXJFbnRlciAmJiB0MS5lbnRpdHkpXG4gICAgICB0Mi50cmlnZ2VyLm9uVHJpZ2dlckVudGVyKHQxLmVudGl0eSlcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tDb2xsaXNpb25BZ2FpbnN0Q2FtZXJhKHdyYXBwZXI6IFRyaWdnZXJXcmFwcGVyKSB7XG4gICAgbGV0IHdlcmVDb2xsaWRpbmcgPSB3cmFwcGVyLmhhc0FjdGl2ZUNvbGxpc2lvbih0aGlzLl9jYW1lcmFUcmlnZ2VyV3JhcHBlcilcbiAgICBsZXQgYXJlQ29sbGlkaW5nID0gVHJpZ2dlclN5c3RlbS5hcmVDb2xsaWRpbmcoXG4gICAgICB3cmFwcGVyLFxuICAgICAgdGhpcy5fY2FtZXJhVHJpZ2dlcldyYXBwZXJcbiAgICApXG5cbiAgICBpZiAod2VyZUNvbGxpZGluZyAmJiAhYXJlQ29sbGlkaW5nKSB7XG4gICAgICB3cmFwcGVyLmRpc2VuZ2FnZUFjdGl2ZUNvbGxpc2lvbih0aGlzLl9jYW1lcmFUcmlnZ2VyV3JhcHBlcilcbiAgICAgIGlmICh3cmFwcGVyLnRyaWdnZXIub25DYW1lcmFFeGl0KSB3cmFwcGVyLnRyaWdnZXIub25DYW1lcmFFeGl0KClcbiAgICB9IGVsc2UgaWYgKCF3ZXJlQ29sbGlkaW5nICYmIGFyZUNvbGxpZGluZykge1xuICAgICAgd3JhcHBlci5lbmdhZ2VDb2xsaXNpb24odGhpcy5fY2FtZXJhVHJpZ2dlcldyYXBwZXIpXG4gICAgICBpZiAod3JhcHBlci50cmlnZ2VyLm9uQ2FtZXJhRW50ZXIpIHdyYXBwZXIudHJpZ2dlci5vbkNhbWVyYUVudGVyKClcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNoZWNrQ29sbGlzaW9uQWdhaW5zdE90aGVyVHJpZ2dlcnMod3JhcHBlcjogVHJpZ2dlcldyYXBwZXIpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLl90cmlnZ2Vycykge1xuICAgICAgaWYgKHRoaXMuX3RyaWdnZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgaWYgKGtleSAhPSB3cmFwcGVyLnV1aWQgJiYgdGhpcy5fdHJpZ2dlcnNba2V5XS50cmlnZ2VyLmVuYWJsZWQpIHtcbiAgICAgICAgICBpZiAoVHJpZ2dlclN5c3RlbS5jYW5UcmlnZ2Vyc0NvbGxpZGUod3JhcHBlciwgdGhpcy5fdHJpZ2dlcnNba2V5XSkpIHtcbiAgICAgICAgICAgIGxldCB3ZXJlQ29sbGlkaW5nID0gd3JhcHBlci5oYXNBY3RpdmVDb2xsaXNpb24odGhpcy5fdHJpZ2dlcnNba2V5XSlcbiAgICAgICAgICAgIGxldCBhcmVDb2xsaWRpbmcgPSBUcmlnZ2VyU3lzdGVtLmFyZUNvbGxpZGluZyhcbiAgICAgICAgICAgICAgd3JhcHBlcixcbiAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcnNba2V5XVxuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICBpZiAod2VyZUNvbGxpZGluZyAmJiAhYXJlQ29sbGlkaW5nKVxuICAgICAgICAgICAgICBUcmlnZ2VyU3lzdGVtLmRpc2VuZ2FnZUNvbGxpc2lvbih3cmFwcGVyLCB0aGlzLl90cmlnZ2Vyc1trZXldKVxuICAgICAgICAgICAgZWxzZSBpZiAoIXdlcmVDb2xsaWRpbmcgJiYgYXJlQ29sbGlkaW5nKVxuICAgICAgICAgICAgICBUcmlnZ2VyU3lzdGVtLmVuZ2FnZUNvbGxpc2lvbih3cmFwcGVyLCB0aGlzLl90cmlnZ2Vyc1trZXldKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGNhblRyaWdnZXJzQ29sbGlkZShcbiAgICB0MTogVHJpZ2dlcldyYXBwZXIsXG4gICAgdDI6IFRyaWdnZXJXcmFwcGVyXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICh0MS50cmlnZ2VyLnRyaWdnZXJlZEJ5TGF5ZXIgPT0gMCkgcmV0dXJuIHRydWVcbiAgICByZXR1cm4gKHQyLnRyaWdnZXIubGF5ZXIgJiB0MS50cmlnZ2VyLnRyaWdnZXJlZEJ5TGF5ZXIpICE9IDBcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGFyZUNvbGxpZGluZyh0MTogVHJpZ2dlcldyYXBwZXIsIHQyOiBUcmlnZ2VyV3JhcHBlcik6IGJvb2xlYW4ge1xuICAgIGlmIChcbiAgICAgIHQxLmdldFNoYXBlKCkgaW5zdGFuY2VvZiBUcmlnZ2VyQm94U2hhcGUgJiZcbiAgICAgIHQyLmdldFNoYXBlKCkgaW5zdGFuY2VvZiBUcmlnZ2VyQm94U2hhcGVcbiAgICApIHtcbiAgICAgIHJldHVybiBUcmlnZ2VyU3lzdGVtLmFyZUNvbGxpZGluZ0FBQkIoXG4gICAgICAgIHQxLmdldEdsb2JhbFBvc2l0aW9uKCksXG4gICAgICAgIHQxLmdldFNoYXBlKCkgYXMgVHJpZ2dlckJveFNoYXBlLFxuICAgICAgICB0Mi5nZXRHbG9iYWxQb3NpdGlvbigpLFxuICAgICAgICB0Mi5nZXRTaGFwZSgpIGFzIFRyaWdnZXJCb3hTaGFwZVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0MS5nZXRTaGFwZSgpIGluc3RhbmNlb2YgVHJpZ2dlclNwaGVyZVNoYXBlICYmXG4gICAgICB0Mi5nZXRTaGFwZSgpIGluc3RhbmNlb2YgVHJpZ2dlclNwaGVyZVNoYXBlXG4gICAgKSB7XG4gICAgICByZXR1cm4gVHJpZ2dlclN5c3RlbS5hcmVDb2xsaWRpbmdTcGhlcmUoXG4gICAgICAgIHQxLmdldEdsb2JhbFBvc2l0aW9uKCksXG4gICAgICAgIHQxLmdldFNoYXBlKCkgYXMgVHJpZ2dlclNwaGVyZVNoYXBlLFxuICAgICAgICB0Mi5nZXRHbG9iYWxQb3NpdGlvbigpLFxuICAgICAgICB0Mi5nZXRTaGFwZSgpIGFzIFRyaWdnZXJTcGhlcmVTaGFwZVxuICAgICAgKVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0MS5nZXRTaGFwZSgpIGluc3RhbmNlb2YgVHJpZ2dlckJveFNoYXBlICYmXG4gICAgICB0Mi5nZXRTaGFwZSgpIGluc3RhbmNlb2YgVHJpZ2dlclNwaGVyZVNoYXBlXG4gICAgKSB7XG4gICAgICByZXR1cm4gVHJpZ2dlclN5c3RlbS5hcmVDb2xsaWRpbmdBQUJCU3BoZXJlKFxuICAgICAgICB0MS5nZXRHbG9iYWxQb3NpdGlvbigpLFxuICAgICAgICB0MS5nZXRTaGFwZSgpIGFzIFRyaWdnZXJCb3hTaGFwZSxcbiAgICAgICAgdDIuZ2V0R2xvYmFsUG9zaXRpb24oKSxcbiAgICAgICAgdDIuZ2V0U2hhcGUoKSBhcyBUcmlnZ2VyU3BoZXJlU2hhcGVcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdDEuZ2V0U2hhcGUoKSBpbnN0YW5jZW9mIFRyaWdnZXJTcGhlcmVTaGFwZSAmJlxuICAgICAgdDIuZ2V0U2hhcGUoKSBpbnN0YW5jZW9mIFRyaWdnZXJCb3hTaGFwZVxuICAgICkge1xuICAgICAgcmV0dXJuIFRyaWdnZXJTeXN0ZW0uYXJlQ29sbGlkaW5nQUFCQlNwaGVyZShcbiAgICAgICAgdDIuZ2V0R2xvYmFsUG9zaXRpb24oKSxcbiAgICAgICAgdDIuZ2V0U2hhcGUoKSBhcyBUcmlnZ2VyQm94U2hhcGUsXG4gICAgICAgIHQxLmdldEdsb2JhbFBvc2l0aW9uKCksXG4gICAgICAgIHQxLmdldFNoYXBlKCkgYXMgVHJpZ2dlclNwaGVyZVNoYXBlXG4gICAgICApXG4gICAgfVxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgYXJlQ29sbGlkaW5nQUFCQihcbiAgICB0MUdsb2JhbFBvc2l0aW9uOiBWZWN0b3IzLFxuICAgIHQxU2hhcGU6IFRyaWdnZXJCb3hTaGFwZSxcbiAgICB0Mkdsb2JhbFBvc2l0aW9uOiBWZWN0b3IzLFxuICAgIHQyU2hhcGU6IFRyaWdnZXJCb3hTaGFwZVxuICApOiBib29sZWFuIHtcbiAgICBsZXQgdDEgPSBUcmlnZ2VyU3lzdGVtLmdldEJveFNoYXBlVmFsdWVzKHQxR2xvYmFsUG9zaXRpb24sIHQxU2hhcGUpXG4gICAgbGV0IHQyID0gVHJpZ2dlclN5c3RlbS5nZXRCb3hTaGFwZVZhbHVlcyh0Mkdsb2JhbFBvc2l0aW9uLCB0MlNoYXBlKVxuICAgIHJldHVybiAoXG4gICAgICB0MS5taW4ueCA8PSB0Mi5tYXgueCAmJlxuICAgICAgdDEubWF4LnggPj0gdDIubWluLnggJiZcbiAgICAgIHQxLm1pbi55IDw9IHQyLm1heC55ICYmXG4gICAgICB0MS5tYXgueSA+PSB0Mi5taW4ueSAmJlxuICAgICAgdDEubWluLnogPD0gdDIubWF4LnogJiZcbiAgICAgIHQxLm1heC56ID49IHQyLm1pbi56XG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgYXJlQ29sbGlkaW5nU3BoZXJlKFxuICAgIHQxR2xvYmFsUG9zaXRpb246IFZlY3RvcjMsXG4gICAgdDFTaGFwZTogVHJpZ2dlclNwaGVyZVNoYXBlLFxuICAgIHQyR2xvYmFsUG9zaXRpb246IFZlY3RvcjMsXG4gICAgdDJTaGFwZTogVHJpZ2dlclNwaGVyZVNoYXBlXG4gICk6IGJvb2xlYW4ge1xuICAgIGxldCBzcURpc3QgPSBWZWN0b3IzLkRpc3RhbmNlU3F1YXJlZChcbiAgICAgIHQxR2xvYmFsUG9zaXRpb24uYWRkKHQxU2hhcGUucG9zaXRpb24pLFxuICAgICAgdDJHbG9iYWxQb3NpdGlvbi5hZGQodDJTaGFwZS5wb3NpdGlvbilcbiAgICApXG4gICAgcmV0dXJuIChcbiAgICAgIHNxRGlzdCA8IHQxU2hhcGUucmFkaXVzICogdDFTaGFwZS5yYWRpdXMgKyB0MlNoYXBlLnJhZGl1cyAqIHQyU2hhcGUucmFkaXVzXG4gICAgKVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgYXJlQ29sbGlkaW5nQUFCQlNwaGVyZShcbiAgICB0MUdsb2JhbFBvc2l0aW9uOiBWZWN0b3IzLFxuICAgIHQxU2hhcGU6IFRyaWdnZXJCb3hTaGFwZSxcbiAgICB0Mkdsb2JhbFBvc2l0aW9uOiBWZWN0b3IzLFxuICAgIHQyU2hhcGU6IFRyaWdnZXJTcGhlcmVTaGFwZVxuICApOiBib29sZWFuIHtcbiAgICBsZXQgYm94ID0gVHJpZ2dlclN5c3RlbS5nZXRCb3hTaGFwZVZhbHVlcyh0MUdsb2JhbFBvc2l0aW9uLCB0MVNoYXBlKVxuICAgIGxldCBzcGhlcmUgPSB7XG4gICAgICBjZW50ZXI6IHQyR2xvYmFsUG9zaXRpb24uYWRkKHQyU2hhcGUucG9zaXRpb24pLFxuICAgICAgcmFkaXVzOiB0MlNoYXBlLnJhZGl1c1xuICAgIH1cblxuICAgIGxldCBkbWluID0gMFxuICAgIGlmIChzcGhlcmUuY2VudGVyLnggPCBib3gubWluLngpXG4gICAgICBkbWluICs9IChib3gubWluLnggLSBzcGhlcmUuY2VudGVyLngpICogKGJveC5taW4ueCAtIHNwaGVyZS5jZW50ZXIueClcbiAgICBpZiAoc3BoZXJlLmNlbnRlci54ID4gYm94Lm1heC54KVxuICAgICAgZG1pbiArPSAoc3BoZXJlLmNlbnRlci54IC0gYm94Lm1heC54KSAqIChzcGhlcmUuY2VudGVyLnggLSBib3gubWF4LngpXG4gICAgaWYgKHNwaGVyZS5jZW50ZXIueSA8IGJveC5taW4ueSlcbiAgICAgIGRtaW4gKz0gKGJveC5taW4ueSAtIHNwaGVyZS5jZW50ZXIueSkgKiAoYm94Lm1pbi55IC0gc3BoZXJlLmNlbnRlci55KVxuICAgIGlmIChzcGhlcmUuY2VudGVyLnkgPiBib3gubWF4LnkpXG4gICAgICBkbWluICs9IChzcGhlcmUuY2VudGVyLnkgLSBib3gubWF4LnkpICogKHNwaGVyZS5jZW50ZXIueSAtIGJveC5tYXgueSlcbiAgICBpZiAoc3BoZXJlLmNlbnRlci56IDwgYm94Lm1pbi56KVxuICAgICAgZG1pbiArPSAoYm94Lm1pbi56IC0gc3BoZXJlLmNlbnRlci56KSAqIChib3gubWluLnogLSBzcGhlcmUuY2VudGVyLnopXG4gICAgaWYgKHNwaGVyZS5jZW50ZXIueiA+IGJveC5tYXgueilcbiAgICAgIGRtaW4gKz0gKHNwaGVyZS5jZW50ZXIueiAtIGJveC5tYXgueikgKiAoc3BoZXJlLmNlbnRlci56IC0gYm94Lm1heC56KVxuXG4gICAgcmV0dXJuIGRtaW4gPCBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1c1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0Qm94U2hhcGVWYWx1ZXMoXG4gICAgZW50aXR5R2xvYmFsUG9zaXRpb246IFZlY3RvcjMsXG4gICAgc2hhcGU6IFRyaWdnZXJCb3hTaGFwZVxuICApOiB7IGNlbnRlcjogVmVjdG9yMzsgbWluOiBWZWN0b3IzOyBtYXg6IFZlY3RvcjMgfSB7XG4gICAgbGV0IGNlbnRlciA9IGVudGl0eUdsb2JhbFBvc2l0aW9uLmFkZChzaGFwZS5wb3NpdGlvbilcbiAgICByZXR1cm4ge1xuICAgICAgY2VudGVyOiBjZW50ZXIsXG4gICAgICBtaW46IGNlbnRlci5zdWJ0cmFjdChzaGFwZS5zaXplLnNjYWxlKDAuNSkpLFxuICAgICAgbWF4OiBjZW50ZXIuYWRkKHNoYXBlLnNpemUuc2NhbGUoMC41KSlcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgVHJpZ2dlcldyYXBwZXIge1xuICB3YXNFbmFibGVkOiBib29sZWFuID0gdHJ1ZVxuXG4gIGdldCBlbnRpdHkoKTogRW50aXR5IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5fZW50aXR5XG4gIH1cbiAgZ2V0IHRyaWdnZXIoKTogVHJpZ2dlckNvbXBvbmVudCB7XG4gICAgcmV0dXJuIHRoaXMuX3RyaWdnZXJcbiAgfVxuICBnZXQgdXVpZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLl91dWlkXG4gIH1cblxuICBwcm90ZWN0ZWQgX2VudGl0eT86IEVudGl0eVxuICBwcm90ZWN0ZWQgX3RyaWdnZXIhOiBUcmlnZ2VyQ29tcG9uZW50XG4gIHByb3RlY3RlZCBfdXVpZDogc3RyaW5nID0gJydcbiAgcHJvdGVjdGVkIF9jb2xsaWRpbmdXaXRoOiBSZWNvcmQ8c3RyaW5nLCBUcmlnZ2VyV3JhcHBlcj4gPSB7fVxuXG4gIHByaXZhdGUgX2lzRGVidWc6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIF9kZWJ1Z0VudGl0eTogRW50aXR5IHwgbnVsbCA9IG51bGxcbiAgcHJpdmF0ZSBzdGF0aWMgX2RlYnVnTWF0ZXJpYWw6IE1hdGVyaWFsIHwgbnVsbCA9IG51bGxcblxuICBjb25zdHJ1Y3RvcihlbnRpdHk/OiBFbnRpdHkpIHtcbiAgICB0aGlzLl9lbnRpdHkgPSBlbnRpdHlcbiAgICBpZiAoZW50aXR5KSB7XG4gICAgICB0aGlzLl90cmlnZ2VyID0gZW50aXR5LmdldENvbXBvbmVudChUcmlnZ2VyQ29tcG9uZW50KVxuICAgICAgdGhpcy5fdXVpZCA9IGVudGl0eS51dWlkXG4gICAgICB0aGlzLl9pc0RlYnVnID0gdGhpcy5fdHJpZ2dlci5kZWJ1Z0VuYWJsZWRcbiAgICAgIGlmICh0aGlzLl9pc0RlYnVnKSB7XG4gICAgICAgIHRoaXMuYWRkRGVidWdFbnRpdHkoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldEdsb2JhbFBvc2l0aW9uKCk6IFZlY3RvcjMge1xuICAgIGlmICh0aGlzLl9lbnRpdHkpIHJldHVybiBUcmlnZ2VyV3JhcHBlci5nZXRFbnRpdHlXb3JsZFBvc2l0aW9uKHRoaXMuX2VudGl0eSlcbiAgICByZXR1cm4gVmVjdG9yMy5aZXJvKClcbiAgfVxuXG4gIGdldFNoYXBlKCk6IFRyaWdnZXJCb3hTaGFwZSB8IFRyaWdnZXJTcGhlcmVTaGFwZSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyaWdnZXIuc2hhcGVcbiAgfVxuXG4gIGlzSW5FbmdpbmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2VudGl0eSAhPSBudWxsICYmIHRoaXMuX2VudGl0eS5pc0FkZGVkVG9FbmdpbmUoKVxuICB9XG5cbiAgZ2V0QWN0aXZlQ29sbGlzaW9ucygpOiBUcmlnZ2VyV3JhcHBlcltdIHtcbiAgICBsZXQgcmV0OiBUcmlnZ2VyV3JhcHBlcltdID0gW11cblxuICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuX2NvbGxpZGluZ1dpdGgpIHtcbiAgICAgIGlmICh0aGlzLl9jb2xsaWRpbmdXaXRoLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgcmV0LnB1c2godGhpcy5fY29sbGlkaW5nV2l0aFtrZXldKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0XG4gIH1cblxuICBoYXNBY3RpdmVDb2xsaXNpb24ob3RoZXI6IFRyaWdnZXJXcmFwcGVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuX2NvbGxpZGluZ1dpdGhbb3RoZXIudXVpZF0gIT0gdW5kZWZpbmVkICYmXG4gICAgICB0aGlzLl9jb2xsaWRpbmdXaXRoW290aGVyLnV1aWRdICE9IG51bGxcbiAgICApXG4gIH1cblxuICBkaXNlbmdhZ2VBY3RpdmVDb2xsaXNpb24ob3RoZXI6IFRyaWdnZXJXcmFwcGVyKSB7XG4gICAgZGVsZXRlIHRoaXMuX2NvbGxpZGluZ1dpdGhbb3RoZXIudXVpZF1cbiAgfVxuXG4gIGVuZ2FnZUNvbGxpc2lvbihvdGhlcjogVHJpZ2dlcldyYXBwZXIpIHtcbiAgICB0aGlzLl9jb2xsaWRpbmdXaXRoW290aGVyLnV1aWRdID0gb3RoZXJcbiAgfVxuXG4gIGlzRGVidWdnaW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9pc0RlYnVnXG4gIH1cblxuICBhc3luYyBhZGREZWJ1Z0VudGl0eSgpIHtcbiAgICBpZiAoYXdhaXQgIWlzUHJldmlld01vZGUoKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKCFUcmlnZ2VyV3JhcHBlci5fZGVidWdNYXRlcmlhbCkge1xuICAgICAgVHJpZ2dlcldyYXBwZXIuX2RlYnVnTWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoKVxuICAgICAgVHJpZ2dlcldyYXBwZXIuX2RlYnVnTWF0ZXJpYWwuYWxwaGFUZXN0ID0gMC41XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2RlYnVnRW50aXR5ID09IG51bGwpIHtcbiAgICAgIHRoaXMuX2RlYnVnRW50aXR5ID0gbmV3IEVudGl0eSgpXG5cbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0oKVxuICAgICAgdGhpcy5fZGVidWdFbnRpdHkuYWRkQ29tcG9uZW50KHRyYW5zZm9ybSlcbiAgICAgIHRoaXMuX2RlYnVnRW50aXR5LmFkZENvbXBvbmVudChUcmlnZ2VyV3JhcHBlci5fZGVidWdNYXRlcmlhbClcblxuICAgICAgaWYgKHRoaXMuZ2V0U2hhcGUoKSBpbnN0YW5jZW9mIFRyaWdnZXJCb3hTaGFwZSkge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBCb3hTaGFwZSgpXG4gICAgICAgIHNoYXBlLndpdGhDb2xsaXNpb25zID0gZmFsc2VcbiAgICAgICAgdGhpcy5fZGVidWdFbnRpdHkuYWRkQ29tcG9uZW50KHNoYXBlKVxuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUgPSAodGhpcy5nZXRTaGFwZSgpIGFzIFRyaWdnZXJCb3hTaGFwZSkuc2l6ZVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZ2V0U2hhcGUoKSBpbnN0YW5jZW9mIFRyaWdnZXJTcGhlcmVTaGFwZSkge1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBTcGhlcmVTaGFwZSgpXG4gICAgICAgIHNoYXBlLndpdGhDb2xsaXNpb25zID0gZmFsc2VcbiAgICAgICAgdGhpcy5fZGVidWdFbnRpdHkuYWRkQ29tcG9uZW50KHNoYXBlKVxuICAgICAgICBsZXQgcmFkID0gKHRoaXMuZ2V0U2hhcGUoKSBhcyBUcmlnZ2VyU3BoZXJlU2hhcGUpLnJhZGl1c1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUgPSBuZXcgVmVjdG9yMyhyYWQsIHJhZCwgcmFkKVxuICAgICAgfVxuICAgIH1cbiAgICBlbmdpbmUuYWRkRW50aXR5KHRoaXMuX2RlYnVnRW50aXR5KVxuICB9XG5cbiAgcmVtb3ZlRGVidWdFbnRpdHkoKSB7XG4gICAgaWYgKHRoaXMuX2RlYnVnRW50aXR5ICE9IG51bGwpIGVuZ2luZS5yZW1vdmVFbnRpdHkodGhpcy5fZGVidWdFbnRpdHkpXG4gIH1cblxuICB1cGRhdGVEZWJ1Z0VudGl0eSgpIHtcbiAgICBpZiAodGhpcy5fZGVidWdFbnRpdHkpIHtcbiAgICAgIHRoaXMuX2RlYnVnRW50aXR5LmdldENvbXBvbmVudChcbiAgICAgICAgVHJhbnNmb3JtXG4gICAgICApLnBvc2l0aW9uID0gdGhpcy5nZXRHbG9iYWxQb3NpdGlvbigpLmFkZCh0aGlzLmdldFNoYXBlKCkucG9zaXRpb24pXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0RW50aXR5V29ybGRQb3NpdGlvbihlbnRpdHk6IElFbnRpdHkpOiBWZWN0b3IzIHtcbiAgICBsZXQgZW50aXR5UG9zaXRpb24gPSBlbnRpdHkuaGFzQ29tcG9uZW50KFRyYW5zZm9ybSlcbiAgICAgID8gZW50aXR5LmdldENvbXBvbmVudChUcmFuc2Zvcm0pLnBvc2l0aW9uLmNsb25lKClcbiAgICAgIDogVmVjdG9yMy5aZXJvKClcbiAgICBsZXQgcGFyZW50RW50aXR5ID0gZW50aXR5LmdldFBhcmVudCgpXG5cbiAgICBpZiAocGFyZW50RW50aXR5ICE9IG51bGwpIHtcbiAgICAgIGxldCBwYXJlbnRSb3RhdGlvbiA9IHBhcmVudEVudGl0eS5oYXNDb21wb25lbnQoVHJhbnNmb3JtKVxuICAgICAgICA/IHBhcmVudEVudGl0eS5nZXRDb21wb25lbnQoVHJhbnNmb3JtKS5yb3RhdGlvblxuICAgICAgICA6IFF1YXRlcm5pb24uSWRlbnRpdHlcbiAgICAgIHJldHVybiB0aGlzLmdldEVudGl0eVdvcmxkUG9zaXRpb24ocGFyZW50RW50aXR5KS5hZGQoXG4gICAgICAgIGVudGl0eVBvc2l0aW9uLnJvdGF0ZShwYXJlbnRSb3RhdGlvbilcbiAgICAgIClcbiAgICB9XG4gICAgcmV0dXJuIGVudGl0eVBvc2l0aW9uXG4gIH1cbn1cblxuY2xhc3MgQ2FtZXJhVHJpZ2dlciBleHRlbmRzIFRyaWdnZXJXcmFwcGVyIHtcbiAgcHJpdmF0ZSBfc2hhcGU6IFRyaWdnZXJCb3hTaGFwZSB8IFRyaWdnZXJTcGhlcmVTaGFwZVxuXG4gIGNvbnN0cnVjdG9yKHNoYXBlOiBUcmlnZ2VyQm94U2hhcGUgfCBUcmlnZ2VyU3BoZXJlU2hhcGUpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5fc2hhcGUgPSBzaGFwZVxuICAgIHRoaXMuX3V1aWQgPSAnY2FtZXJhVHJpZ2dlcidcbiAgfVxuXG4gIGdldEdsb2JhbFBvc2l0aW9uKCkge1xuICAgIHJldHVybiBDYW1lcmEuaW5zdGFuY2UucG9zaXRpb25cbiAgfVxuXG4gIGdldFNoYXBlKCkge1xuICAgIHJldHVybiB0aGlzLl9zaGFwZVxuICB9XG5cbiAgc2V0U2hhcGUoc2hhcGU6IFRyaWdnZXJCb3hTaGFwZSB8IFRyaWdnZXJTcGhlcmVTaGFwZSkge1xuICAgIHRoaXMuX3NoYXBlID0gc2hhcGVcbiAgfVxuXG4gIGlzSW5FbmdpbmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBoYXNBY3RpdmVDb2xsaXNpb24ob3RoZXI6IFRyaWdnZXJXcmFwcGVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBkaXNlbmdhZ2VBY3RpdmVDb2xsaXNpb24ob3RoZXI6IFRyaWdnZXJXcmFwcGVyKSB7fVxuXG4gIGVuZ2FnZUNvbGxpc2lvbihvdGhlcjogVHJpZ2dlcldyYXBwZXIpIHt9XG4gIGlzRGVidWdnaW5nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5AQ29tcG9uZW50KCd0cmlnZ2VyQ29tcG9uZW50JylcbmV4cG9ydCBjbGFzcyBUcmlnZ2VyQ29tcG9uZW50IHtcbiAgLyoqXG4gICAqIElzIHRoZSB0cmlnZ2VyIGVuYWJsZWQ/IElmIGZhbHNlLCB0aGUgYXNzb2NpYXRlZCBmdW5jdGlvbnMgYXJlbid0IHRyaWdnZXJlZC5cbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlXG4gIC8qKlxuICAgKiBzaGFwZSBvZiB0aGUgY29sbGlkZXJcbiAgICovXG4gIHNoYXBlOiBUcmlnZ2VyQm94U2hhcGUgfCBUcmlnZ2VyU3BoZXJlU2hhcGVcbiAgLyoqXG4gICAqIGJpdCBsYXllciBvZiB0aGUgVGlnZ2VyICh1c2VmdWxsIHRvIGRpc2NyaW1pbmF0ZSBiZXR3ZWVuIHRyaWdnZXIgZXZlbnRzKVxuICAgKi9cbiAgbGF5ZXI6IG51bWJlciA9IDBcbiAgLyoqXG4gICAqIGFnYWluc3Qgd2hpY2ggbGF5ZXIgYXJlIHdlIGdvaW5nIHRvIGNoZWNrIHRyaWdnZXIncyBjb2xsaXNpb25zXG4gICAqL1xuICB0cmlnZ2VyZWRCeUxheWVyOiBudW1iZXIgPSAwXG4gIC8qKlxuICAgKiBjYWxsYmFjayB3aGVuIHRyaWdnZXIgaXMgZW50ZXJlZFxuICAgKi9cbiAgb25UcmlnZ2VyRW50ZXI/OiAoZW50aXR5OiBFbnRpdHkpID0+IHZvaWRcbiAgLyoqXG4gICAqIGNhbGxiYWNrIHdoZW4gdHJpZ2dlciBpcyBleGl0XG4gICAqL1xuICBvblRyaWdnZXJFeGl0PzogKGVudGl0eTogRW50aXR5KSA9PiB2b2lkXG4gIC8qKlxuICAgKiBjYWxsYmFjayB3aGVuIHRyaWdnZXIgaXMgZW50ZXJlZFxuICAgKi9cbiAgb25DYW1lcmFFbnRlcj86ICgpID0+IHZvaWRcbiAgLyoqXG4gICAqIGNhbGxiYWNrIHdoZW4gdHJpZ2dlciBpcyBleGl0XG4gICAqL1xuICBvbkNhbWVyYUV4aXQ/OiAoKSA9PiB2b2lkXG4gIC8qKlxuICAgKiBnZXQgaWYgZGVidWcgaXMgZW5hYmxlZFxuICAgKi9cbiAgZ2V0IGRlYnVnRW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fZGVidWdFbmFibGVkXG4gIH1cblxuICBwcml2YXRlIF9kZWJ1Z0VuYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gc2hhcGUgLSBzaGFwZSBvZiB0aGUgdHJpZ2dlcmluZyBjb2xsaWRlciBhcmVhXG4gICAqIEBwYXJhbSBkYXRhIC0gQW4gb2JqZWN0IHdpdGggYWRkaXRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGUgdHJpZ2dlciBjb21wb25lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHNoYXBlOiBUcmlnZ2VyQm94U2hhcGUgfCBUcmlnZ2VyU3BoZXJlU2hhcGUsIGRhdGE/OiBUcmlnZ2VyRGF0YSkge1xuICAgIFRyaWdnZXJTeXN0ZW0uY3JlYXRlQW5kQWRkVG9FbmdpbmUoKVxuICAgIHRoaXMuc2hhcGUgPSBzaGFwZVxuICAgIGlmIChkYXRhKSB7XG4gICAgICBpZiAoZGF0YS5sYXllcikgdGhpcy5sYXllciA9IGRhdGEubGF5ZXJcbiAgICAgIGlmIChkYXRhLnRyaWdnZXJlZEJ5TGF5ZXIpIHRoaXMudHJpZ2dlcmVkQnlMYXllciA9IGRhdGEudHJpZ2dlcmVkQnlMYXllclxuICAgICAgaWYgKGRhdGEub25UcmlnZ2VyRW50ZXIpIHRoaXMub25UcmlnZ2VyRW50ZXIgPSBkYXRhLm9uVHJpZ2dlckVudGVyXG4gICAgICBpZiAoZGF0YS5vblRyaWdnZXJFeGl0KSB0aGlzLm9uVHJpZ2dlckV4aXQgPSBkYXRhLm9uVHJpZ2dlckV4aXRcbiAgICAgIGlmIChkYXRhLm9uQ2FtZXJhRW50ZXIpIHRoaXMub25DYW1lcmFFbnRlciA9IGRhdGEub25DYW1lcmFFbnRlclxuICAgICAgaWYgKGRhdGEub25DYW1lcmFFeGl0KSB0aGlzLm9uQ2FtZXJhRXhpdCA9IGRhdGEub25DYW1lcmFFeGl0XG4gICAgICBpZiAoZGF0YS5lbmFibGVEZWJ1ZykgdGhpcy5fZGVidWdFbmFibGVkID0gZGF0YS5lbmFibGVEZWJ1Z1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIERlZmluZSBhIGJveC1zaGFwZWQgYXJlYSBmb3IgdXNpbmcgb24gYSBUcmlnZ2VyQ29tcG9uZW50XG4gKiBAcGFyYW0gc2l6ZSAtIFRoZSBzY2FsZSBvZiB0aGUgYm94IGFyZWEuIEJ5IGRlZmF1bHQgMngyeDJcbiAqIEBwYXJhbSBwb3NpdGlvbiAtIFRoZSBvZmZzZXQgZnJvbSB0aGUgcG9zaXRpb24gb2YgdGhlIGVudGl0eSB0aGF0IG93bnMgdGhlIFRyaWdnZXJDb21wb25lbnRcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFRyaWdnZXJCb3hTaGFwZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBzaXplOiBWZWN0b3IzID0gVmVjdG9yMy5PbmUoKS5zY2FsZSgyKSxcbiAgICBwdWJsaWMgcG9zaXRpb246IFZlY3RvcjMgPSBWZWN0b3IzLlplcm8oKVxuICApIHt9XG59XG5cbi8qKlxuICogRGVmaW5lIGEgc3BoZXJlLXNoYXBlZCBhcmVhIGZvciB1c2luZyBvbiBhIFRyaWdnZXJDb21wb25lbnRcbiAqIEBwYXJhbSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBzcGhlcmUgYXJlYS4gQnkgZGVmYXVsdCAyXG4gKiBAcGFyYW0gcG9zaXRpb24gLSBUaGUgb2Zmc2V0IGZyb20gdGhlIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHkgdGhhdCBvd25zIHRoZSBUcmlnZ2VyQ29tcG9uZW50XG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmlnZ2VyU3BoZXJlU2hhcGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmFkaXVzOiBudW1iZXIgPSAyLFxuICAgIHB1YmxpYyBwb3NpdGlvbjogVmVjdG9yMyA9IFZlY3RvcjMuWmVybygpXG4gICkge31cbn1cbiIsImltcG9ydCB7IFRyaWdnZXJCb3hTaGFwZSwgVHJpZ2dlckNvbXBvbmVudCwgVHJpZ2dlckRhdGEsIFRyaWdnZXJTcGhlcmVTaGFwZSB9IGZyb20gXCIuLi90cmlnZ2Vycy90cmlnZ2VyU3lzdGVtXCJcblxuXG4vKipcbiAqIFF1aWNrIGZ1bmN0aW9uIHRvIGFkZCBhIHRyaWdnZXIgYXJlYSB0aGF0IGlzIHJlbW92ZWQgYWZ0ZXIgYmVpbmcgdHJpZ2dlcmVkIG9uY2UuXG4gKiBAcHVibGljXG4gKiBcbiAqIEBwYXJhbSBzaGFwZSAtIHNoYXBlIG9mIHRoZSB0cmlnZ2VyaW5nIGNvbGxpZGVyIGFyZWFcbiAqIEBwYXJhbSBkYXRhIC0gQW4gb2JqZWN0IHdpdGggYWRkaXRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGUgdHJpZ2dlciBjb21wb25lbnRcbiAqIEBwYXJhbSBwYXJlbnQgLSBPcHRpb25hbCBlbnRpdHkgdG8gc2V0IGFzIGEgcGFyZW50IHRvIHRoZSB0cmlnZ2VyIGFyZWEgZW50aXR5LlxuICovXG4gZXhwb3J0IGZ1bmN0aW9uIGFkZE9uZVRpbWVUcmlnZ2VyKFxuXHRzaGFwZTogVHJpZ2dlckJveFNoYXBlIHwgVHJpZ2dlclNwaGVyZVNoYXBlLCBcblx0ZGF0YT86IFRyaWdnZXJEYXRhLFxuXHRwYXJlbnQ/OiBFbnRpdHlcbiAgKTogRW50aXR5IHtcblx0bGV0IGVudGVyZWQgPSBmYWxzZVxuXHRsZXQgZXhpdGVkID0gZmFsc2VcbiAgXG5cdGNvbnN0IHRyaWdnZXIgPSBuZXcgRW50aXR5KClcblx0dHJpZ2dlci5hZGRDb21wb25lbnQobmV3IFRyYW5zZm9ybSh7fSkpXG4gIFxuXHRsZXQgdHJpZ2dlckRhdGE6IFRyaWdnZXJEYXRhID0ge31cblxuXHRpZiAoZGF0YS5sYXllcikgdHJpZ2dlckRhdGEubGF5ZXIgPSBkYXRhLmxheWVyXG4gICAgICBpZiAoZGF0YS50cmlnZ2VyZWRCeUxheWVyKSB0cmlnZ2VyRGF0YS50cmlnZ2VyZWRCeUxheWVyID0gZGF0YS50cmlnZ2VyZWRCeUxheWVyXG4gICAgICBpZiAoZGF0YS5vbkNhbWVyYUVudGVyKSB0cmlnZ2VyRGF0YS5vbkNhbWVyYUVudGVyID0gKCkgPT4ge1xuXHRcdGlmICghZW50ZXJlZCkge1xuXHRcdCAgZW50ZXJlZCA9IHRydWVcblx0XHQgIGRhdGEub25DYW1lcmFFbnRlcigpXG5cdFx0fVxuXHRcdGlmICgoZW50ZXJlZCB8fCAhZGF0YS5vbkNhbWVyYUVudGVyKSAmJiAoZXhpdGVkIHx8ICFkYXRhLm9uQ2FtZXJhRXhpdCkpIHtcblx0XHQgIGVuZ2luZS5yZW1vdmVFbnRpdHkodHJpZ2dlcilcblx0XHR9XG5cdCAgfVxuICAgICAgaWYgKGRhdGEub25DYW1lcmFFeGl0KSB0cmlnZ2VyRGF0YS5vbkNhbWVyYUV4aXQgPSAoKSA9PiB7XG5cdFx0aWYgKCFleGl0ZWQpIHtcblx0XHRcdGV4aXRlZCA9IHRydWVcblx0XHQgIGRhdGEub25DYW1lcmFFeGl0KClcblx0XHR9XG5cdFx0aWYgKChlbnRlcmVkIHx8ICFkYXRhLm9uQ2FtZXJhRW50ZXIpICYmIChleGl0ZWQgfHwgIWRhdGEub25DYW1lcmFFeGl0KSkge1xuXHRcdCAgZW5naW5lLnJlbW92ZUVudGl0eSh0cmlnZ2VyKVxuXHRcdH1cblx0ICB9XG4gICAgICBpZiAoZGF0YS5lbmFibGVEZWJ1ZykgdHJpZ2dlckRhdGEuZW5hYmxlRGVidWcgPSBkYXRhLmVuYWJsZURlYnVnXG5cblxuXHR0cmlnZ2VyLmFkZENvbXBvbmVudChcblx0ICBuZXcgVHJpZ2dlckNvbXBvbmVudChcblx0XHRzaGFwZSxcblx0XHR0cmlnZ2VyRGF0YVxuXHQgIClcblx0KVxuICBcblx0aWYgKHBhcmVudCkge1xuXHQgIHRyaWdnZXIuc2V0UGFyZW50KHBhcmVudClcblx0fVxuXHRlbmdpbmUuYWRkRW50aXR5KHRyaWdnZXIpXG5cblx0cmV0dXJuIHRyaWdnZXJcbiAgfSIsIi8qKlxuICogTWFwcyBhIHZhbHVlIGZyb20gb25lIHJhbmdlIG9mIHZhbHVlcyB0byBpdHMgZXF1aXZhbGVudCwgc2NhbGVkIGluIHByb3BvcnRpb24gdG8gYW5vdGhlciByYW5nZSBvZiB2YWx1ZXMsIHVzaW5nIG1heGltdW0gYW5kIG1pbmltdW0uXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gdmFsdWUgaW5wdXQgbnVtYmVyXG4gKiBAcGFyYW0gbWluMSAtIG1pbjEgTWluaW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2Ugb2YgdGhlIGlucHV0LlxuICogQHBhcmFtIG1heDEgLSBtYXgxIE1heGltdW0gdmFsdWUgaW4gdGhlIHJhbmdlIG9mIHRoZSBpbnB1dC5cbiAqIEBwYXJhbSBtaW4yIC0gbWluMiBNaW5pbXVtIHZhbHVlIGluIHRoZSByYW5nZSBvZiB0aGUgb3V0cHV0LlxuICogQHBhcmFtIG1heDIgLSBtYXgyIE1heGltdW0gdmFsdWUgaW4gdGhlIHJhbmdlIG9mIHRoZSBvdXRwdXQuXG4gKiBAcmV0dXJucyBUaGUgcmVzdWx0aW5nIG1hcHBlZCB2YWx1ZSBiZXR3ZWVuIHRoZSBuZXcgbWluIGFuZCBtYXhcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChcbiAgdmFsdWU6IG51bWJlcixcbiAgbWluMTogbnVtYmVyLFxuICBtYXgxOiBudW1iZXIsXG4gIG1pbjI6IG51bWJlcixcbiAgbWF4MjogbnVtYmVyXG4pIHtcbiAgbGV0IHJhbmdlMSA9IG1heDEgLSBtaW4xXG4gIGxldCByYW5nZTIgPSBtYXgyIC0gbWluMlxuXG4gIHJldHVybiAoKHZhbHVlIC0gbWluMSkgLyByYW5nZTEpICogcmFuZ2UyICsgbWluMlxufVxuXG4vLyBjb25zdHJhaW5cbi8qKlxuICogQ2xhbXBzIGEgdmFsdWUgc28gdGhhdCBpdCBkb2Vzbid0IGV4Y2VlZCBhIG1pbmltdW0gb3IgYSBtYXhpbXVtIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIGlucHV0IG51bWJlclxuICogQHBhcmFtIG1pbiAtIE1pbmltdW0gb3V0cHV0IHZhbHVlLlxuICogQHBhcmFtIG1heCAtIE1heGltdW0gb3V0cHV0IHZhbHVlLlxuICogQHJldHVybnMgVGhlIHJlc3VsdGluZyBtYXBwZWQgdmFsdWUgYmV0d2VlbiB0aGUgbWluIGFuZCBtYXhcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xuICBsZXQgcmVzdWx0ID0gdmFsdWVcblxuICBpZiAodmFsdWUgPiBtYXgpIHtcbiAgICByZXN1bHQgPSBtYXhcbiAgfSBlbHNlIGlmICh2YWx1ZSA8IG1pbikge1xuICAgIHJlc3VsdCA9IG1pblxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiBhbiBlbnRpdHkgdGhhdCBpcyBhIGNoaWxkIG9mIG90aGVyIGVudGl0aWVzLCByZWxhdGl2ZSB0byB0aGUgc2NlbmUgaW5zdGVhZCBvZiByZWxhdGl2ZSB0byB0aGUgcGFyZW50LiBSZXR1cm5zIGEgVmVjdG9yMy5cbiAqXG4gKiBAcGFyYW0gZW50aXR5IC0gRW50aXR5IHRvIGNhbGN1bGF0ZSBwb3NpdGlvblxuICogQHJldHVybnMgVGhlIEVudGl0eSdzIGdsb2JhbCBwb3NpdGlvbiBpbiByZWZlcmVuY2UgdG8gdGhlIHNjZW5lJ3Mgb3JpZ2luXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRpdHlXb3JsZFBvc2l0aW9uKGVudGl0eTogSUVudGl0eSk6IFZlY3RvcjMge1xuICBsZXQgZW50aXR5UG9zaXRpb246IFZlY3RvcjMgPSBlbnRpdHkuaGFzQ29tcG9uZW50KFRyYW5zZm9ybSlcbiAgICA/IGVudGl0eS5nZXRDb21wb25lbnQoVHJhbnNmb3JtKS5wb3NpdGlvbi5jbG9uZSgpXG4gICAgOiBWZWN0b3IzLlplcm8oKVxuICBsZXQgcGFyZW50RW50aXR5ID0gZW50aXR5LmdldFBhcmVudCgpXG5cbiAgaWYgKHBhcmVudEVudGl0eSAhPSBudWxsICYmIHBhcmVudEVudGl0eS51dWlkICE9ICcwJykge1xuICAgIGlmIChwYXJlbnRFbnRpdHkudXVpZCA9PSAnRmlyc3RQZXJzb25DYW1lcmFFbnRpdHlSZWZlcmVuY2UnKSB7XG4gICAgICAvL2xvZygnQVRUQUNIRUQgVE8gQ0FNRVJBJylcbiAgICAgIGxldCBwYXJlbnRSb3RhdGlvbiA9IENhbWVyYS5pbnN0YW5jZS5yb3RhdGlvbi5jbG9uZSgpXG4gICAgICByZXR1cm4gQ2FtZXJhLmluc3RhbmNlLnBvc2l0aW9uXG4gICAgICAgIC5jbG9uZSgpXG4gICAgICAgIC5hZGQoZW50aXR5UG9zaXRpb24ucm90YXRlKHBhcmVudFJvdGF0aW9uKSlcbiAgICB9IGVsc2UgaWYgKHBhcmVudEVudGl0eS51dWlkID09ICdBdmF0YXJFbnRpdHlSZWZlcmVuY2UnKSB7XG4gICAgICAvL2xvZygnQVRUQUNIRUQgVE8gQVZBVEFSJylcbiAgICAgIGxldCBjYW1Sb3RhdGlvbiA9IENhbWVyYS5pbnN0YW5jZS5yb3RhdGlvblxuICAgICAgbGV0IHBhcmVudFJvdGF0aW9uID0gUXVhdGVybmlvbi5FdWxlcigwLCBjYW1Sb3RhdGlvbi5ldWxlckFuZ2xlcy55LCAwKVxuICAgICAgLy9sb2coQ2FtZXJhLmluc3RhbmNlLnJvdGF0aW9uLmV1bGVyQW5nbGVzLnkpXG4gICAgICByZXR1cm4gQ2FtZXJhLmluc3RhbmNlLnBvc2l0aW9uXG4gICAgICAgIC5jbG9uZSgpXG4gICAgICAgIC5hZGQoZW50aXR5UG9zaXRpb24ucm90YXRlKHBhcmVudFJvdGF0aW9uKSlcbiAgICAgICAgLmFkZChuZXcgVmVjdG9yMygwLCAtMC44NzUsIDApKVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcGFyZW50Um90YXRpb24gPSBwYXJlbnRFbnRpdHkuaGFzQ29tcG9uZW50KFRyYW5zZm9ybSlcbiAgICAgICAgPyBwYXJlbnRFbnRpdHkuZ2V0Q29tcG9uZW50KFRyYW5zZm9ybSkucm90YXRpb25cbiAgICAgICAgOiBRdWF0ZXJuaW9uLklkZW50aXR5XG4gICAgICByZXR1cm4gZ2V0RW50aXR5V29ybGRQb3NpdGlvbihwYXJlbnRFbnRpdHkpLmFkZChcbiAgICAgICAgZW50aXR5UG9zaXRpb24ucm90YXRlKHBhcmVudFJvdGF0aW9uKVxuICAgICAgKVxuICAgIH1cbiAgfVxuICByZXR1cm4gZW50aXR5UG9zaXRpb25cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiBhbiBlbnRpdHkgdGhhdCBpcyBhIGNoaWxkIG9mIG90aGVyIGVudGl0aWVzLCByZWxhdGl2ZSB0byB0aGUgc2NlbmUgaW5zdGVhZCBvZiByZWxhdGl2ZSB0byB0aGUgcGFyZW50LiBSZXR1cm5zIGEgVmVjdG9yMy5cbiAqXG4gKiBAcGFyYW0gZW50aXR5IC0gRW50aXR5IHRvIGNhbGN1bGF0ZSBwb3NpdGlvblxuICogQHJldHVybnMgVGhlIEVudGl0eSdzIGdsb2JhbCByb3RhdGlvbiBpbiByZWZlcmVuY2UgdG8gdGhlIHNjZW5lJ3Mgb3JpZ2luXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRpdHlXb3JsZFJvdGF0aW9uKGVudGl0eTogSUVudGl0eSk6IFF1YXRlcm5pb24ge1xuICBsZXQgZW50aXR5Um90YXRpb246IFF1YXRlcm5pb24gPSBlbnRpdHkuaGFzQ29tcG9uZW50KFRyYW5zZm9ybSlcbiAgICA/IGVudGl0eS5nZXRDb21wb25lbnQoVHJhbnNmb3JtKS5yb3RhdGlvbi5jbG9uZSgpXG4gICAgOiBRdWF0ZXJuaW9uLlplcm8oKVxuXHQvLyBsb2coXCJHT1QgQSBST1RBVElPTiBWQUxVRTogXCIsIGVudGl0eVJvdGF0aW9uLmV1bGVyQW5nbGVzKVxuICBsZXQgcGFyZW50RW50aXR5ID0gZW50aXR5LmdldFBhcmVudCgpXG4gIC8vICAgbG9nKFwiUEFSRU5UIEVOVElUWTogXCIsIHBhcmVudEVudGl0eS51dWlkKVxuICBpZiAocGFyZW50RW50aXR5ICE9IG51bGwgJiYgcGFyZW50RW50aXR5LnV1aWQgIT0gJzAnKSB7XG4gICAgaWYgKHBhcmVudEVudGl0eS51dWlkID09ICdGaXJzdFBlcnNvbkNhbWVyYUVudGl0eVJlZmVyZW5jZScpIHtcbiAgICAgIC8vbG9nKCdBVFRBQ0hFRCBUTyBDQU1FUkEnKVxuICAgICAgbGV0IHBhcmVudFJvdGF0aW9uID0gQ2FtZXJhLmluc3RhbmNlLnJvdGF0aW9uLmNsb25lKClcbiAgICAgIHJldHVybiBlbnRpdHlSb3RhdGlvbi5tdWx0aXBseShwYXJlbnRSb3RhdGlvbilcbiAgICB9IGVsc2UgaWYgKHBhcmVudEVudGl0eS51dWlkID09ICdBdmF0YXJFbnRpdHlSZWZlcmVuY2UnKSB7XG4gICAgICAvL2xvZygnQVRUQUNIRUQgVE8gQVZBVEFSJylcbiAgICAgIGxldCBwYXJlbnRSb3RhdGlvbiA9IFF1YXRlcm5pb24uRXVsZXIoXG4gICAgICAgIDAsXG4gICAgICAgIENhbWVyYS5pbnN0YW5jZS5yb3RhdGlvbi5ldWxlckFuZ2xlcy55LFxuICAgICAgICAwXG4gICAgICApXG4gICAgICByZXR1cm4gZW50aXR5Um90YXRpb24ubXVsdGlwbHkocGFyZW50Um90YXRpb24pXG4gICAgfSBlbHNlIHtcblx0ICBsZXQgcGFyZW50Um90YXRpb24gPSBnZXRFbnRpdHlXb3JsZFJvdGF0aW9uKHBhcmVudEVudGl0eSlcbiAgICAgIHJldHVybiBlbnRpdHlSb3RhdGlvbi5tdWx0aXBseShwYXJlbnRSb3RhdGlvbilcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVudGl0eVJvdGF0aW9uXG59XG4iLCIvKipcbiAqIFF1aWNrIGZ1bmN0aW9uIHRvIHNlbmQgSFRUUCByZXF1ZXN0cyB0byBhbiBleHRlcm5hbCBhZGRyZXNzXG4gKlxuICogQHBhcmFtIHVybCAtIFVSTCB0byBzZW5kIHJlcXVlc3QgdG9cbiAqIEBwYXJhbSBtZXRob2QgLSBIVFRQIG1ldGhvZCAoR0VUIGJ5IGRlZmF1bHQpXG4gKiBAcGFyYW0gaGVhZGVycyAtIEhlYWRlcnMgdG8gYWRkIHRvIHJlcXVlc3QsIGFzIGEgSlNPTiB3aXRoIGtleS92YWx1ZSBwYWlycyBwZXIgZWFjaCBoZWFkZXJcbiAqIEBwYXJhbSBib2R5IC0gQm9keSB0byBhZGQgdG8gcmVxdWVzdCwgYXMgYSBKU09OIG9iamVjdFxuICogQHJldHVybnMgVGhlIHJlc3BvbnNlIG9mIHRoZSByZXF1ZXN0LiBJZiB0aGUgcmVzcG9uc2UgaXMgYSBKU09OIG9iamVjdCwgaXQgd2lsbCBiZSBwYXJzZWQuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kUmVxdWVzdChcbiAgdXJsOiBzdHJpbmcsXG4gIG1ldGhvZD86IHN0cmluZyxcbiAgaGVhZGVycz86IGFueSxcbiAgYm9keT86IGFueVxuKSB7XG4gIHRyeSB7XG4gICAgbGV0IHByb3BzT2JqZWN0OiByZXF1ZXN0RGF0YSA9IHtcbiAgICAgIG1ldGhvZDogbWV0aG9kID8gbWV0aG9kIDogJ0dFVCdcbiAgICB9XG5cbiAgICBpZiAoaGVhZGVycykge1xuICAgICAgcHJvcHNPYmplY3QuaGVhZGVycyA9IGhlYWRlcnNcbiAgICB9XG5cbiAgICBpZiAoYm9keSkge1xuICAgICAgcHJvcHNPYmplY3QuYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgfVxuXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCBwcm9wc09iamVjdClcbiAgICB0cnkge1xuICAgICAgbGV0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICAgIHJldHVybiBqc29uXG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gcmVzcG9uc2VcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgbG9nKCdlcnJvciBmZXRjaGluZyBmcm9tICcsIHVybCwgJyA6ICcsIGVycm9yKVxuICB9XG59XG5cbi8qKlxuICogRGF0YSB0byBjb25zdHJ1Y3QgYW4gSFRUUCBSZXF1ZXN0XG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gcmVxdWVzdERhdGFcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgcmVxdWVzdERhdGEgPSB7XG4gIC8qKlxuICAgKiBUaGUgSFRUUCBtZXRob2QgKEdFVCwgUE9TVCwgREVMRVRFLCBQVVQsIGV0YylcbiAgICovXG4gIG1ldGhvZDogc3RyaW5nXG4gIC8qKlxuICAgKiBBbiBvYmplY3Qgd2l0aCBvcHRpb25hbCBoZWFkZXJzIHRvIHNlbmQgd2l0aCB0aGUgcmVxdWVzdFxuICAgKi9cbiAgaGVhZGVycz86IGFueVxuICAvKipcbiAgICogQSBzdHJpbmdpZmllZCBKU09OIHRvIHVzZSBhcyBhIGJvZHkgb24gYSByZXF1ZXN0XG4gICAqL1xuICBib2R5Pzogc3RyaW5nXG59XG4iLCJpbXBvcnQgeyBEZWxheSB9IGZyb20gXCIuLi90aW1lci9jb21wb25lbnQvZGVsYXlcIlxuXG5cbi8qKlxuICogUXVpY2sgZnVuY3Rpb24gdG8gZGVsYXkgdGhlIGV4ZWN1dGlvbiBvZiBhIGxhbWJkYSBhZnRlciBhIGdpdmVuIGFtb3VudCBvZiB0aW1lLlxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSBtcyAtIFRpbWUgaW0gbWlsbGlzZWNvbmRzIHRvIGRlbGF5IHRoZSBmdW5jdGlvblxuICogQHBhcmFtIGNhbGxiYWNrIC0gRnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGVuIHRoZSB0aW1lIGlzIHVwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUaW1lb3V0KG1zOiBudW1iZXIsIGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogRW50aXR5IHtcblx0Y29uc3QgZW50aXR5ID0gbmV3IEVudGl0eSgpXG5cdGVudGl0eS5hZGRDb21wb25lbnQoXG5cdCAgbmV3IERlbGF5KG1zLCAoKSA9PiB7XG5cdFx0Y2FsbGJhY2soKVxuXHRcdGVuZ2luZS5yZW1vdmVFbnRpdHkoZW50aXR5KVxuXHQgIH0pXG5cdClcblx0ZW5naW5lLmFkZEVudGl0eShlbnRpdHkpXG5cblx0cmV0dXJuIGVudGl0eVxuICB9Il0sIm5hbWVzIjpbIkludGVycG9sYXRpb25UeXBlIiwidGhpcyIsIlRyYW5zZm9ybVN5c3RlbSIsIl9pbnN0YW5jZSIsImVuZ2luZSIsImFkZFN5c3RlbSIsImNvbXBvbmVudCIsImNyZWF0ZUFuZEFkZFRvRW5naW5lIiwiX2NvbXBvbmVudHMiLCJwdXNoIiwiX2IiLCJfX3ZhbHVlcyIsIl9jb21wb25lbnRHcm91cHMiLCJnZXRDb21wb25lbnRHcm91cCIsIlRyYW5zZm9ybSIsImR0IiwiaSIsImxlbmd0aCIsInVwZGF0ZUNvbXBvbmVudCIsImdyb3VwIiwiZW50aXRpZXMiLCJmb3JFYWNoIiwiZW50aXR5IiwidHJhbnNmb3JtIiwiZ2V0Q29tcG9uZW50IiwiY29tcCIsInVwZGF0ZSIsImFzc2lnblZhbHVlVG9UcmFuc2Zvcm0iLCJoYXNGaW5pc2hlZCIsInJlbW92ZUNvbXBvbmVudCIsIm9uRmluaXNoQ2FsbGJhY2siLCJJbnRlcnBvbGF0ZSIsInR5cGUiLCJ0IiwiTElORUFSIiwiRUFTRUlOUVVBRCIsIkludGVycG9sYXRlRWFzZUluUXVhZCIsIkVBU0VPVVRRVUFEIiwiSW50ZXJwb2xhdGVFYXNlT3V0UXVhZCIsIkVBU0VRVUFEIiwiSW50ZXJwb2xhdGVFYXNlUXVhZCIsIkVBU0VJTlNJTkUiLCJNYXRoIiwiY29zIiwiUEkiLCJJbnRlcnBvbGF0ZUVhc2VJblNpbmUiLCJFQVNFT1VUU0lORSIsInNpbiIsIkludGVycG9sYXRlRWFzZU91dFNpbmUiLCJFQVNFU0lORSIsIkludGVycG9sYXRlRWFzZUluT3V0U2luZSIsIkVBU0VJTkVYUE8iLCJwb3ciLCJJbnRlcnBvbGF0ZUVhc2VJbkV4cG8iLCJFQVNFT1VURVhQTyIsIkludGVycG9sYXRlRWFzZU91dEV4cG8iLCJFQVNFRVhQTyIsIkludGVycG9sYXRlRWFzZUluT3V0RXhwbyIsIkVBU0VJTkVMQVNUSUMiLCJjNCIsIkludGVycG9sYXRlRWFzZUluRWxhc3RpYyIsIkVBU0VPVVRFTEFTVElDIiwiYzUiLCJJbnRlcnBvbGF0ZUVhc2VPdXRFbGFzdGljIiwiRUFTRUVMQVNUSUMiLCJjNiIsIkludGVycG9sYXRlRWFzZUluT3V0RWxhc3RpYyIsIkVBU0VJTkJPVU5DRSIsImJvdW5jZSIsIkludGVycG9sYXRlRWFzZUluQm91bmNlIiwiRUFTRU9VVEVCT1VOQ0UiLCJJbnRlcnBvbGF0ZUVhc2VPdXRCb3VuY2UiLCJFQVNFQk9VTkNFIiwiSW50ZXJwb2xhdGVFYXNlSW5PdXRCb3VuY2UiLCJ4IiwibjEiLCJkMSIsIlRvZ2dsZVN0YXRlIiwic3RhcnQiLCJlbmQiLCJkdXJhdGlvbiIsImludGVycG9sYXRpb25UeXBlIiwibm9ybWFsaXplZFRpbWUiLCJsZXJwVGltZSIsInNwZWVkIiwiYWRkQ29tcG9uZW50VHlwZSIsIk1vdmVUcmFuc2Zvcm1Db21wb25lbnRfMSIsIk1vdmVUcmFuc2Zvcm1Db21wb25lbnQiLCJTY2FsYXIiLCJDbGFtcCIsInBvc2l0aW9uIiwiVmVjdG9yMyIsIkxlcnAiLCJDb21wb25lbnQiLCJSb3RhdGVUcmFuc2Zvcm1Db21wb25lbnRfMSIsIlJvdGF0ZVRyYW5zZm9ybUNvbXBvbmVudCIsInJvdGF0aW9uIiwiUXVhdGVybmlvbiIsIlNsZXJwIiwiU2NhbGVUcmFuc2Zvcm1Db21wb25lbnRfMSIsIlNjYWxlVHJhbnNmb3JtQ29tcG9uZW50Iiwic2NhbGUiLCJwb2ludHMiLCJvblBvaW50UmVhY2hlZENhbGxiYWNrIiwiY3VycmVudEluZGV4IiwiRXJyb3IiLCJ0b3RhbERpc3QiLCJwb2ludHNEaXN0Iiwic3FEaXN0IiwiRGlzdGFuY2UiLCJGb2xsb3dQYXRoQ29tcG9uZW50XzEiLCJGb2xsb3dQYXRoQ29tcG9uZW50IiwibnVtYmVyT2ZTZWdtZW50cyIsInR1cm5Ub0ZhY2VOZXh0IiwiY2xvc2VkQ2lyY2xlIiwiQ3VydmUzIiwiQ3JlYXRlQ2F0bXVsbFJvbVNwbGluZSIsImdldFBvaW50cyIsIkZvbGxvd0N1cnZlZFBhdGhDb21wb25lbnRfMSIsIkZvbGxvd0N1cnZlZFBhdGhDb21wb25lbnQiLCJmYWNpbmdOZXh0IiwibG9va0F0Iiwicm90YXRpb25WZWxvY2l0eSIsIklkZW50aXR5IiwiZmluaXNoZWQiLCJLZWVwUm90YXRpbmdDb21wb25lbnRfMSIsIktlZXBSb3RhdGluZ0NvbXBvbmVudCIsIm11bHRpcGx5Iiwic3RhcnRpbmdTdGF0ZSIsIm9uVmFsdWVDaGFuZ2VkQ2FsbGJhY2siLCJPbiIsIk9mZiIsInNldCIsInNldENhbGxiYWNrIiwiVG9nZ2xlQ29tcG9uZW50Iiwic3RhdGUiLCJlbmFibGVkIiwiVGltZXJTeXN0ZW0iLCJfdGhpcyIsInJlY29yZCIsImdldEVudGl0aWVzV2l0aENvbXBvbmVudCIsImtleSIsImhhc093blByb3BlcnR5IiwidGltZXJDb21wb25lbnQiLCJlbGFwc2VkVGltZSIsInRhcmdldFRpbWUiLCJvblRhcmdldFRpbWVSZWFjaGVkIiwibWlsbGlzZWNzIiwib25UaW1lUmVhY2hlZENhbGxiYWNrIiwiRGVsYXlfMSIsIkRlbGF5IiwiRXhwaXJlSW5fMSIsInJlbW92ZUVudGl0eSIsIkV4cGlyZUluIiwiSW50ZXJ2YWxfMSIsIkludGVydmFsIiwiYWRkTGFiZWwiLCJ0ZXh0IiwicGFyZW50IiwiYmlsbGJvYXJkIiwiY29sb3IiLCJzaXplIiwidGV4dE9mZnNldCIsImxhYmVsIiwiRW50aXR5IiwiYWRkQ29tcG9uZW50Iiwic2V0UGFyZW50IiwidGV4dFNoYXBlIiwiVGV4dFNoYXBlIiwiZm9udFNpemUiLCJDb2xvcjMiLCJCbGFjayIsIkJpbGxib2FyZCIsImFkZEVudGl0eSIsIkFjdGlvbnNTZXF1ZW5jZVN5c3RlbSIsIlRyaWdnZXJTeXN0ZW0iLCJfY2FtZXJhVHJpZ2dlcldyYXBwZXIiLCJDYW1lcmFUcmlnZ2VyIiwiVHJpZ2dlckJveFNoYXBlIiwiX2NvbXBvbmVudEdyb3VwIiwiVHJpZ2dlckNvbXBvbmVudCIsIk9iamVjdCIsInNoYXBlIiwic2V0U2hhcGUiLCJlbnRpdGllc1dpdGhUcmlnZ2VycyIsInNob3VsZFdyYXBUcmlnZ2VyRW50aXR5Iiwid3JhcFRyaWdnZXJFbnRpdHkiLCJfdHJpZ2dlcnMiLCJ3cmFwcGVyIiwiaXNEZWJ1Z2dpbmciLCJ1cGRhdGVEZWJ1Z0VudGl0eSIsImlzSW5FbmdpbmUiLCJ0cmlnZ2VyIiwid2FzRW5hYmxlZCIsImFkZERlYnVnRW50aXR5Iiwib25DYW1lcmFFbnRlciIsIm9uQ2FtZXJhRXhpdCIsImNoZWNrQ29sbGlzaW9uQWdhaW5zdENhbWVyYSIsIm9uVHJpZ2dlckVudGVyIiwib25UcmlnZ2VyRXhpdCIsImNoZWNrQ29sbGlzaW9uQWdhaW5zdE90aGVyVHJpZ2dlcnMiLCJyZW1vdmVEZWJ1Z0VudGl0eSIsInJlbW92ZVRyaWdnZXJGcm9tU3lzdGVtIiwidW5kZWZpbmVkIiwidXVpZCIsIlRyaWdnZXJXcmFwcGVyIiwiYWN0aXZlQ29sbGlzaW9ucyIsImdldEFjdGl2ZUNvbGxpc2lvbnMiLCJkaXNlbmdhZ2VBY3RpdmVDb2xsaXNpb24iLCJ0MSIsInQyIiwiZW5nYWdlQ29sbGlzaW9uIiwid2VyZUNvbGxpZGluZyIsImhhc0FjdGl2ZUNvbGxpc2lvbiIsImFyZUNvbGxpZGluZyIsImNhblRyaWdnZXJzQ29sbGlkZSIsImRpc2VuZ2FnZUNvbGxpc2lvbiIsInRyaWdnZXJlZEJ5TGF5ZXIiLCJsYXllciIsImdldFNoYXBlIiwiYXJlQ29sbGlkaW5nQUFCQiIsImdldEdsb2JhbFBvc2l0aW9uIiwiVHJpZ2dlclNwaGVyZVNoYXBlIiwiYXJlQ29sbGlkaW5nU3BoZXJlIiwiYXJlQ29sbGlkaW5nQUFCQlNwaGVyZSIsInQxR2xvYmFsUG9zaXRpb24iLCJ0MVNoYXBlIiwidDJHbG9iYWxQb3NpdGlvbiIsInQyU2hhcGUiLCJnZXRCb3hTaGFwZVZhbHVlcyIsIm1pbiIsIm1heCIsInkiLCJ6IiwiRGlzdGFuY2VTcXVhcmVkIiwiYWRkIiwicmFkaXVzIiwiYm94Iiwic3BoZXJlIiwiZG1pbiIsImVudGl0eUdsb2JhbFBvc2l0aW9uIiwiY2VudGVyIiwic3VidHJhY3QiLCJfZW50aXR5IiwiX3RyaWdnZXIiLCJfdXVpZCIsIl9pc0RlYnVnIiwiZGVidWdFbmFibGVkIiwiZ2V0RW50aXR5V29ybGRQb3NpdGlvbiIsIlplcm8iLCJpc0FkZGVkVG9FbmdpbmUiLCJyZXQiLCJfY29sbGlkaW5nV2l0aCIsIm90aGVyIiwiaXNQcmV2aWV3TW9kZSIsIl9hIiwiX2RlYnVnTWF0ZXJpYWwiLCJNYXRlcmlhbCIsImFscGhhVGVzdCIsIl9kZWJ1Z0VudGl0eSIsIkJveFNoYXBlIiwid2l0aENvbGxpc2lvbnMiLCJTcGhlcmVTaGFwZSIsInJhZCIsImVudGl0eVBvc2l0aW9uIiwiaGFzQ29tcG9uZW50IiwiY2xvbmUiLCJwYXJlbnRFbnRpdHkiLCJnZXRQYXJlbnQiLCJwYXJlbnRSb3RhdGlvbiIsInJvdGF0ZSIsIl9zdXBlciIsIl9zaGFwZSIsIl9fZXh0ZW5kcyIsIkNhbWVyYSIsImluc3RhbmNlIiwiZGF0YSIsImVuYWJsZURlYnVnIiwiX2RlYnVnRW5hYmxlZCIsIk9uZSIsInNlcXVlbmNlQnVpbHQiLCJzdGFydFNlcXVlbmNlIiwiYmVnaW5TZXF1ZW5jZU5vZGUiLCJjdXJyZW50U2VxdWVuY2VOb2RlIiwicnVubmluZyIsInN0YXJ0ZWQiLCJjdXJyZW50Tm9kZSIsIlN1YlNlcXVlbmNlTm9kZSIsImN1cnJlbnRJbm5lclNlcXVlbmNlIiwiYWN0aW9uIiwiaGFzRmluaXNoIiwib25GaW5pc2giLCJuZXh0Iiwib25TdGFydCIsIlNlcXVlbmNlQnVpbGRlciIsIlNlcXVlbmNlTm9kZSIsInRoZW4iLCJjb25kaXRpb24iLCJpZlNlcSIsIklmU2VxdWVuY2VOb2RlIiwic2VxIiwiZ2V0U2VxdWVuY2UiLCJjbG9zZWQiLCJlbHNlU2VxIiwiRWxzZVNlcXVlbmNlTm9kZSIsIndoaWxlU2VxIiwiV2hpbGVTZXF1ZW5jZU5vZGUiLCJ3aGlsZU5vZGVTdGFjayIsInNwbGljZSIsIkJyZWFrV2hpbGVTZXF1ZW5jZU5vZGUiLCJzdGFydGluZ0lubmVyU2VxdWVuY2UiLCJpbm5lclNlcSIsInJlc3VsdCIsImlmU2VxdWVuY2UiLCJicmVha1doaWxlIiwid2hpbGVOb2RlIiwiZW50ZXJlZCIsImV4aXRlZCIsInRyaWdnZXJEYXRhIiwicG9zIiwidHJpZ2dlcmVkRnVuY3Rpb24iLCJub0NvbGxpZGVyIiwia2VlcEluUHJvZHVjdGlvbiIsImN1YmUiLCJzZXRBbGwiLCJPblBvaW50ZXJEb3duIiwiaG92ZXJUZXh0IiwiYnV0dG9uIiwiQWN0aW9uQnV0dG9uIiwiUE9JTlRFUiIsImN1YmVNYXRlcmlhbCIsImFsYmVkb0NvbG9yIiwidmFsdWUiLCJjYW1Sb3RhdGlvbiIsIkV1bGVyIiwiZXVsZXJBbmdsZXMiLCJnZXRFbnRpdHlXb3JsZFJvdGF0aW9uIiwiZW50aXR5Um90YXRpb24iLCJtaW4xIiwibWF4MSIsIm1pbjIiLCJtYXgyIiwidXJsIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJwcm9wc09iamVjdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmZXRjaCIsInJlc3BvbnNlIiwianNvbiIsImxvZyIsImVycm9yXzEiLCJtcyIsImNhbGxiYWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs4MUVBR1lBLGVDa0NWLGFBN0JRQyxpQkFBMkQsR0FDM0RBLHNCQUFxQyxHQTZCM0NDLEVBQWdCQyxVQUFZRixLQTBCaEMsT0FyRFNDLHVCQUFQLFdBS0UsT0FKc0IsTUFBbEJELEtBQUtFLFlBQ1BGLEtBQUtFLFVBQVksSUFBSUQsRUFDckJFLE9BQU9DLFVBQVVKLEtBQUtFLFlBRWpCRixLQUFLRSxXQUdQRCwwQkFBUCxTQUNFSSxHQUVBTCxLQUFLTSx1QkFBdUJDLFlBQVlDLEtBQUtILElBR3hDSiw2QkFBUCxTQUNFSSxlQUVBLElBQWlCLElBQUFJLEVBQUFDLEVBQUFWLEtBQUtPLDJDQUFhLENBQ2pDLEdBQUlGLFdBQ0YseUdBR0pMLEtBQUtPLFlBQVlDLEtBQUtILEdBQ3RCTCxLQUFLVyxpQkFBaUJILEtBQUtMLE9BQU9TLGtCQUFrQlAsRUFBV1EsYUFPakVaLG1CQUFBLFNBQU9hLEdBQ0wsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlmLEtBQUtPLFlBQVlTLE9BQVFELElBQzNDZixLQUFLaUIsZ0JBQWdCSCxFQUFJZCxLQUFLTyxZQUFZUSxHQUFJZixLQUFLVyxpQkFBaUJJLEtBSWhFZCw0QkFBUixTQUNFYSxFQUNBVCxFQUNBYSxHQUVBQSxFQUFNQyxTQUFTQyxTQUFRLFNBQUFDLEdBQ3JCLElBQU1DLEVBQVlELEVBQU9FLGFBQWFWLFdBQ2hDVyxFQUFPSCxFQUFPRSxhQUFhbEIsR0FFakNtQixFQUFLQyxPQUFPWCxHQUNaVSxFQUFLRSx1QkFBdUJKLEdBQ3hCRSxFQUFLRyxnQkFDUE4sRUFBT08sZ0JBQWdCSixHQUNNLE1BQXpCQSxFQUFLSyxr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\n",
    "sha256": "e1b6bea5ee8233239ce1634d81b71ea24cfcc8771cf66b1310bd79195a437778"
  },
  {
    "path": "node_modules/@dcl/npc-scene-utils/dist/index.js",
    "content": "!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define(\"@dcl/npc-scene-utils\",[\"exports\"],e):e((t=\"undefined\"!=typeof globalThis?globalThis:t||self)[\"@dcl/npc-scene-utils\"]={})}(this,(function(t){\"use strict\";\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,i)};function i(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}function o(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}function n(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}var s=function(){function t(t,e,i){this.lockXZRotation=!1,this.active=!1,r||(r=!0,engine.addSystem(new h)),this.lockXZRotation=t||!1,this.rotSpeed=e||2,i&&(this.active=!0)}return t=o([Component(\"trackUserFlag\")],t)}(),r=!1,a=Camera.instance;var h=function(){function t(){this.followingNPCs=engine.getComponentGroup(s)}return t.prototype.update=function(t){var e,i;try{for(var o=n(this.followingNPCs.entities),r=o.next();!r.done;r=o.next()){var h=r.value,u=h.getComponent(Transform),l=h.getComponent(s);if(l.active){var c=new Vector3(a.position.x,a.position.y,a.position.z).subtract(u.position);u.rotation=Quaternion.Slerp(u.rotation,Quaternion.LookRotation(c),t*l.rotSpeed),l.lockXZRotation&&(u.rotation.x=0,u.rotation.z=0)}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}},t}(),u=new UICanvas;u.visible=!0;var l,c,g,p=new Font(Fonts.SanFrancisco),d=new Font(Fonts.SanFrancisco_Heavy),f=new Texture(\"https://decentraland.org/images/ui/light-atlas-v3.png\"),m=new Texture(\"https://decentraland.org/images/ui/dark-atlas-v3.png\"),b=new Texture(\"https://decentraland.org/images/ui/dialog-bubbles.png\");function T(t,e,i,o){void 0===i&&(i=512),void 0===o&&(o=512),function(t,e,i,o,n){t.uvs=[e.x,e.y,i.x,i.y,o.x,o.y,n.x,n.y,e.x,e.y,i.x,i.y,o.x,o.y,n.x,n.y]}(t,new Vector2(e.sourceLeft/i,(o-e.sourceTop-e.sourceHeight)/o),new Vector2((e.sourceLeft+e.sourceWidth)/i,(o-e.sourceTop-e.sourceHeight)/o),new Vector2((e.sourceLeft+e.sourceWidth)/i,(o-e.sourceTop)/o),new Vector2(e.sourceLeft/i,(o-e.sourceTop)/o))}function C(t,e){t.sourceWidth=e.sourceWidth,t.sourceHeight=e.sourceHeight,t.sourceLeft=e.sourceLeft?e.sourceLeft:0,t.sourceTop=e.sourceTop?e.sourceTop:0}function y(t){var e=-10-4*t;return e>-65?e:-65}(l=t.ButtonStyles||(t.ButtonStyles={})).E=\"e\",l.F=\"f\",l.DARK=\"dark\",l.RED=\"red\",l.ROUNDBLACK=\"roundblack\",l.ROUNDWHITE=\"roundwhite\",l.ROUNDSILVER=\"roundsilver\",l.ROUNDGOLD=\"roundgold\",l.SQUAREBLACK=\"squareblack\",l.SQUAREWHITE=\"squarewhite\",l.SQUARESILVER=\"squaresilver\",l.SQUAREGOLD=\"squaregold\",l.WHITE=\"white\",(c=t.NPCState||(t.NPCState={})).STANDING=\"standing\",c.TALKING=\"talking\",c.FOLLOWPATH=\"followPath\",(g=t.NPCLerpType||(t.NPCLerpType={})).SMOOTH_PATH=\"smooth\",g.RIGID_PATH=\"rigid\";var x,v={buttons:{buttonE:{sourceWidth:174,sourceHeight:46,sourceLeft:512,sourceTop:662},buttonF:{sourceWidth:174,sourceHeight:46,sourceLeft:512,sourceTop:612},white:{sourceWidth:174,sourceHeight:46,sourceLeft:698,sourceTop:662},buttonRed:{sourceWidth:174,sourceHeight:46,sourceLeft:512,sourceTop:662},buttonDark:{sourceWidth:174,sourceHeight:46,sourceLeft:512,sourceTop:612},roundBlack:{sourceWidth:128,sourceHeight:32,sourceLeft:512,sourceTop:458},squareBlack:{sourceWidth:128,sourceHeight:32,sourceLeft:646,sourceTop:457},roundWhite:{sourceWidth:128,sourceHeight:32,sourceLeft:512,sourceTop:494},squareWhite:{sourceWidth:128,sourceHeight:32,sourceLeft:646,sourceTop:493},roundSilver:{sourceWidth:128,sourceHeight:32,sourceLeft:512,sourceTop:531},squareSilver:{sourceWidth:128,sourceHeight:32,sourceLeft:646,sourceTop:531},roundGold:{sourceWidth:128,sourceHeight:32,sourceLeft:512,sourceTop:567},squareGold:{sourceWidth:128,sourceHeight:32,sourceLeft:646,sourceTop:567}},buttonLabels:{E:{sourceWidth:26,sourceHeight:26,sourceLeft:697,sourceTop:611},F:{sourceWidth:26,sourceHeight:26,sourceLeft:733,sourceTop:611},EBlack:{sourceWidth:26,sourceHeight:26,sourceLeft:766,sourceTop:611},FBlack:{sourceWidth:26,sourceHeight:26,sourceLeft:802,sourceTop:611}},backgrounds:{promptBackground:{sourceWidth:416,sourceHeight:352,sourceLeft:501,sourceTop:12},promptLargeBackground:{sourceWidth:480,sourceHeight:384,sourceLeft:7,sourceTop:12},promptSlantedBackground:{sourceWidth:486,sourceHeight:326,sourceLeft:7,sourceTop:413},NPCDialog:{sourceWidth:766,sourceHeight:248,sourceLeft:22,sourceTop:756}},icons:{closeW:{sourceWidth:32,sourceHeight:32,sourceLeft:942,sourceTop:306},closeD:{sourceWidth:32,sourceHeight:32,sourceLeft:986,sourceTop:306},closeWLarge:{sourceWidth:64,sourceHeight:64,sourceLeft:512,sourceTop:381},closeDLarge:{sourceWidth:64,sourceHeight:64,sourceLeft:583,sourceTop:381},closeWNoBack:{sourceWidth:24,sourceHeight:24,sourceLeft:946,sourceTop:252},closeDNoBack:{sourceWidth:24,sourceHeight:24,sourceLeft:946,sourceTop:214},closeWNoBackLarge:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:214},closeDNoBackLarge:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:260},FDark:{sourceWidth:32,sourceHeight:32,sourceLeft:950,sourceTop:4},FWhite:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:4},EDark:{sourceWidth:32,sourceHeight:32,sourceLeft:950,sourceTop:40},EWhite:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:40},Timer:{sourceWidth:24,sourceHeight:32.2,sourceLeft:718,sourceTop:388},TimerLarge:{sourceWidth:48,sourceHeight:68,sourceLeft:662,sourceTop:386},ClickWhite:{sourceWidth:32,sourceHeight:48,sourceLeft:799,sourceTop:389},ClickDark:{sourceWidth:32,sourceHeight:48,sourceLeft:757,sourceTop:389}},checkboxes:{wOff:{sourceWidth:24,sourceHeight:24,sourceLeft:987,sourceTop:76},wOn:{sourceWidth:24,sourceHeight:24,sourceLeft:987,sourceTop:104},dOff:{sourceWidth:24,sourceHeight:24,sourceLeft:958,sourceTop:76},dOn:{sourceWidth:24,sourceHeight:24,sourceLeft:958,sourceTop:104},wLargeOff:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:132},wLargeOn:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:168},dLargeOff:{sourceWidth:32,sourceHeight:32,sourceLeft:950,sourceTop:132},dLargeOn:{sourceWidth:32,sourceHeight:32,sourceLeft:950,sourceTop:168}},switches:{roundOff:{sourceWidth:64,sourceHeight:32,sourceLeft:783,sourceTop:454},roundRed:{sourceWidth:64,sourceHeight:32,sourceLeft:853,sourceTop:454},roundGreen:{sourceWidth:64,sourceHeight:32,sourceLeft:923,sourceTop:454},squareOff:{sourceWidth:64,sourceHeight:32,sourceLeft:783,sourceTop:501},squareRed:{sourceWidth:64,sourceHeight:32,sourceLeft:852,sourceTop:501},squareGreen:{sourceWidth:64,sourceHeight:32,sourceLeft:921,sourceTop:501}},bubbles:{short:{sourceWidth:232,sourceHeight:168,sourceLeft:610,sourceTop:834},normal:{sourceWidth:572,sourceHeight:168,sourceLeft:16,sourceTop:834},long:{sourceWidth:994,sourceHeight:306,sourceLeft:12,sourceTop:508},huge:{sourceWidth:994,sourceHeight:478,sourceLeft:12,sourceTop:14}}},w=function(){function t(t,i){var o=this;A.createAndAddToEngine(),this.elapsedTime=0,this.targetTime=t,this.onTimeReachedCallback=i,this.onTargetTimeReached=function(t){o.onTimeReachedCallback(),t.removeComponent(e)}}var e;return e=t,t.prototype.setCallback=function(t){this.onTimeReachedCallback=t},t=e=o([Component(\"npcTimerDelay\")],t)}(),S=engine.getComponentGroup(w),A=function(){function t(){t._instance=this}return t.createAndAddToEngine=function(){return null==this._instance&&(this._instance=new t,engine.addSystem(this._instance)),this._instance},t.prototype.update=function(t){var e,i;try{for(var o=n(S.entities),s=o.next();!s.done;s=o.next()){var r=s.value,a=r.getComponent(w);a.elapsedTime+=t,a.elapsedTime>=a.targetTime&&a.onTargetTimeReached(r)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}},t._instance=null,t}();!function(t){t[t.Confirm=0]=\"Confirm\",t[t.Cancel=1]=\"Cancel\",t[t.Next=2]=\"Next\",t[t.Button3=3]=\"Button3\",t[t.Button4=4]=\"Button4\"}(x||(x={}));var E=.75,P=-262.5,k=262.5,D=37.5,W=192,O=192,B=7.5,I=112.5,_=112.5,L=-48.75,N=-48.75,H=19.5,R=19.5,U=function(){function e(e,i,o,n){var s=this;this.NPCScript=[],this.isDialogOpen=!1,this.isQuestionPanel=!1,this.isFixedScreen=!1,this.activeTextId=0,this.UIOpenTime=0,this.defaultSound=null,this.canvas=u,this.ClickAction=null,this.EButtonAction=null,this.FButtonAction=null,this.defaultPortrait=e||null,this.uiTheme=n||(i?m:f),this.container=new UIContainerRect(u),this.container.width=\"100%\",this.container.vAlign=\"bottom\",this.container.positionY=105,this.container.visible=!1,this.panel=new UIImage(this.container,this.uiTheme),C(this.panel,v.backgrounds.NPCDialog),this.panel.width=574.5,this.panel.height=186,this.panel.onClick=new OnClick((function(){s.confirmText(x.Next)})),this.defaultPortraitTexture=new Texture(e?e.path:this.uiTheme.src),this.portrait=new UIImage(this.container,this.defaultPortraitTexture),this.portrait.sourceWidth=e&&e.section?e.section.sourceWidth:256,this.portrait.sourceHeight=e&&e.section?e.section.sourceHeight:256,this.portrait.width=e&&e.width?e.width*E:W,this.portrait.height=e&&e.height?e.height*E:W,this.portrait.positionX=e&&e.offsetX?e.offsetX*E+P:P,this.portrait.positionY=e&&e.offsetY?e.offsetY*E+0:0,this.portrait.onClick=new OnClick((function(){s.confirmText(x.Next)})),this.image=new UIImage(this.container,new Texture(this.uiTheme.src)),this.image.sourceWidth=256,this.image.sourceHeight=256,this.image.sourceTop=0,this.image.sourceLeft=0,this.image.width=O,this.image.height=O,this.image.positionX=k,this.image.positionY=D,this.image.onClick=new OnClick((function(){s.confirmText(x.Next)})),this.text=new UIText(this.container),this.text.adaptWidth=!1,this.text.textWrapping=!0,this.text.width=345,this.text.positionX=30,this.text.hAlign=\"center\",this.text.vAlign=\"center\",this.text.font=d,this.text.fontSize=18,this.text.hTextAlign=\"left\",this.text.vTextAlign=\"center\",this.text.positionY=B,this.text.color=i?Color4.White():Color4.Black(),this.text.isPointerBlocker=!1,this.soundEnt=new Entity,this.soundEnt.addComponent(new Transform),engine.addEntity(this.soundEnt),this.soundEnt.setParent(Attachable.AVATAR),o&&(this.soundEnt.addComponent(new AudioSource(new AudioClip(o))),this.soundEnt.getComponent(AudioSource).volume=.5,this.defaultSound=o),this.button1=new F(this.container,this.uiTheme,\"yes\",I,L,(function(){s.confirmText(x.Confirm)}),!!i,t.ButtonStyles.E),this.button1.hide(),this.button2=new F(this.container,this.uiTheme,\"no\",-60,N,(function(){s.confirmText(x.Cancel)}),!!i,t.ButtonStyles.F),this.button2.hide(),this.button3=new F(this.container,this.uiTheme,\"maybe\",-60,-60,(function(){s.confirmText(x.Button3)}),!!i,t.ButtonStyles.DARK),this.button3.hide(),this.button4=new F(this.container,this.uiTheme,\"maybe\",_,-60,(function(){s.confirmText(x.Button4)}),!!i,t.ButtonStyles.DARK),this.button4.hide(),this.skipButton=new F(this.container,this.uiTheme,\"Skip\",-225,-75,(function(){s.skipDialogs()}),!1,m?t.ButtonStyles.WHITE:t.ButtonStyles.F),this.skipButton.image.width=60,this.skipButton.image.height=22.5,this.skipButton.label.hTextAlign=\"left\",this.skipButton.label.fontSize=9,this.skipButton.label.positionX=30,this.skipButton.label.font=d,this.skipButton.icon.height=15,this.skipButton.icon.width=15,this.skipButton.icon.positionX=-15,this.skipButton.hide(),this.leftClickIcon=new UIImage(this.container,this.uiTheme),this.leftClickIcon.width=24,this.leftClickIcon.height=36,this.leftClickIcon.positionX=255,this.leftClickIcon.positionY=-60,this.leftClickIcon.visible=!1,C(this.leftClickIcon,i?v.icons.ClickDark:v.icons.ClickWhite),Y.createAndAddToEngine()}return e.prototype.openDialogWindow=function(t,e){var i=this;this.UIOpenTime=+Date.now(),this.NPCScript=t,this.activeTextId=e?\"number\"==typeof e?e:z(t,e):0;var o=t[this.activeTextId]?t[this.activeTextId]:{text:\"\"};if(o.audio?(this.soundEnt.addComponentOrReplace(new AudioSource(new AudioClip(o.audio))),this.soundEnt.getComponent(AudioSource).volume=.5,this.soundEnt.getComponent(AudioSource).playOnce()):this.defaultSound&&(this.soundEnt.addComponentOrReplace(new AudioSource(new AudioClip(this.defaultSound))),this.soundEnt.getComponent(AudioSource).playOnce()),o.portrait?(this.portrait.source=new Texture(o.portrait.path),this.portrait.positionX=o.portrait.offsetX?o.portrait.offsetX*E+P:P,this.portrait.positionY=o.portrait.offsetY?o.portrait.offsetY*E+0:0,this.portrait.width=o.portrait.width?o.portrait.width*E:W,this.portrait.height=o.portrait.height?o.portrait.height*E:W,o.portrait.section&&C(this.portrait,o.portrait.section),this.portrait.visible=!0):this.defaultPortrait?(this.portrait.source=this.defaultPortraitTexture,this.portrait.positionX=this.defaultPortrait&&this.defaultPortrait.offsetX?this.defaultPortrait.offsetX*E+P:P,this.portrait.positionY=this.defaultPortrait&&this.defaultPortrait.offsetY?this.defaultPortrait.offsetY*E+0:0,this.portrait.width=this.defaultPortrait&&this.defaultPortrait.width?this.defaultPortrait.width*E:W,this.portrait.height=this.defaultPortrait&&this.defaultPortrait.height?this.defaultPortrait.height*E:W,this.defaultPortrait.section&&C(this.portrait,this.defaultPortrait.section),this.portrait.visible=!0):(log(\"No portrait\"),this.portrait.visible=!1),o.image){var n=o.image;log(\"setting image to \",n.path),this.image.source=new Texture(n.path),this.image.positionX=n.offsetX?n.offsetX*E+k:k,this.image.positionY=n.offsetY?n.offsetY*E+D:D,this.image.width=n.width?n.width*E:O,this.portrait.height=n.height?n.height*E:O,n.section&&C(this.image,n.section),this.image.visible=!0}else this.image.visible=!1;this.text.fontSize=o.fontSize?o.fontSize*E:18,this.text.positionY=o.offsetY?o.offsetY*E+B:B,this.text.positionX=o.offsetX?o.offsetX*E:0,this.text.visible=!0,this.container.visible=!0,Y._instance.newText(this,o.text,this.activeTextId,o.typeSpeed?o.typeSpeed:void 0),this.ClickAction||(this.ClickAction=Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.POINTER,!1,(function(t){!i.isDialogOpen||+Date.now()-i.UIOpenTime<100||(Y._instance.done?i.isQuestionPanel||i.isFixedScreen||i.confirmText(x.Next):Y._instance.rush())})),this.EButtonAction=Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,!1,(function(t){!i.isDialogOpen||+Date.now()-i.UIOpenTime<100||(i.isQuestionPanel?i.confirmText(x.Confirm):i.isQuestionPanel||i.isFixedScreen||i.confirmText(x.Next))})),this.FButtonAction=Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.SECONDARY,!1,(function(t){!i.isDialogOpen||+Date.now()-i.UIOpenTime<100||(i.isQuestionPanel?i.confirmText(x.Cancel):o.skipable&&!i.isFixedScreen&&i.skipDialogs())}))),this.layoutDialogWindow(this.activeTextId),this.isDialogOpen=!0},e.prototype.confirmText=function(t){var e=this.NPCScript[this.activeTextId];if(this.UIOpenTime=+Date.now(),t==x.Next&&!e.isQuestion){if(e.triggeredByNext&&e.triggeredByNext(),e.isEndOfDialog)return void this.closeDialogWindow();this.activeTextId++}t==x.Confirm&&e.buttons&&e.buttons.length>=1&&(\"number\"==typeof e.buttons[0].goToDialog?this.activeTextId=e.buttons[0].goToDialog:this.activeTextId=z(this.NPCScript,e.buttons[0].goToDialog),e.buttons[0].triggeredActions&&e.buttons[0].triggeredActions()),t==x.Cancel&&e.buttons&&e.buttons.length>=2&&(\"number\"==typeof e.buttons[1].goToDialog?this.activeTextId=e.buttons[1].goToDialog:this.activeTextId=z(this.NPCScript,e.buttons[1].goToDialog),e.buttons[1].triggeredActions&&e.buttons[1].triggeredActions()),t==x.Button3&&e.buttons&&e.buttons.length>=3&&(\"number\"==typeof e.buttons[2].goToDialog?this.activeTextId=e.buttons[2].goToDialog:this.activeTextId=z(this.NPCScript,e.buttons[2].goToDialog),e.buttons[2].triggeredActions&&e.buttons[2].triggeredActions()),t==x.Button4&&e.buttons&&e.buttons.length>=4&&(\"number\"==typeof e.buttons[3].goToDialog?this.activeTextId=e.buttons[3].goToDialog:this.activeTextId=z(this.NPCScript,e.buttons[3].goToDialog),e.buttons[3].triggeredActions&&e.buttons[3].triggeredActions()),e=this.NPCScript[this.activeTextId],Y._instance.newText(this,e.text,this.activeTextId,e.typeSpeed?e.typeSpeed:void 0)},e.prototype.layoutDialogWindow=function(t){var e=this,i=this.NPCScript[t]?this.NPCScript[t]:{text:\"\"},o=i.offsetY?i.offsetY*E+B:B;if(i.buttons&&i.buttons.length>=3?o+=37.5:i.buttons&&i.buttons.length>=1&&(o+=18),this.text.fontSize=i.fontSize?i.fontSize*E:18,this.text.positionY=o,i.audio?(this.soundEnt.addComponentOrReplace(new AudioSource(new AudioClip(i.audio))),this.soundEnt.getComponent(AudioSource).volume=.5,this.soundEnt.getComponent(AudioSource).playOnce()):this.defaultSound&&(this.soundEnt.addComponentOrReplace(new AudioSource(new AudioClip(this.defaultSound))),this.soundEnt.getComponent(AudioSource).playOnce()),i.portrait?(this.portrait.source=new Texture(i.portrait.path),this.portrait.positionX=i.portrait.offsetX?i.portrait.offsetX*E+P:P,this.portrait.positionY=i.portrait.offsetY?i.portrait.offsetY*E+0:0,this.portrait.width=i.portrait.width?i.portrait.width*E:W,this.portrait.height=i.portrait.height?i.portrait.height*E:W,i.portrait.section&&C(this.portrait,i.portrait.section),this.portrait.visible=!0):this.defaultPortrait?(this.portrait.source=new Texture(this.defaultPortrait.path),this.portrait.positionX=this.defaultPortrait&&this.defaultPortrait.offsetX?this.defaultPortrait.offsetX*E+P:P,this.portrait.positionY=this.defaultPortrait&&this.defaultPortrait.offsetY?this.defaultPortrait.offsetY*E+0:0,this.portrait.width=this.defaultPortrait&&this.defaultPortrait.width?this.defaultPortrait.width*E:W,this.portrait.height=this.defaultPortrait&&this.defaultPortrait.height?this.defaultPortrait.height*E:W,this.defaultPortrait.section&&C(this.portrait,this.defaultPortrait.section),this.portrait.visible=!0):(log(\"No portrait\"),this.portrait.visible=!1),this.image.visible=!1,i.image){var n=i.image;log(\"setting image to \",n.path),this.image.source=new Texture(n.path),this.image.positionX=n.offsetX?n.offsetX*E+k:k,this.image.positionY=n.offsetY?n.offsetY*E+D:D,this.image.width=i.image.width?i.image.width*E:O,this.image.height=i.image.height?i.image.height*E:O,n.section&&C(this.image,n.section),this.image.visible=!0}else this.image.visible=!1;this.isQuestionPanel=!!i.isQuestion&&i.isQuestion,this.isFixedScreen=!!i.isFixedScreen&&i.isFixedScreen,this.button1.hide(),this.button2.hide(),this.button3.hide(),this.button4.hide(),this.leftClickIcon.visible=!1,i.isQuestion?(this.skipButton.hide(),i.buttons&&i.buttons.length>=1&&this.button1.update(i.buttons[0].label,i.buttons[0].offsetX?i.buttons[0].offsetX*E+I:I,i.buttons.length>=3?i.buttons[0].offsetY?i.buttons[0].offsetY*E-15:-15:i.buttons[0].offsetY?i.buttons[0].offsetY*E+L:L),i.buttons&&i.buttons.length>=2&&this.button2.update(i.buttons[1].label,i.buttons[1].offsetX*E?i.buttons[1].offsetX*E-60:-60,i.buttons.length>=3?i.buttons[1].offsetY*E?i.buttons[1].offsetY*E-15:-15:i.buttons[1].offsetY*E?i.buttons[1].offsetY*E+N:N),i.buttons&&i.buttons.length>=3&&this.button3.update(i.buttons[2].label,i.buttons[2].offsetX*E?i.buttons[2].offsetX*E-60:-60,i.buttons[2].offsetY*E?i.buttons[2].offsetY*E-60:-60),i.buttons&&i.buttons.length>=4&&this.button4.update(i.buttons[3].label,i.buttons[3].offsetX*E?i.buttons[3].offsetX*E+_:_,i.buttons[3].offsetY*E?i.buttons[3].offsetY*E-60:-60),X.addComponentOrReplace(new w(.7,(function(){i.buttons&&i.buttons.length>=1&&e.button1.show(),i.buttons&&i.buttons.length>=2&&e.button2.show(),i.buttons&&i.buttons.length>=3&&e.button3.show(),i.buttons&&i.buttons.length>=4&&e.button4.show()})))):this.isFixedScreen||(this.leftClickIcon.visible=!0,i.skipable?this.skipButton.show():this.skipButton.hide())},e.prototype.closeDialogWindow=function(){this.isDialogOpen&&(this.isDialogOpen=!1,this.portrait.visible=!1,this.text.value=\"\",this.text.visible=!1,this.button1.hide(),this.button2.hide(),this.button3.hide(),this.button4.hide(),this.skipButton.hide(),this.leftClickIcon.visible=!1,this.container.visible=!1)},e.prototype.skipDialogs=function(){if(this.isDialogOpen&&!(+Date.now()-this.UIOpenTime<100)){for(;this.NPCScript[this.activeTextId]&&this.NPCScript[this.activeTextId].skipable&&!this.NPCScript[this.activeTextId].isQuestion;){if(this.NPCScript[this.activeTextId].triggeredByNext&&this.NPCScript[this.activeTextId].triggeredByNext(),this.NPCScript[this.activeTextId].skipable&&this.NPCScript[this.activeTextId].isEndOfDialog)return void this.closeDialogWindow();this.activeTextId+=1}this.confirmText(x.Next)}},e}(),Y=function(){function t(){this.timer=0,this.speed=45,this.visibleChars=0,this.fullText=\"\",this.UIText=null,this.done=!0,t._instance=this}return t.createAndAddToEngine=function(){return null==this._instance&&(this._instance=new t,engine.addSystem(this._instance)),this._instance},t.prototype.update=function(t){if(!this.done&&(this.timer+=t,this.timer>=2/this.speed)){var e=Math.floor(this.timer/(1/this.speed));this.timer=0,this.visibleChars+=e,this.closeTag(e),this.visibleChars>=this.fullText.length&&(this.done=!0,this.visibleChars=this.fullText.length),this.UIText&&(this.UIText.value=this.fullText.substr(0,this.visibleChars))}},t.prototype.newText=function(t,e,i,o){this.timer=0,this.done=!1,this.UIText=t.text,this.fullText=e,this.visibleChars=0,o&&o<=0?this.rush():this.speed=o||45,t.layoutDialogWindow(i)},t.prototype.rush=function(){this.done=!0,this.timer=0,this.visibleChars=this.fullText.length,this.UIText&&(this.UIText.value=this.fullText)},t.prototype.closeTag=function(t){if(0!=this.visibleChars&&0!=t){for(var e=!1,i=!1,o=this.visibleChars-t;o<this.visibleChars;o++)e?\">\"==this.fullText.substr(o,1)&&(i=!0):\"<\"==this.fullText.substr(o,1)&&(e=!0);if(e&&!i)for(;this.visibleChars<this.fullText.length&&\">\"!=this.fullText.substr(this.visibleChars-1,1);)this.visibleChars+=1}},t._instance=null,t}(),F=function(e){function o(i,o,n,s,r,a,h,u){var l=e.call(this)||this;if(l.icon=null,l.image=new UIImage(i,o),l.image.positionX=s,l.image.positionY=r,l.image.width=130.5,l.image.height=34.5,l.label=new UIText(l.image),l.style=u||null,l.onClick=a,l.style)switch(l.style){case t.ButtonStyles.E:C(l.image,v.buttons.buttonE),l.label.positionX=18.75,l.icon=new UIImage(l.image,1==h?m:f),l.icon.width=H,l.icon.height=R,l.icon.hAlign=\"center\",l.icon.vAlign=\"center\",l.icon.isPointerBlocker=!1,C(l.icon,v.buttonLabels.E),l.icon.positionX=y(n.length);break;case t.ButtonStyles.F:C(l.image,v.buttons.buttonF),l.label.positionX=18.75,l.icon=new UIImage(l.image,1==h?m:f),l.icon.width=H,l.icon.height=R,l.icon.hAlign=\"center\",l.icon.vAlign=\"center\",l.icon.isPointerBlocker=!1,C(l.icon,v.buttonLabels.F),l.icon.positionX=y(n.length);break;case t.ButtonStyles.WHITE:C(l.image,v.buttons.white),l.label.positionX=18.75,l.icon=new UIImage(l.image,1==h?m:f),l.icon.width=H,l.icon.height=R,l.icon.hAlign=\"center\",l.icon.vAlign=\"center\",l.icon.isPointerBlocker=!1,C(l.icon,v.buttonLabels.FBlack),l.icon.positionX=y(n.length);break;case t.ButtonStyles.RED:C(l.image,v.buttons.buttonRed);break;case t.ButtonStyles.DARK:C(l.image,v.buttons.buttonDark);break;case t.ButtonStyles.ROUNDBLACK:C(l.image,v.buttons.roundBlack);break;case t.ButtonStyles.ROUNDWHITE:C(l.image,v.buttons.roundWhite);break;case t.ButtonStyles.ROUNDSILVER:C(l.image,v.buttons.roundSilver);break;case t.ButtonStyles.ROUNDGOLD:C(l.image,v.buttons.roundGold);break;case t.ButtonStyles.SQUAREBLACK:C(l.image,v.buttons.squareBlack);break;case t.ButtonStyles.SQUAREWHITE:C(l.image,v.buttons.squareWhite);break;case t.ButtonStyles.SQUARESILVER:C(l.image,v.buttons.squareSilver);break;case t.ButtonStyles.SQUAREGOLD:C(l.image,v.buttons.squareGold)}else C(l.image,v.buttons.roundSilver);return l.label.value=n,l.label.hTextAlign=\"center\",l.label.vTextAlign=\"center\",l.label.fontSize=15,l.label.font=p,l.label.color=u==t.ButtonStyles.ROUNDWHITE||u==t.ButtonStyles.SQUAREWHITE||u==t.ButtonStyles.WHITE?Color4.Black():Color4.White(),l.label.isPointerBlocker=!1,l.image.onClick=new OnClick((function(){l.onClick()})),u==t.ButtonStyles.E?Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,!1,(function(t){l.image.visible&&l.onClick()})):u==t.ButtonStyles.F&&Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.SECONDARY,!1,(function(t){l.image.visible&&l.onClick()})),l}return i(o,e),o.prototype.hide=function(){this.image.visible=!1},o.prototype.show=function(){this.image.visible=!0},o.prototype.grayOut=function(){this.label.color=Color4.Gray(),this.image.isPointerBlocker=!1},o.prototype.enable=function(){this.label.color=Color4.White(),this.image.isPointerBlocker=!0},o.prototype.update=function(e,i,o){this.label.value=e,this.image.positionX=i,this.image.positionY=o,!this.icon||this.style!=t.ButtonStyles.E&&this.style!=t.ButtonStyles.F||(this.icon.positionX=y(e.length))},o}(Entity),X=new Entity;function z(t,e){for(var i=0;i<t.length;i++)if(t[i].name&&t[i].name==e)return i;return 0}engine.addEntity(X);var G=function(){function t(){this._triggers={},t._instance=this,this._cameraTriggerWrapper=new Q(new j(new Vector3(.5,1.8,.5),new Vector3(0,.91,0))),this._componentGroup=engine.getComponentGroup(M)}return Object.defineProperty(t,\"instance\",{get:function(){return this.createAndAddToEngine()},enumerable:!1,configurable:!0}),t.createAndAddToEngine=function(){return null==this._instance&&(this._instance=new t,engine.addSystem(this._instance)),this._instance},t.prototype.setCameraTriggerShape=function(t){this._cameraTriggerWrapper.setShape(t)},t.prototype.update=function(){var e=this,i=this._componentGroup.entities;for(var o in i.forEach((function(t){e.shouldWrapTriggerEntity(t)&&e.wrapTriggerEntity(t)})),this._triggers)if(this._triggers.hasOwnProperty(o)){var n=this._triggers[o];n.isDebugging()&&n.updateDebugEntity(),n.isInEngine()?null!=n.trigger&&n.trigger.enabled?(n.wasEnabled||n.isDebugging()&&n.addDebugEntity(),n.wasEnabled=!0,(n.trigger.onCameraEnter||n.trigger.onCameraExit)&&this.checkCollisionAgainstCamera(n),(n.trigger.onTriggerEnter||n.trigger.onTriggerExit)&&this.checkCollisionAgainstOtherTriggers(n)):n.wasEnabled&&(n.wasEnabled=!1,n.isDebugging()&&n.removeDebugEntity(),t.removeTriggerFromSystem(n)):(n.isDebugging()&&n.removeDebugEntity(),t.removeTriggerFromSystem(n),delete this._triggers[o])}},t.prototype.shouldWrapTriggerEntity=function(t){return null==this._triggers[t.uuid]||null==this._triggers[t.uuid]},t.prototype.wrapTriggerEntity=function(t){this._triggers[t.uuid]=new V(t)},t.removeTriggerFromSystem=function(e){for(var i,o=e.getActiveCollisions(),n=0;n<o.length;n++){!(o[n]===(null===(i=t._instance)||void 0===i?void 0:i._cameraTriggerWrapper)||null==o[n].trigger)&&o[n].trigger.onTriggerExit&&e.entity&&o[n].trigger.onTriggerExit(e.entity),o[n].disengageActiveCollision(e),e.disengageActiveCollision(o[n])}},t.disengageCollision=function(t,e){t.disengageActiveCollision(e),e.disengageActiveCollision(t),t.trigger.onTriggerExit&&e.entity&&t.trigger.onTriggerExit(e.entity),e.trigger.onTriggerExit&&t.entity&&e.trigger.onTriggerExit(t.entity)},t.engageCollision=function(t,e){t.engageCollision(e),e.engageCollision(t),t.trigger.onTriggerEnter&&e.entity&&t.trigger.onTriggerEnter(e.entity),e.trigger.onTriggerEnter&&t.entity&&e.trigger.onTriggerEnter(t.entity)},t.prototype.checkCollisionAgainstCamera=function(e){var i=e.hasActiveCollision(this._cameraTriggerWrapper),o=t.areColliding(e,this._cameraTriggerWrapper);i&&!o?(e.disengageActiveCollision(this._cameraTriggerWrapper),e.trigger.onCameraExit&&e.trigger.onCameraExit()):!i&&o&&(e.engageCollision(this._cameraTriggerWrapper),e.trigger.onCameraEnter&&e.trigger.onCameraEnter())},t.prototype.checkCollisionAgainstOtherTriggers=function(e){for(var i in this._triggers)if(this._triggers.hasOwnProperty(i)&&i!=e.uuid&&this._triggers[i].trigger.enabled&&t.canTriggersCollide(e,this._triggers[i])){var o=e.hasActiveCollision(this._triggers[i]),n=t.areColliding(e,this._triggers[i]);o&&!n?t.disengageCollision(e,this._triggers[i]):!o&&n&&t.engageCollision(e,this._triggers[i])}},t.canTriggersCollide=function(t,e){return 0==t.trigger.triggeredByLayer||0!=(e.trigger.layer&t.trigger.triggeredByLayer)},t.areColliding=function(e,i){return e.getShape()instanceof j&&i.getShape()instanceof j?t.areCollidingAABB(e.getGlobalPosition(),e.getShape(),i.getGlobalPosition(),i.getShape()):e.getShape()instanceof q&&i.getShape()instanceof q?t.areCollidingSphere(e.getGlobalPosition(),e.getShape(),i.getGlobalPosition(),i.getShape()):e.getShape()instanceof j&&i.getShape()instanceof q?t.areCollidingAABBSphere(e.getGlobalPosition(),e.getShape(),i.getGlobalPosition(),i.getShape()):e.getShape()instanceof q&&i.getShape()instanceof j&&t.areCollidingAABBSphere(i.getGlobalPosition(),i.getShape(),e.getGlobalPosition(),e.getShape())},t.areCollidingAABB=function(e,i,o,n){var s=t.getBoxShapeValues(e,i),r=t.getBoxShapeValues(o,n);return s.min.x<=r.max.x&&s.max.x>=r.min.x&&s.min.y<=r.max.y&&s.max.y>=r.min.y&&s.min.z<=r.max.z&&s.max.z>=r.min.z},t.areCollidingSphere=function(t,e,i,o){return Vector3.DistanceSquared(t.add(e.position),i.add(o.position))<e.radius*e.radius+o.radius*o.radius},t.areCollidingAABBSphere=function(e,i,o,n){var s=t.getBoxShapeValues(e,i),r=o.add(n.position),a=n.radius,h=0;return r.x<s.min.x&&(h+=(s.min.x-r.x)*(s.min.x-r.x)),r.x>s.max.x&&(h+=(r.x-s.max.x)*(r.x-s.max.x)),r.y<s.min.y&&(h+=(s.min.y-r.y)*(s.min.y-r.y)),r.y>s.max.y&&(h+=(r.y-s.max.y)*(r.y-s.max.y)),r.z<s.min.z&&(h+=(s.min.z-r.z)*(s.min.z-r.z)),r.z>s.max.z&&(h+=(r.z-s.max.z)*(r.z-s.max.z)),h<a*a},t.getBoxShapeValues=function(t,e){var i=t.add(e.position);return{center:i,min:i.subtract(e.size.scale(.5)),max:i.add(e.size.scale(.5))}},t._instance=null,t}(),V=function(){function t(t){this.wasEnabled=!0,this._uuid=\"\",this._collidingWith={},this._isDebug=!1,this._debugEntity=null,this._entity=t,t&&(this._trigger=t.getComponent(M),this._uuid=t.uuid,this._isDebug=this._trigger.debugEnabled,this._isDebug&&this.addDebugEntity())}return Object.defineProperty(t.prototype,\"entity\",{get:function(){return this._entity},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"trigger\",{get:function(){return this._trigger},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"uuid\",{get:function(){return this._uuid},enumerable:!1,configurable:!0}),t.prototype.getGlobalPosition=function(){return this._entity?t.getEntityWorldPosition(this._entity):Vector3.Zero()},t.prototype.getShape=function(){return this._trigger.shape},t.prototype.isInEngine=function(){return null!=this._entity&&this._entity.isAddedToEngine()},t.prototype.getActiveCollisions=function(){var t=[];for(var e in this._collidingWith)this._collidingWith.hasOwnProperty(e)&&t.push(this._collidingWith[e]);return t},t.prototype.hasActiveCollision=function(t){return null!=this._collidingWith[t.uuid]&&null!=this._collidingWith[t.uuid]},t.prototype.disengageActiveCollision=function(t){delete this._collidingWith[t.uuid]},t.prototype.engageCollision=function(t){this._collidingWith[t.uuid]=t},t.prototype.isDebugging=function(){return this._isDebug},t.prototype.addDebugEntity=function(){if(t._debugMaterial||(t._debugMaterial=new Material,t._debugMaterial.alphaTest=.5),null==this._debugEntity){this._debugEntity=new Entity;var e=new Transform;if(this._debugEntity.addComponent(e),this._debugEntity.addComponent(t._debugMaterial),this.getShape()instanceof j)(i=new BoxShape).withCollisions=!1,this._debugEntity.addComponent(i),e.scale=this.getShape().size;if(this.getShape()instanceof q){var i;(i=new SphereShape).withCollisions=!1,this._debugEntity.addComponent(i);var o=this.getShape().radius;e.scale=new Vector3(o,o,o)}}engine.addEntity(this._debugEntity)},t.prototype.removeDebugEntity=function(){null!=this._debugEntity&&engine.removeEntity(this._debugEntity)},t.prototype.updateDebugEntity=function(){this._debugEntity&&(this._debugEntity.getComponent(Transform).position=this.getGlobalPosition().add(this.getShape().position))},t.getEntityWorldPosition=function(t){var e=t.hasComponent(Transform)?t.getComponent(Transform).position.clone():Vector3.Zero(),i=t.getParent();if(null!=i){var o=i.hasComponent(Transform)?i.getComponent(Transform).rotation:Quaternion.Identity;return this.getEntityWorldPosition(i).add(e.rotate(o))}return e},t._debugMaterial=null,t}(),Q=function(t){function e(e){var i=t.call(this)||this;return i._shape=e,i._uuid=\"cameraTrigger\",i}return i(e,t),e.prototype.getGlobalPosition=function(){return Camera.instance.position},e.prototype.getShape=function(){return this._shape},e.prototype.setShape=function(t){this._shape=t},e.prototype.isInEngine=function(){return!1},e.prototype.hasActiveCollision=function(t){return!1},e.prototype.disengageActiveCollision=function(t){},e.prototype.engageCollision=function(t){},e.prototype.isDebugging=function(){return!1},e}(V),M=function(){function t(t,e){this.enabled=!0,this.layer=0,this.triggeredByLayer=0,G.createAndAddToEngine(),this.shape=t,this.layer=e&&e.layer?e.layer:0,this.triggeredByLayer=e&&e.triggeredByLayer?e.triggeredByLayer:0,this.onTriggerEnter=e&&e.onTriggerEnter?e.onTriggerEnter:void 0,this.onTriggerExit=e&&e.onTriggerExit?e.onTriggerExit:void 0,this.onCameraEnter=e&&e.onCameraEnter?e.onCameraEnter:void 0,this.onCameraExit=e&&e.onCameraExit?e.onCameraExit:void 0,this._debugEnabled=!(!e||!e.enableDebug)&&e.enableDebug}return Object.defineProperty(t.prototype,\"debugEnabled\",{get:function(){return this._debugEnabled},enumerable:!1,configurable:!0}),t=o([Component(\"npcTriggerComponent\")],t)}(),j=function(t,e){this.size=t,this.position=e},q=function(t,e){this.radius=t,this.position=e},K=function(){function e(e,i){void 0===i&&(i=t.NPCLerpType.SMOOTH_PATH),this.origin=0,this.target=1,this.fraction=0,this.totalDuration=0,this.speed=[],this.loop=!1,this.type=t.NPCLerpType.SMOOTH_PATH,this.path=e,void 0!==i&&(this.type=i),J.createAndAddToEngine()}return e.prototype.setIndex=function(t){this.fraction=0,this.origin=t,this.target=t+1<this.path.length?t+1:0},e=o([Component(\"npclerpData\")],e)}(),Z=engine.getComponentGroup(K),J=function(){function e(){e._instance=this}return e.prototype.update=function(e){var i,o;try{for(var s=n(Z.entities),r=s.next();!r.done;r=s.next()){var a=r.value;if(a.state==t.NPCState.FOLLOWPATH){var h=a.getComponent(Transform),u=a.getComponent(K);if(void 0!==u.type&&u.type==t.NPCLerpType.RIGID_PATH)if(u.fraction<1)u.fraction+=e*u.speed[u.origin],h.position=Vector3.Lerp(u.path[u.origin],u.path[u.target],u.fraction);else{if(u.origin=u.target,u.target+=1,u.target>=u.path.length){if(!u.loop)return a.stopWalking(),u.onFinishCallback&&u.onFinishCallback(),void(u.fraction=1);u.target=0}else u.onReachedPointCallback&&u.onReachedPointCallback();u.fraction=0,h.lookAt(u.path[u.target])}else if(u.fraction+=e*u.speed[u.origin],u.fraction>=1){u.origin=u.target;var l=Math.max(1,Math.floor(u.fraction));if(u.target+=l,u.target>=u.path.length){if(!u.loop)return a.stopWalking(),u.onFinishCallback&&u.onFinishCallback(),void(u.fraction=1);u.target=0}else u.onReachedPointCallback&&u.onReachedPointCallback();u.fraction-=l,u.target<u.path.length&&h.lookAt(u.path[u.target])}u.target<u.path.length&&(h.position=Vector3.Lerp(u.path[u.origin],u.path[u.target],u.fraction))}}}catch(t){i={error:t}}finally{try{r&&!r.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},e.createAndAddToEngine=function(){return null==this._instance&&(this._instance=new e,engine.addSystem(this._instance)),this._instance},e._instance=null,e}(),$=100,tt=function(){function t(t,e,i){this.NPCScript=[],this.isBubleOpen=!1,this.activeTextId=0,this.defaultSound=null,this.baseYOffset=2.5,this.baseYOffset=e||2.5,this.rootEntity=new Entity,this.rootEntity.addComponent(new Billboard(!1,!0,!1)),this.rootEntity.addComponent(new Transform),this.rootEntity.setParent(t),this.container=new Entity,this.container.addComponent(new Transform({position:new Vector3(-.1,this.baseYOffset,0)})),this.container.setParent(this.rootEntity),this.material=new BasicMaterial,this.material.texture=b,this.panel=new Entity,this.panel.addComponent(new Transform({scale:new Vector3(2,1,1)})),this.panel.setParent(this.container),this.panel.addComponent(new PlaneShape),this.panel.addComponent(this.material),this.panel.getComponent(PlaneShape).visible=!1,T(this.panel.getComponent(PlaneShape),v.bubbles.normal,1024,1024),this.text=new Entity,this.text.addComponent(new Transform({position:new Vector3(0,0,.05),rotation:Quaternion.Euler(0,180,0)})),this.text.addComponent(new TextShape(\"\")),this.text.setParent(this.container),this.text.getComponent(TextShape).textWrapping=!0,this.text.getComponent(TextShape).font=d,this.text.getComponent(TextShape).hTextAlign=\"center\",this.text.getComponent(TextShape).vTextAlign=\"center\",this.text.getComponent(TextShape).fontSize=1,this.text.getComponent(TextShape).color=Color3.Black(),this.text.getComponent(TextShape).visible=!1,this.soundEnt=new Entity,i&&(this.soundEnt.addComponent(new Transform),engine.addEntity(this.soundEnt),this.soundEnt.setParent(this.container),this.soundEnt.addComponent(new AudioSource(new AudioClip(i))),this.soundEnt.getComponent(AudioSource).volume=.5,this.defaultSound=i),et.createAndAddToEngine()}return t.prototype.openDialogWindow=function(t,e){this.NPCScript=t,this.activeTextId=e?\"number\"==typeof e?e:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name&&t[i].name==e)return i;return 0}(t,e):0;var i=t[this.activeTextId]?t[this.activeTextId]:{text:\"\"};i.audio?(this.soundEnt.addComponentOrReplace(new AudioSource(new AudioClip(i.audio))),this.soundEnt.getComponent(AudioSource).volume=.5,this.soundEnt.getComponent(AudioSource).playOnce()):this.defaultSound&&(this.soundEnt.addComponentOrReplace(new AudioSource(new AudioClip(this.defaultSound))),this.soundEnt.getComponent(AudioSource).playOnce()),this.text.getComponent(TextShape).fontSize=i.fontSize?i.fontSize:1,this.text.getComponent(Transform).position.y=i.offsetY?i.offsetY+0:0,this.text.getComponent(Transform).position.x=i.offsetX?i.offsetX:0,this.text.getComponent(TextShape).visible=!0,this.panel.getComponent(PlaneShape).visible=!0,this.text.getComponent(TextShape).value=\"\",i.text.length<$&&i.text.slice(0,$),et._instance.newText(this,i.text,this.activeTextId,i.timeOn?i.timeOn:void 0,i.typeSpeed?i.typeSpeed:void 0),this.adjustBubble(i.text.length),this.layoutDialogWindow(this.activeTextId),this.isBubleOpen=!0},t.prototype.adjustBubble=function(t){t<8?(T(this.panel.getComponent(PlaneShape),v.bubbles.short,1024,1024),this.panel.getComponent(Transform).scale.x=.58,this.panel.getComponent(Transform).scale.y=.42,this.container.getComponent(Transform).position.x=-.1,this.container.getComponent(Transform).position.y=this.baseYOffset+-.2,this.text.getComponent(TextShape).width=.7):t<25?(T(this.panel.getComponent(PlaneShape),v.bubbles.normal,1024,1024),this.panel.getComponent(Transform).scale.x=1.43,this.panel.getComponent(Transform).scale.y=.42,this.container.getComponent(Transform).position.x=-.5,this.container.getComponent(Transform).position.y=this.baseYOffset+-.2,this.text.getComponent(TextShape).width=1.5):t<50?(T(this.panel.getComponent(PlaneShape),v.bubbles.long,1024,1024),this.panel.getComponent(Transform).scale.x=2.485,this.panel.getComponent(Transform).scale.y=.765,this.container.getComponent(Transform).position.y=this.baseYOffset+0,this.container.getComponent(Transform).position.x=-.8,this.text.getComponent(TextShape).width=2):(T(this.panel.getComponent(PlaneShape),v.bubbles.huge,1024,1024),this.panel.getComponent(Transform).scale.x=2.485,this.panel.getComponent(Transform).scale.y=1.195,this.container.getComponent(Transform).position.y=this.baseYOffset+.2,this.container.getComponent(Transform).position.x=-.8,this.text.getComponent(TextShape).width=2)},t.prototype.next=function(){var t=this.NPCScript[this.activeTextId];t||(t=this.NPCScript[this.activeTextId-1]),t.triggeredByNext&&t.triggeredByNext(),t.isEndOfDialog?this.closeDialogWindow():(this.activeTextId++,(t=this.NPCScript[this.activeTextId]).text.length<$&&t.text.slice(0,$),this.text.getComponent(TextShape).value=\"\",this.adjustBubble(t.text.length),et._instance.newText(this,t.text,this.activeTextId,t.timeOn?t.timeOn:void 0,t.typeSpeed?t.typeSpeed:void 0),this.layoutDialogWindow(this.activeTextId))},t.prototype.layoutDialogWindow=function(t){var e=this.NPCScript[t]?this.NPCScript[t]:{text:\"\"},i=e.offsetY?e.offsetY+0:0;e.buttons&&e.buttons.length>=3?i+=50:e.buttons&&e.buttons.length>=1&&(i+=24),this.text.getComponent(TextShape).fontSize=e.fontSize?e.fontSize:1,this.text.getComponent(TextShape).visible=!0,this.text.getComponent(Transform).position.y=i,e.audio?(this.soundEnt.addComponentOrReplace(new AudioSource(new AudioClip(e.audio))),this.soundEnt.getComponent(AudioSource).volume=.5,this.soundEnt.getComponent(AudioSource).playOnce()):this.defaultSound&&(this.soundEnt.addComponentOrReplace(new AudioSource(new AudioClip(this.defaultSound))),this.soundEnt.getComponent(AudioSource).playOnce())},t.prototype.closeDialogWindow=function(){this.isBubleOpen&&(this.isBubleOpen=!1,this.text.getComponent(TextShape).value=\"\",this.text.getComponent(TextShape).visible=!1,this.panel.getComponent(PlaneShape).visible=!1)},t.prototype.closeDialogEndAll=function(){this.isBubleOpen&&(et._instance.Dialog==this&&(et._instance.done=!0,et._instance.Dialog=null),this.isBubleOpen=!1,this.text.getComponent(TextShape).value=\"\",this.text.getComponent(TextShape).visible=!1,this.panel.getComponent(PlaneShape).visible=!1)},t.prototype.skipDialogs=function(){if(this.isBubleOpen)for(;this.NPCScript[this.activeTextId];){if(this.NPCScript[this.activeTextId].triggeredByNext&&this.NPCScript[this.activeTextId].triggeredByNext(),this.NPCScript[this.activeTextId].isEndOfDialog)return void this.closeDialogWindow();this.activeTextId+=1}},t}(),et=function(){function t(){this.timer=0,this.speed=45,this.visibleChars=0,this.fullText=\"\",this.Text=null,this.textId=0,this.done=!0,this.showing=!1,this.timeOn=3,t._instance=this}return t.createAndAddToEngine=function(){return null==this._instance&&(this._instance=new t,engine.addSystem(this._instance)),this._instance},t.prototype.update=function(t){if(!this.done)if(this.timer+=t,this.showing)this.timer>this.timeOn&&(this.showing=!1,this.done=!0,this.timer=0,this.window.next());else if(this.timer>=2/this.speed){var e=Math.floor(this.timer/(1/this.speed));this.timer=0,this.visibleChars+=e,this.closeTag(e),this.visibleChars>=this.fullText.length&&(this.showing=!0,this.timer=0,this.visibleChars=this.fullText.length),this.Text&&(this.Text.value=this.fullText.substr(0,this.visibleChars))}},t.prototype.newText=function(t,e,i,o,n){if(t!=this.Dialog||i!=this.textId){var s=this.Dialog;this.Dialog=t,this.Text=this.Dialog.text.getComponent(TextShape),this.textId=i,s&&t!=s&&s.skipDialogs(),this.timer=0,this.done=!1,this.showing=!1,this.fullText=e,this.visibleChars=0,this.window=t,n&&n<=0?this.rush():this.speed=n||45,this.timeOn=o||3}},t.prototype.rush=function(){this.showing=!0,this.timer=0,this.visibleChars=this.fullText.length,this.Text&&(this.Text.value=this.fullText)},t.prototype.closeTag=function(t){if(0!=this.visibleChars&&0!=t){for(var e=!1,i=!1,o=this.visibleChars-t;o<this.visibleChars;o++)e?\">\"==this.fullText.substr(o,1)&&(i=!0):\"<\"==this.fullText.substr(o,1)&&(e=!0);if(e&&!i)for(;this.visibleChars<this.fullText.length&&\">\"!=this.fullText.substr(this.visibleChars-1,1);)this.visibleChars+=1}},t._instance=null,t}();var it=function(e){function o(i,o,n,r){var a=e.call(this)||this;a.introduced=!1,a.onWalkAway=null,a.inCooldown=!1,a.coolDownDuration=5,a.faceUser=!1,a.walkingAnim=null,a.walkingSpeed=2,a.bubbleHeight=2,a.addComponent(new GLTFShape(o)),a.addComponent(new Transform(i)),engine.addEntity(a),a.state=t.NPCState.STANDING,r&&r.noUI||(r&&r.portrait?a.dialog=new U(\"string\"==typeof r.portrait?{path:r.portrait}:r.portrait,!(!r||!r.darkUI)&&r.darkUI,r.dialogSound?r.dialogSound:void 0,r&&r.dialogCustomTheme?r.dialogCustomTheme:void 0):a.dialog=new U(void 0,!(!r||!r.darkUI)&&r.darkUI,r&&r.dialogSound?r.dialogSound:void 0,r&&r.dialogCustomTheme?r.dialogCustomTheme:void 0)),r&&r.textBubble&&(r&&r.bubbleHeight&&(a.bubbleHeight=r.bubbleHeight),a.bubble=new tt(a,a.bubbleHeight,r.dialogSound?r.dialogSound:void 0)),a.addComponent(new Animator),a.idleAnim=new AnimationState(r&&r.idleAnim?r.idleAnim:\"Idle\",{looping:!0}),a.getComponent(Animator).addClip(a.idleAnim),a.lastPlayedAnim=a.idleAnim,a.idleAnim.play(),r&&r.walkingAnim&&(a.walkingAnim=new AnimationState(r.walkingAnim,{looping:!0}),a.getComponent(Animator).addClip(a.walkingAnim)),a.onActivate=n,r&&r.onWalkAway&&(a.onWalkAway=r.onWalkAway),a.endAnimTimer=new Entity,engine.addEntity(a.endAnimTimer),a.closeDialogTimer=new Entity,engine.addEntity(a.closeDialogTimer),a.pauseWalkingTimer=new Entity,engine.addEntity(a.pauseWalkingTimer);var h=r&&r.onlyClickTrigger?ActionButton.POINTER:ActionButton.PRIMARY;a.addComponent(new OnPointerDown((function(t){a.inCooldown||a.dialog&&a.dialog.isDialogOpen||a.activate()}),{button:h,hoverText:r&&r.hoverText?r.hoverText:\"Talk\",showFeedback:!r||!r.onlyExternalTrigger})),r&&r.onlyExternalTrigger&&a.removeComponent(OnPointerDown);var u={};return(!r||r&&!r.continueOnWalkAway)&&(u.onCameraExit=function(){a.handleWalkAway()}),r&&(!r||r.onlyExternalTrigger||r.onlyClickTrigger||r.onlyETrigger)||(u.onCameraEnter=function(){a.inCooldown?log(a.name,\" in cooldown\"):a.dialog&&a.dialog.isDialogOpen||r&&r.onlyExternalTrigger||r&&r.onlyClickTrigger||a.activate()}),(u.onCameraEnter||u.onCameraExit)&&a.addComponent(new M(new q(r&&r.reactDistance?r.reactDistance:6,Vector3.Zero()),u)),r&&r.faceUser&&(a.addComponent(new s(!0,r.turningSpeed?r.turningSpeed:void 0)),a.faceUser=!0),r&&r.walkingSpeed&&(a.walkingSpeed=r.walkingSpeed),r&&r.coolDownDuration&&(a.coolDownDuration=r.coolDownDuration),r&&r.path&&(a.addComponent(new K(r.path?r.path:[],r.pathLerpType)),a.getComponent(K).loop=!0,a.followPath()),a}return i(o,e),o.prototype.activate=function(){var t=this;this.faceUser&&(this.getComponent(s).active=!0),this.inCooldown=!0,this.addComponentOrReplace(new w(this.coolDownDuration,(function(){t.inCooldown=!1}))),this.onActivate()},o.prototype.endInteraction=function(){this.faceUser&&(this.getComponent(s).active=!1),this.dialog&&this.dialog.isDialogOpen&&this.dialog.closeDialogWindow(),this.bubble&&this.bubble.isBubleOpen&&this.bubble.closeDialogWindow(),this.state=t.NPCState.STANDING},o.prototype.handleWalkAway=function(){this.state!=t.NPCState.FOLLOWPATH&&(this.endInteraction(),this.onWalkAway&&this.onWalkAway())},o.prototype.talk=function(e,i,o){var n=this;this.introduced=!0,this.state=t.NPCState.TALKING,this.closeDialogTimer.hasComponent(w)&&this.closeDialogTimer.removeComponent(w),this.bubble&&this.bubble.isBubleOpen&&this.bubble.closeDialogWindow(),this.dialog.openDialogWindow(e,i||0),o&&this.closeDialogTimer.addComponentOrReplace(new w(o,(function(){n.dialog.closeDialogWindow()})))},o.prototype.talkBubble=function(t,e){this.bubble||(this.bubble=new tt(this,this.bubbleHeight)),this.bubble.openDialogWindow(t,e||0)},o.prototype.playAnimation=function(t,e,i){var o=this;this.endAnimTimer.hasComponent(w)&&this.endAnimTimer.removeComponent(w);var n=this.getComponent(Animator).getClip(t);e&&(n.looping=!1,i&&this.endAnimTimer.addComponentOrReplace(new w(i,(function(){n.stop(),o.idleAnim&&(o.idleAnim.play(),o.lastPlayedAnim=o.idleAnim)})))),n.play(!0),this.lastPlayedAnim=n},o.prototype.changeIdleAnim=function(t,e){this.idleAnim=new AnimationState(t,{looping:!0}),this.getComponent(Animator).addClip(this.idleAnim),e&&(this.idleAnim.play(),this.lastPlayedAnim=this.idleAnim)},o.prototype.followPath=function(e){if(!this.hasComponent(K)){if(!e)return;this.addComponent(new K(e.path?e.path:[],e.pathLerpType))}this.faceUser&&(this.getComponent(s).active=!1);var i=this.getComponent(K);if(e){if(e.path)if(e.curve){var o=Curve3.CreateCatmullRomSpline(e.path,4*e.path.length,!!e.loop).getPoints();e.loop&&o.pop(),i.path=o}else i.path=e.path;null!=e.loop&&(i.loop=e.loop),null!=e.startingPoint&&i.setIndex(e.startingPoint),e.onFinishCallback&&(i.onFinishCallback=e.onFinishCallback),e.onReachedPointCallback&&(i.onReachedPointCallback=e.onReachedPointCallback)}var n=this.getComponent(Transform),r=n.position,a=i.path[i.origin];void 0===a&&log(\"WARNING npc.utils lerpOriginPath is null\",a,i.origin,i.target,i.path),(0==i.fraction&&a.subtract(r).lengthSquared()>.1||i.fraction>0&&r.subtract(a).normalize()==i.path[i.target].subtract(a).normalize())&&(i.path.splice(i.origin,0,r),i.fraction=0),void 0===i.path[i.target]&&log(\"npc.utils lerp.path[lerp.target] is null\",a,i.origin,i.target,i.path),n.lookAt(i.path[i.target]);for(var h=0,u=[],l=0;l<i.path.length-1;l++){var c;h+=c=Vector3.Distance(i.path[l],i.path[l+1]),u.push(c)}i.loop&&(h+=c=Vector3.Distance(i.path[i.path.length-1],i.path[0]),u.push(c));e&&e.totalDuration?i.totalDuration=e.totalDuration:e&&e.speed?i.totalDuration=h/e.speed:i.totalDuration||(i.totalDuration=h/this.walkingSpeed),i.speed=[];for(l=0;l<u.length;l++)i.speed.push(1/(u[l]/h*i.totalDuration));this.walkingAnim&&(this.endAnimTimer.hasComponent(w)&&this.endAnimTimer.removeComponent(w),this.walkingAnim.play(),this.lastPlayedAnim=this.walkingAnim),this.state=t.NPCState.FOLLOWPATH},o.prototype.stopWalking=function(e){var i=this;this.state=t.NPCState.STANDING,this.walkingAnim&&(this.idleAnim.play(),this.lastPlayedAnim=this.idleAnim),e&&this.pauseWalkingTimer.addComponentOrReplace(new w(e,(function(){i.dialog&&i.dialog.isDialogOpen||(i.lastPlayedAnim.stop(),i.walkingAnim&&(i.walkingAnim.play(),i.lastPlayedAnim=i.walkingAnim),i.endAnimTimer.hasComponent(w)&&i.endAnimTimer.removeComponent(w),i.state=t.NPCState.FOLLOWPATH)})))},o}(Entity);t.CustomDialogButton=F,t.DialogTypeInSystem=Y,t.DialogWindow=U,t.NPC=it,t.NPCDelay=w,t.NPCLerpData=K,t.NPCTriggerComponent=M,t.SFFont=p,t.SFHeavyFont=d,t.TrackUserFlag=s,t.TriggerBoxShape=j,t.TriggerSphereShape=q,t.canvas=u,t.darkTheme=m,t.lightTheme=f,Object.defineProperty(t,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=index.js.map\n",
    "sha256": "131f58950e5a655e0b67790daf16d8bc7b64495926b438879e16121b719cd383"
  },
  {
    "path": "node_modules/@dcl/ui-scene-utils/dist/index.js",
    "content": "!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define(\"@dcl/ui-scene-utils\",[\"exports\"],e):e((t=\"undefined\"!=typeof globalThis?globalThis:t||self)[\"ui-utils\"]={})}(this,(function(t){\"use strict\";\n/*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,i)};function i(t,i){function o(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}var o=function(){return(o=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function n(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(i[o[n]]=t[o[n]])}return i}function r(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}var s=function(){function t(t,i){var o=this;l.createAndAddToEngine(),this.elapsedTime=0,this.targetTime=t,this.onTimeReachedCallback=i,this.onTargetTimeReached=function(t){o.onTimeReachedCallback(),t.removeComponent(e)}}var e;return e=t,t.prototype.setCallback=function(t){this.onTimeReachedCallback=t},t=e=function(t,e,i,o){var n,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(r<3?n(s):r>3?n(e,i,s):n(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s}([Component(\"UItimerDelay\")],t)}(),c=engine.getComponentGroup(s),l=function(){function t(){t._instance=this}return t.createAndAddToEngine=function(){return null==this._instance&&(this._instance=new t,engine.addSystem(this._instance)),this._instance},t.prototype.update=function(t){var e,i;try{for(var o=r(c.entities),n=o.next();!n.done;n=o.next()){var l=n.value,u=l.getComponent(s);u.elapsedTime+=t,u.elapsedTime>=u.targetTime&&u.onTargetTimeReached(l)}}catch(t){e={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}},t._instance=null,t}(),u=new UICanvas;u.visible=!0;var a=new Font(Fonts.SanFrancisco),h=new Font(Fonts.SanFrancisco_Heavy),g=new Texture(\"https://decentraland.org/images/ui/light-atlas-v3.png\"),p=new Texture(\"https://decentraland.org/images/ui/dark-atlas-v3.png\"),b=new UIText(u);b.vAlign=\"center\",b.hAlign=\"center\",b.hTextAlign=\"center\",b.vTextAlign=\"center\",b.font=a,b.fontSize=60,b.color=new Color4(0,0,0,1),b.visible=!1,b.positionY=80;var d=new UIImage(u,g);d.hAlign=\"center\",d.vAlign=\"center\",d.width=400,d.height=250,d.visible=!1;var f,v,m,A,T=function(t){function e(e,i,o,n,r,s,c){var l=t.call(this)||this;return l.canvas=u,l.valueAsNum=e,l.uiText=new UIText(u),l.fixedDigits=c||null,l.uiText.value=l.toFixedLengthString(e),l.uiText.hAlign=\"right\",l.uiText.vAlign=\"bottom\",l.uiText.positionX=i||0,l.uiText.positionY=o||0,l.uiText.fontSize=r||25,l.uiText.font=a,l.uiText.vTextAlign=\"center\",l.uiText.hTextAlign=\"center\",l.uiText.color=n||Color4.White(),l.uiText.outlineColor=Color4.Black(),l.uiText.outlineWidth=s?0:.1,l}return i(e,t),e.prototype.read=function(){return this.valueAsNum},e.prototype.increase=function(t){this.valueAsNum+=t||1,this.uiText.value=this.toFixedLengthString(this.valueAsNum)},e.prototype.decrease=function(t){this.valueAsNum-=t||1,this.uiText.value=this.toFixedLengthString(this.valueAsNum)},e.prototype.set=function(t){this.valueAsNum=t,this.uiText.value=this.toFixedLengthString(this.valueAsNum)},e.prototype.hide=function(){this.uiText.visible=!1},e.prototype.show=function(){this.uiText.visible=!0},e.prototype.toFixedLengthString=function(t){var e=t.toString();if(!this.fixedDigits)return e;for(var i=e.length-this.fixedDigits;i<0;)e=\"0\".concat(e),i+=1;return i>0&&(e=t.toPrecision(this.fixedDigits)),e},e}(Entity);(f=t.PromptStyles||(t.PromptStyles={})).LIGHT=\"light\",f.DARK=\"dark\",f.LIGHTLARGE=\"lightlarge\",f.DARKLARGE=\"darklarge\",f.LIGHTSLANTED=\"lightslanted\",f.DARKSLANTED=\"darkslanted\",(v=t.BarStyles||(t.BarStyles={})).ROUNDBLACK=\"roundblack\",v.ROUNDWHITE=\"roundwhite\",v.ROUNDSILVER=\"roundsilver\",v.ROUNDGOLD=\"roundgold\",v.SQUAREBLACK=\"squareblack\",v.SQUAREWHITE=\"squarewhite\",v.SQUARESILVER=\"squaresilver\",v.SQUAREGOLD=\"squaregold\",(m=t.ButtonStyles||(t.ButtonStyles={})).E=\"e\",m.F=\"f\",m.DARK=\"dark\",m.RED=\"red\",m.ROUNDBLACK=\"roundblack\",m.ROUNDWHITE=\"roundwhite\",m.ROUNDSILVER=\"roundsilver\",m.ROUNDGOLD=\"roundgold\",m.SQUAREBLACK=\"squareblack\",m.SQUAREWHITE=\"squarewhite\",m.SQUARESILVER=\"squaresilver\",m.SQUAREGOLD=\"squaregold\",(A=t.SwitchStyles||(t.SwitchStyles={})).ROUNDGREEN=\"roundgreen\",A.ROUNDRED=\"roundred\",A.SQUAREGREEN=\"squaregreen\",A.SQUARERED=\"squarered\";var x={buttonE:{sourceWidth:174,sourceHeight:46,sourceLeft:512,sourceTop:662},buttonF:{sourceWidth:174,sourceHeight:46,sourceLeft:512,sourceTop:612},white:{sourceWidth:174,sourceHeight:46,sourceLeft:698,sourceTop:662},buttonRed:{sourceWidth:174,sourceHeight:46,sourceLeft:512,sourceTop:662},buttonDark:{sourceWidth:174,sourceHeight:46,sourceLeft:512,sourceTop:612},roundBlack:{sourceWidth:128,sourceHeight:32,sourceLeft:512,sourceTop:458},squareBlack:{sourceWidth:128,sourceHeight:32,sourceLeft:646,sourceTop:457},roundWhite:{sourceWidth:128,sourceHeight:32,sourceLeft:512,sourceTop:494},squareWhite:{sourceWidth:128,sourceHeight:32,sourceLeft:646,sourceTop:493},roundSilver:{sourceWidth:128,sourceHeight:32,sourceLeft:512,sourceTop:531},squareSilver:{sourceWidth:128,sourceHeight:32,sourceLeft:646,sourceTop:531},roundGold:{sourceWidth:128,sourceHeight:32,sourceLeft:512,sourceTop:567},squareGold:{sourceWidth:128,sourceHeight:32,sourceLeft:646,sourceTop:567}},I={E:{sourceWidth:26,sourceHeight:26,sourceLeft:697,sourceTop:611},F:{sourceWidth:26,sourceHeight:26,sourceLeft:733,sourceTop:611},EBlack:{sourceWidth:26,sourceHeight:26,sourceLeft:766,sourceTop:611},FBlack:{sourceWidth:26,sourceHeight:26,sourceLeft:802,sourceTop:611}},k={promptBackground:{sourceWidth:416,sourceHeight:352,sourceLeft:501,sourceTop:12},promptLargeBackground:{sourceWidth:480,sourceHeight:384,sourceLeft:7,sourceTop:12},promptSlantedBackground:{sourceWidth:486,sourceHeight:326,sourceLeft:7,sourceTop:413},NPCDialog:{sourceWidth:766,sourceHeight:248,sourceLeft:22,sourceTop:756}},w={closeW:{sourceWidth:32,sourceHeight:32,sourceLeft:942,sourceTop:306},closeD:{sourceWidth:32,sourceHeight:32,sourceLeft:986,sourceTop:306},closeWLarge:{sourceWidth:64,sourceHeight:64,sourceLeft:512,sourceTop:381},closeDLarge:{sourceWidth:64,sourceHeight:64,sourceLeft:583,sourceTop:381},closeWNoBack:{sourceWidth:24,sourceHeight:24,sourceLeft:946,sourceTop:252},closeDNoBack:{sourceWidth:24,sourceHeight:24,sourceLeft:946,sourceTop:214},closeWNoBackLarge:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:214},closeDNoBackLarge:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:260},FDark:{sourceWidth:32,sourceHeight:32,sourceLeft:950,sourceTop:4},FWhite:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:4},EDark:{sourceWidth:32,sourceHeight:32,sourceLeft:950,sourceTop:40},EWhite:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:40},Timer:{sourceWidth:24,sourceHeight:32.2,sourceLeft:718,sourceTop:388},TimerLarge:{sourceWidth:48,sourceHeight:68,sourceLeft:662,sourceTop:386},ClickWhite:{sourceWidth:32,sourceHeight:48,sourceLeft:799,sourceTop:389},ClickDark:{sourceWidth:32,sourceHeight:48,sourceLeft:757,sourceTop:389}},y={wOff:{sourceWidth:24,sourceHeight:24,sourceLeft:987,sourceTop:76},wOn:{sourceWidth:24,sourceHeight:24,sourceLeft:987,sourceTop:104},dOff:{sourceWidth:24,sourceHeight:24,sourceLeft:958,sourceTop:76},dOn:{sourceWidth:24,sourceHeight:24,sourceLeft:958,sourceTop:104},wLargeOff:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:132},wLargeOn:{sourceWidth:32,sourceHeight:32,sourceLeft:987,sourceTop:168},dLargeOff:{sourceWidth:32,sourceHeight:32,sourceLeft:950,sourceTop:132},dLargeOn:{sourceWidth:32,sourceHeight:32,sourceLeft:950,sourceTop:168}},L={roundOff:{sourceWidth:64,sourceHeight:32,sourceLeft:783,sourceTop:454},roundRed:{sourceWidth:64,sourceHeight:32,sourceLeft:853,sourceTop:454},roundGreen:{sourceWidth:64,sourceHeight:32,sourceLeft:923,sourceTop:454},squareOff:{sourceWidth:64,sourceHeight:32,sourceLeft:783,sourceTop:501},squareRed:{sourceWidth:64,sourceHeight:32,sourceLeft:852,sourceTop:501},squareGreen:{sourceWidth:64,sourceHeight:32,sourceLeft:921,sourceTop:501}};function S(t,e){t.sourceWidth=e.sourceWidth,t.sourceHeight=e.sourceHeight,t.sourceLeft=e.sourceLeft?e.sourceLeft:0,t.sourceTop=e.sourceTop?e.sourceTop:0}function B(t){var e=-10-4*t;return e>-65?e:-65}var C=function(e){function o(i,o,n,r,s,c,l){var a=e.call(this)||this;if(a.canvas=u,a.valueAsNum=i>1?1:i,a.fullWidth=c?128*c:128,a.background=new UIImage(u,g),a.background.width=c?128*c:128,a.background.height=c?32*c:32,a.background.hAlign=\"right\",a.background.vAlign=\"bottom\",a.background.positionX=o||0,a.background.positionY=n||0,s)switch(s){case t.BarStyles.ROUNDBLACK:S(a.background,x.roundBlack);break;case t.BarStyles.ROUNDWHITE:S(a.background,x.roundWhite);break;case t.BarStyles.ROUNDSILVER:S(a.background,x.roundSilver);break;case t.BarStyles.ROUNDGOLD:S(a.background,x.roundGold);break;case t.BarStyles.SQUAREBLACK:S(a.background,x.squareBlack);break;case t.BarStyles.SQUAREWHITE:S(a.background,x.squareWhite);break;case t.BarStyles.SQUARESILVER:S(a.background,x.squareSilver);break;case t.BarStyles.SQUAREGOLD:S(a.background,x.squareGold)}else S(a.background,x.roundSilver);return a.background.sourceWidth=128,a.background.sourceHeight=32,a.background.visible=!0,a.bar=new UIContainerRect(a.background),a.bar.color=r||Color4.Red(),a.bar.thickness=0,a.bar.hAlign=\"left\",a.bar.vAlign=\"center\",a.bar.positionX=c?2.55*c:2.55,a.bar.positionY=0,a.bar.height=c?32*c-7.5*c:24.5,a.bar.width=c?a.fullWidth*a.valueAsNum-5.1*c:a.fullWidth*a.valueAsNum-5.1,l&&a.hide(),a}return i(o,e),o.prototype.read=function(){return this.valueAsNum},o.prototype.increase=function(t){this.valueAsNum+=t||.1,this.bar.width=this.fullWidth*this.valueAsNum-6},o.prototype.decrease=function(t){this.valueAsNum-=t||.1,this.bar.width=this.fullWidth*this.valueAsNum-6},o.prototype.set=function(t){this.valueAsNum=t,this.bar.width=this.fullWidth*this.valueAsNum-6},o.prototype.hide=function(){this.background.visible=!1,this.bar.visible=!1},o.prototype.show=function(){this.background.visible=!0,this.bar.visible=!0},o}(Entity),E=function(t){function e(e,i,o,n,r,s){var c=t.call(this)||this;c.canvas=u;var l=new Texture(e);return c.image=new UIImage(u,l),c.image.hAlign=\"right\",c.image.vAlign=\"bottom\",c.image.positionX=i||0,c.image.positionY=o||0,c.image.width=n||64,c.image.height=r||64,c.image.sourceLeft=s&&s.sourceLeft?s.sourceLeft:0,c.image.sourceTop=s&&s.sourceTop?s.sourceTop:0,c.image.sourceWidth=s&&s.sourceWidth?s.sourceWidth:n||64,c.image.sourceHeight=s&&s.sourceHeight?s.sourceHeight:r||64,c}return i(e,t),e.prototype.hide=function(){this.image.visible=!1},e.prototype.show=function(t){var e=this;if(this.image.visible=!0,t){var i=new Entity;engine.addEntity(i),i.addComponentOrReplace(new s(t,(function(){e.hide()})))}},e}(Entity),O=function(t){function e(e,i,o,n,r,s){var c=t.call(this)||this;c.canvas=u;var l=new Texture(e);return c.image=new UIImage(u,l),c.image.hAlign=\"right\",c.image.vAlign=\"bottom\",c.image.positionX=i||0,c.image.positionY=o||0,c.image.width=n||32,c.image.height=r||32,c.image.sourceLeft=s&&s.sourceLeft?s.sourceLeft:0,c.image.sourceTop=s&&s.sourceTop?s.sourceTop:0,c.image.sourceWidth=s?s.sourceWidth:n||32,c.image.sourceHeight=s?s.sourceHeight:r||32,c}return i(e,t),e.prototype.hide=function(){this.image.visible=!1},e.prototype.show=function(t){var e=this;if(this.image.visible=!0,t){var i=new Entity;engine.addEntity(i),i.addComponentOrReplace(new s(t,(function(){e.hide()})))}},e}(Entity),U=function(t){function e(e,i,o,n,r,s){var c=t.call(this)||this;c.canvas=u;var l=new Texture(e);return c.image=new UIImage(u,l),c.image.hAlign=\"right\",c.image.vAlign=\"bottom\",c.image.positionX=i||0,c.image.positionY=o||0,c.image.width=n||128,c.image.height=r||128,c.image.sourceLeft=s&&s.sourceLeft?s.sourceLeft:0,c.image.sourceTop=s&&s.sourceTop?s.sourceTop:0,c.image.sourceWidth=s?s.sourceWidth:n||128,c.image.sourceHeight=s?s.sourceHeight:r||128,c}return i(e,t),e.prototype.hide=function(){this.image.visible=!1},e.prototype.show=function(t){var e=this;if(this.image.visible=!0,t){var i=new Entity;engine.addEntity(i),i.addComponentOrReplace(new s(t,(function(){e.hide()})))}},e}(Entity),R=function(t){function e(e,i,o,n,r,c,l,a){var h=t.call(this)||this;h.canvas=u;var g=new Texture(e);if(h.image=new UIImage(u,g),h.image.hAlign=\"center\",h.image.vAlign=\"center\",h.image.positionX=n||0,h.image.positionY=r||0,h.image.width=c||512,h.image.height=l||512,h.image.sourceLeft=a&&a.sourceLeft?a.sourceLeft:0,h.image.sourceTop=a&&a.sourceTop?a.sourceTop:0,h.image.sourceWidth=a?a.sourceWidth:c||512,h.image.sourceHeight=a?a.sourceHeight:l||512,h.image.visible=!o,-1!=i){var p=new Entity;engine.addEntity(p),p.addComponentOrReplace(new s(i||3,(function(){h.hide()})))}return h}return i(e,t),e.prototype.hide=function(){this.image.visible=!1},e.prototype.show=function(t){var e=this;if(this.image.visible=!0,t){var i=new Entity;engine.addEntity(i),i.addComponentOrReplace(new s(t,(function(){e.hide()})))}},e}(Entity),W=function(t){function e(e,i,o,n){var r=t.call(this)||this;r.canvas=u,r.UIOpenTime=+Date.now(),r.background=new UIImage(u,g),r.background.hAlign=\"center\",r.background.vAlign=\"center\",r.onAccept=i||null;var s=n?p:g;return r.background.source=s,r.background.width=400,r.background.height=250,r.background.positionY=0,S(r.background,k.promptBackground),r.background.visible=!0,r.closeIcon=new UIImage(r.background,s),r.closeIcon.positionX=175,r.closeIcon.positionY=100,r.closeIcon.width=32,r.closeIcon.height=32,S(r.closeIcon,n?w.closeW:w.closeD),r.closeIcon.onClick=new OnClick((function(){r.close()})),r.text=new UIText(r.background),r.text.value=e,r.text.adaptWidth=!1,r.text.textWrapping=!0,r.text.width=380,r.text.hAlign=\"center\",r.text.vAlign=\"top\",r.text.positionX=0,r.text.positionY=-65,r.text.fontSize=24,r.text.font=a,r.text.vTextAlign=\"center\",r.text.hTextAlign=\"center\",r.text.color=n?Color4.White():Color4.Black(),r.button=new UIImage(r.background,s),r.button.positionX=0,r.button.positionY=-60,r.button.width=174,r.button.height=46,S(r.button,x.buttonE),r.icon=new UIImage(r.button,1==n?p:g),r.icon.width=26,r.icon.height=26,r.icon.hAlign=\"center\",r.icon.vAlign=\"center\",r.icon.isPointerBlocker=!1,S(r.icon,I.E),r.icon.positionX=B(o?o.length:2),r.buttonLabel=new UIText(r.button),r.buttonLabel.value=o||\"Ok\",r.buttonLabel.hTextAlign=\"center\",r.buttonLabel.vTextAlign=\"center\",r.buttonLabel.positionX=30,r.buttonLabel.fontSize=18,r.buttonLabel.font=a,r.buttonLabel.color=Color4.White(),r.buttonLabel.isPointerBlocker=!1,r.button.onClick=new OnClick((function(){r.accept()})),r.EButtonAction=Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,!1,(function(t){r.button.visible&&+Date.now()-r.UIOpenTime>100&&r.accept()})),r}return i(e,t),e.prototype.close=function(){this.background.visible=!1,this.closeIcon.visible=!1,this.button.visible=!1,this.text.visible=!1,this.buttonLabel.visible=!1},e.prototype.accept=function(){this.onAccept&&this.onAccept(),this.hide()},e.prototype.hide=function(){this.background.visible=!1,this.closeIcon.visible=!1,this.button.visible=!1,this.text.visible=!1,this.buttonLabel.visible=!1,Input.instance.unsubscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,this.EButtonAction)},e.prototype.show=function(){this.background.visible=!0,this.closeIcon.visible=!0,this.button.visible=!0,this.text.visible=!0,this.buttonLabel.visible=!0,Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,!1,this.EButtonAction)},e}(Entity),D=function(t){function e(e,i,o,n,r,s,c){var l=t.call(this)||this;l.canvas=u,l.UIOpenTime=+Date.now(),l.background=new UIImage(u,g),l.background.hAlign=\"center\",l.background.vAlign=\"center\",l.onAccept=o,l.onReject=n||null;var b=c?p:g;return l.background.source=b,l.background.width=480,l.background.height=384,S(l.background,k.promptLargeBackground),l.background.visible=!0,l.closeIcon=new UIImage(l.background,b),l.closeIcon.positionX=215,l.closeIcon.positionY=164,l.closeIcon.width=32,l.closeIcon.height=32,S(l.closeIcon,c?w.closeW:w.closeD),l.closeIcon.onClick=new OnClick((function(){l.close()})),l.title=new UIText(l.background),l.title.value=e,l.title.adaptWidth=!1,l.title.textWrapping=!0,l.title.width=380,l.title.hAlign=\"center\",l.title.vAlign=\"top\",l.title.positionX=0,l.title.positionY=-20,l.title.font=h,l.title.fontSize=24,l.title.vTextAlign=\"center\",l.title.hTextAlign=\"center\",l.title.color=c?Color4.White():Color4.Black(),l.text=new UIText(l.background),l.text.value=i,l.text.adaptWidth=!1,l.text.textWrapping=!0,l.text.width=380,l.text.hAlign=\"center\",l.text.vAlign=\"top\",l.text.positionX=0,l.text.positionY=-145,l.text.fontSize=24,l.text.font=a,l.text.vTextAlign=\"center\",l.text.hTextAlign=\"center\",l.text.color=c?Color4.White():Color4.Black(),l.buttonE=new UIImage(l.background,b),l.buttonE.positionX=-100,l.buttonE.positionY=-120,l.buttonE.width=174,l.buttonE.height=46,S(l.buttonE,x.buttonE),l.buttonEIcon=new UIImage(l.buttonE,1==c?p:g),l.buttonEIcon.width=26,l.buttonEIcon.height=26,l.buttonEIcon.hAlign=\"center\",l.buttonEIcon.vAlign=\"center\",l.buttonEIcon.isPointerBlocker=!1,S(l.buttonEIcon,I.E),l.buttonEIcon.positionX=B(r?r.length:2),l.buttonELabel=new UIText(l.buttonE),l.buttonELabel.value=r||\"Ok\",l.buttonELabel.hTextAlign=\"center\",l.buttonELabel.vTextAlign=\"center\",l.buttonELabel.positionX=30,l.buttonELabel.fontSize=18,l.buttonELabel.font=a,l.buttonELabel.color=Color4.White(),l.buttonELabel.isPointerBlocker=!1,l.buttonE.onClick=new OnClick((function(){l.accept()})),l.EButtonAction=Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,!1,(function(t){l.buttonE.visible&&+Date.now()-l.UIOpenTime>100&&l.accept()})),l.buttonF=new UIImage(l.background,b),l.buttonF.positionX=100,l.buttonF.positionY=-120,l.buttonF.width=174,l.buttonF.height=46,S(l.buttonF,x.buttonF),l.buttonFIcon=new UIImage(l.buttonF,1==c?p:g),l.buttonFIcon.width=26,l.buttonFIcon.height=26,l.buttonFIcon.hAlign=\"center\",l.buttonFIcon.vAlign=\"center\",l.buttonFIcon.isPointerBlocker=!1,S(l.buttonFIcon,I.F),l.buttonFIcon.positionX=B(s?s.length:6),l.buttonFLabel=new UIText(l.buttonF),l.buttonFLabel.value=s||\"Cancel\",l.buttonFLabel.hTextAlign=\"center\",l.buttonFLabel.vTextAlign=\"center\",l.buttonFLabel.positionX=30,l.buttonFLabel.fontSize=18,l.buttonFLabel.font=a,l.buttonFLabel.color=Color4.White(),l.buttonFLabel.isPointerBlocker=!1,l.buttonF.onClick=new OnClick((function(){l.reject()})),l.FButtonAction=Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.SECONDARY,!1,(function(t){l.buttonF.visible&&+Date.now()-l.UIOpenTime>100&&l.reject()})),l}return i(e,t),e.prototype.close=function(){this.background.visible=!1,this.closeIcon.visible=!1,this.buttonE.visible=!1,this.buttonF.visible=!1,this.text.visible=!1,this.buttonELabel.visible=!1,this.buttonFLabel.visible=!1,this.title.visible=!1},e.prototype.accept=function(){this.onAccept&&this.onAccept(),this.hide()},e.prototype.reject=function(){this.onReject&&this.onReject(),this.hide()},e.prototype.hide=function(){this.background.visible=!1,this.closeIcon.visible=!1,this.buttonE.visible=!1,this.buttonF.visible=!1,this.text.visible=!1,this.buttonELabel.visible=!1,this.buttonFLabel.visible=!1,this.buttonEIcon.visible=!1,this.buttonFIcon.visible=!1,Input.instance.unsubscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,this.EButtonAction),Input.instance.unsubscribe(\"BUTTON_DOWN\",ActionButton.SECONDARY,this.FButtonAction)},e.prototype.show=function(){this.background.visible=!0,this.closeIcon.visible=!0,this.buttonE.visible=!0,this.buttonF.visible=!0,this.text.visible=!0,this.buttonELabel.visible=!0,this.buttonFLabel.visible=!0,this.buttonEIcon.visible=!0,this.buttonFIcon.visible=!0,Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,!1,this.EButtonAction),Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.SECONDARY,!1,this.FButtonAction)},e}(Entity),H=function(t){function e(e,i,o,n,r){var s=t.call(this)||this;s.canvas=u,s.UIOpenTime=+Date.now(),s.background=new UIImage(u,g),s.background.hAlign=\"center\",s.background.vAlign=\"center\",s.onAccept=i;var c=r?p:g;s.background.source=c,s.background.width=400,s.background.height=250,S(s.background,k.promptBackground),s.background.visible=!0,s.text=new UIText(s.background),s.text.value=e,s.text.adaptWidth=!1,s.text.textWrapping=!0,s.text.width=320,s.text.hAlign=\"center\",s.text.vAlign=\"top\",s.text.positionX=0,s.text.positionY=-20,s.text.fontSize=24,s.text.font=h,s.text.vTextAlign=\"center\",s.text.hTextAlign=\"center\",s.text.color=r?Color4.White():Color4.Black(),s.closeIcon=new UIImage(s.background,c),s.closeIcon.positionX=175,s.closeIcon.positionY=100,s.closeIcon.width=32,s.closeIcon.height=32,S(s.closeIcon,r?w.closeW:w.closeD),s.closeIcon.onClick=new OnClick((function(){s.hide()})),s.button=new UIImage(s.background,c),s.button.positionX=0,s.button.positionY=-60,s.button.width=174,s.button.height=46,S(s.button,x.buttonE),s.icon=new UIImage(s.button,1==r?p:g),s.icon.width=26,s.icon.height=26,s.icon.hAlign=\"center\",s.icon.vAlign=\"center\",s.icon.isPointerBlocker=!1,S(s.icon,I.E),s.icon.positionX=B(o?o.length:6),s.buttonLabel=new UIText(s.button),s.buttonLabel.value=o||\"Submit\",s.buttonLabel.hTextAlign=\"center\",s.buttonLabel.vTextAlign=\"center\",s.buttonLabel.positionX=30,s.buttonLabel.fontSize=18,s.buttonLabel.font=a,s.buttonLabel.color=Color4.White(),s.buttonLabel.isPointerBlocker=!1,s.fillInBox=new UIInputText(s.background),s.fillInBox.color=Color4.Black(),s.fillInBox.font=a,s.fillInBox.width=312,s.fillInBox.height=46,s.fillInBox.positionX=0,s.fillInBox.positionY=15,s.fillInBox.placeholder=n||\"Fill in\",s.fillInBox.hTextAlign=\"center\",s.fillInBox.vTextAlign=\"center\",s.fillInBox.fontSize=22;var l=\"\";return s.fillInBox.onChanged=new OnChanged((function(t){l=t.value})),s.fillInBox.onTextSubmit=new OnTextSubmit((function(t){s.accept(l)})),s.button.onClick=new OnClick((function(){s.accept(l)})),s.EButtonAction=Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,!1,(function(t){s.button.visible&&+Date.now()-s.UIOpenTime>100&&s.accept(l)})),s}return i(e,t),e.prototype.close=function(){this.background.visible=!1,this.closeIcon.visible=!1,this.button.visible=!1,this.text.visible=!1,this.buttonLabel.visible=!1,this.fillInBox.visible=!1},e.prototype.accept=function(t){this.onAccept(t),this.hide()},e.prototype.hide=function(){this.background.visible=!1,this.closeIcon.visible=!1,this.button.visible=!1,this.text.visible=!1,this.buttonLabel.visible=!1,this.fillInBox.visible=!1,Input.instance.unsubscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,this.EButtonAction)},e.prototype.show=function(){this.background.visible=!0,this.closeIcon.visible=!0,this.button.visible=!0,this.text.visible=!0,this.buttonLabel.visible=!0,this.fillInBox.visible=!0,Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,!1,this.EButtonAction)},e}(Entity),F=function(e){function o(i,o,n,r){var s=e.call(this)||this;switch(s.elements=[],s.texture=g,s.darkTheme=!1,s.UIOpenTime=0,s.canvas=u,s.UIOpenTime=+Date.now(),s.background=new UIImage(u,g),s.background.hAlign=\"center\",s.background.vAlign=\"center\",s.closeIcon=new UIImage(s.background,s.texture),i||(i=t.PromptStyles.LIGHT),i){case t.PromptStyles.LIGHT:s.texture=g,S(s.background,k.promptBackground),S(s.closeIcon,w.closeD),s.closeIcon.positionX=o?o/2-25:175,s.closeIcon.positionY=n?n/2-25:145;break;case t.PromptStyles.DARK:s.texture=p,s.darkTheme=!0,S(s.background,k.promptBackground),S(s.closeIcon,w.closeW),s.closeIcon.positionX=o?o/2-25:175,s.closeIcon.positionY=n?n/2-25:145;break;case t.PromptStyles.LIGHTLARGE:s.texture=g,S(s.background,k.promptLargeBackground),S(s.closeIcon,w.closeD),s.closeIcon.positionX=o?o/2-25:215,s.closeIcon.positionY=n?n/2-25:165;break;case t.PromptStyles.DARKLARGE:s.texture=p,s.darkTheme=!0,S(s.background,k.promptLargeBackground),S(s.closeIcon,w.closeW),s.closeIcon.positionX=o?o/2-25:215,s.closeIcon.positionY=n?n/2-25:165;break;case t.PromptStyles.LIGHTSLANTED:s.texture=g,S(s.background,k.promptSlantedBackground),S(s.closeIcon,w.closeD),s.closeIcon.positionX=o?o/2-25:215,s.closeIcon.positionY=n?n/2-25:138;break;case t.PromptStyles.DARKSLANTED:s.texture=p,s.darkTheme=!0,S(s.background,k.promptSlantedBackground),S(s.closeIcon,w.closeW),s.closeIcon.positionX=o?o/2-25:215,s.closeIcon.positionY=n?n/2-25:138;break;default:s.texture=new Texture(i),s.closeIcon.visible=!1}return s.background.source=s.texture,s.background.width=o||s.background.sourceWidth,s.background.height=n||s.background.sourceHeight,s.background.visible=!0,s.closeIcon.width=32,s.closeIcon.height=32,s.closeIcon.source=s.texture,s.closeIcon.onClick=new OnClick((function(){s.hide()})),r&&s.hide(),s}return i(o,e),o.prototype.hide=function(){var t,e;this.background.visible=!1,this.closeIcon.visible=!1;try{for(var i=r(this.elements),o=i.next();!o.done;o=i.next()){o.value.hide()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},o.prototype.show=function(){var t,e;this.background.visible=!0,this.closeIcon.visible=!0;try{for(var i=r(this.elements),o=i.next();!o.done;o=i.next()){o.value.show()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},o.prototype.addText=function(t,e,i,o,n){var r=new z(this,t,e,i,this.darkTheme,o||void 0,n||void 0);return this.elements.push(r),r},o.prototype.addButton=function(t,e,i,o,n){var r=new N(this,this.texture,this.UIOpenTime,t,e,i,o,n||void 0);return this.elements.push(r),r},o.prototype.addCheckbox=function(t,e,i,o,n,r,s){var c=new P(this,this.texture,this.darkTheme,t,e,i,o||void 0,n||void 0,r||void 0,s||void 0);return this.elements.push(c),c},o.prototype.addSwitch=function(t,e,i,o,n,r,s){var c=new Y(this,this.texture,this.darkTheme,t,e,i,o||void 0,n||void 0,r||void 0,s||void 0);return this.elements.push(c),c},o.prototype.addIcon=function(t,e,i,o,n,r){var s=new Texture(t),c=new X(this,s,e,i,o||void 0,n||void 0,r||void 0);return this.elements.push(c),c},o.prototype.addTextBox=function(t,e,i,o){var n=new G(this,t,e,i||void 0,o||void 0);return this.elements.push(n),n},o}(Entity),N=function(e){function o(i,o,n,r,s,c,l,u){var h=e.call(this)||this;if(h.icon=null,h.image=new UIImage(i.background,o),h.image.positionX=s,h.image.positionY=c,h.image.width=174,h.image.height=46,h.label=new UIText(h.image),u)switch(u){case t.ButtonStyles.E:S(h.image,x.buttonE),h.label.positionX=25,h.icon=new UIImage(h.image,o),h.icon.width=26,h.icon.height=26,h.icon.hAlign=\"center\",h.icon.vAlign=\"center\",h.icon.isPointerBlocker=!1,S(h.icon,I.E),h.icon.positionX=B(r.length);break;case t.ButtonStyles.F:S(h.image,x.buttonF),h.label.positionX=25,h.icon=new UIImage(h.image,o),h.icon.width=26,h.icon.height=26,h.icon.hAlign=\"center\",h.icon.vAlign=\"center\",h.icon.isPointerBlocker=!1,S(h.icon,I.F),h.icon.positionX=B(r.length);break;case t.ButtonStyles.RED:S(h.image,x.buttonRed);break;case t.ButtonStyles.DARK:S(h.image,x.buttonDark);break;case t.ButtonStyles.ROUNDBLACK:S(h.image,x.roundBlack);break;case t.ButtonStyles.ROUNDWHITE:S(h.image,x.roundWhite);break;case t.ButtonStyles.ROUNDSILVER:S(h.image,x.roundSilver);break;case t.ButtonStyles.ROUNDGOLD:S(h.image,x.roundGold);break;case t.ButtonStyles.SQUAREBLACK:S(h.image,x.squareBlack);break;case t.ButtonStyles.SQUAREWHITE:S(h.image,x.squareWhite);break;case t.ButtonStyles.SQUARESILVER:S(h.image,x.squareSilver);break;case t.ButtonStyles.SQUAREGOLD:S(h.image,x.squareGold);break;default:S(h.image,x.roundSilver)}else S(h.image,x.roundSilver);return h.label.value=r,h.label.hTextAlign=\"center\",h.label.vTextAlign=\"center\",h.label.fontSize=20,h.label.font=a,h.label.color=u==t.ButtonStyles.ROUNDWHITE||u==t.ButtonStyles.SQUAREWHITE?Color4.Black():Color4.White(),h.label.isPointerBlocker=!1,h.image.onClick=new OnClick((function(){l()})),u==t.ButtonStyles.E?Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.PRIMARY,!1,(function(t){h.image.visible&&+Date.now()-n>100&&l()})):u==t.ButtonStyles.F&&Input.instance.subscribe(\"BUTTON_DOWN\",ActionButton.SECONDARY,!1,(function(t){h.image.visible&&+Date.now()-n>100&&l()})),h}return i(o,e),o.prototype.hide=function(){this.image.visible=!1},o.prototype.show=function(){this.image.visible=!0},o.prototype.grayOut=function(){this.label.color=Color4.Gray(),this.image.isPointerBlocker=!1,this.icon&&(this.icon.visible=!1)},o.prototype.enable=function(){this.label.color=Color4.White(),this.image.isPointerBlocker=!0,this.icon&&(this.icon.visible=!0)},o}(Entity),P=function(t){function e(e,i,o,n,r,s,c,l,u,h){var g=t.call(this)||this;return g.checked=!!h,g.darkTheme=o,g.large=u||!1,g.image=new UIImage(e.background,i),g.image.positionX=r,g.image.positionY=s,g.image.width=u?32:24,g.image.height=u?32:24,0==g.checked?g.uncheck():g.check(),g.label=new UIText(g.image),g.label.positionX=u?40:30,g.label.color=o?Color4.White():Color4.Black(),g.label.value=n,g.label.hTextAlign=\"left\",g.label.vTextAlign=\"center\",g.label.fontSize=20,g.label.font=a,g.label.isPointerBlocker=!1,g.image.onClick=new OnClick((function(){0==g.checked?g.check():g.uncheck(),g.checked?c&&c():l&&l()})),g}return i(e,t),e.prototype.hide=function(){this.image.visible=!1,this.label.visible=!1},e.prototype.show=function(){this.image.visible=!0,this.label.visible=!0},e.prototype.uncheck=function(){this.checked=!1,this.darkTheme?this.large?S(this.image,y.wLargeOff):S(this.image,y.wOff):this.large?S(this.image,y.dLargeOff):S(this.image,y.dOff)},e.prototype.check=function(){this.checked=!0,this.darkTheme?this.large?S(this.image,y.wLargeOn):S(this.image,y.wOn):this.large?S(this.image,y.dLargeOn):S(this.image,y.dOn)},e}(Entity),Y=function(e){function o(i,o,n,r,s,c,l,u,h,g){var p=e.call(this)||this;return p.checked=!!g,p.darkTheme=n,p.style=h||t.SwitchStyles.ROUNDGREEN,p.image=new UIImage(i.background,o),p.image.positionX=s,p.image.positionY=c,p.image.width=64,p.image.height=32,0==p.checked?p.check():p.uncheck(),p.label=new UIText(p.image),p.label.positionX=80,p.label.color=n?Color4.White():Color4.Black(),p.label.value=r,p.label.hTextAlign=\"left\",p.label.vTextAlign=\"center\",p.label.fontSize=20,p.label.font=a,p.label.isPointerBlocker=!1,p.image.onClick=new OnClick((function(){0==p.checked?p.check():p.uncheck(),p.checked?l&&l():u&&u()})),p}return i(o,e),o.prototype.hide=function(){this.image.visible=!1,this.label.visible=!1},o.prototype.show=function(){this.image.visible=!0,this.label.visible=!0},o.prototype.check=function(){switch(this.checked=!0,this.style){case t.SwitchStyles.ROUNDGREEN:S(this.image,L.roundGreen);break;case t.SwitchStyles.ROUNDRED:S(this.image,L.roundRed);break;case t.SwitchStyles.SQUAREGREEN:S(this.image,L.squareGreen);break;case t.SwitchStyles.SQUARERED:S(this.image,L.squareRed)}},o.prototype.uncheck=function(){this.checked=!1,this.style==t.SwitchStyles.ROUNDGREEN||this.style==t.SwitchStyles.ROUNDRED?S(this.image,L.roundOff):S(this.image,L.squareOff)},o}(Entity),X=function(t){function e(e,i,o,n,r,s,c){var l=t.call(this)||this;return l.image=new UIImage(e.background,i),l.image.positionX=o,l.image.positionY=n,l.image.width=r||128,l.image.height=s||128,l.image.sourceLeft=c&&c.sourceLeft?c.sourceLeft:0,l.image.sourceTop=c&&c.sourceTop?c.sourceTop:0,l.image.sourceWidth=c&&c.sourceWidth?c.sourceWidth:r||128,l.image.sourceHeight=c&&c.sourceHeight?c.sourceHeight:s||128,l}return i(e,t),e.prototype.hide=function(){this.image.visible=!1},e.prototype.show=function(){this.image.visible=!0},e}(Entity),z=function(t){function e(e,i,o,n,r,s,c){var l=t.call(this)||this;return l.text=new UIText(e.background),l.text.value=i,l.text.positionX=o||0,l.text.positionY=n||0,l.text.hTextAlign=\"center\",l.text.color=s||(r?Color4.White():Color4.Black()),l.text.fontSize=c||15,l}return i(e,t),e.prototype.hide=function(){this.text.visible=!1},e.prototype.show=function(){this.text.visible=!0},e}(Entity),G=function(t){function e(e,i,o,n,r){var s=t.call(this)||this;return s.currentText=\"\",s.fillInBox=new UIInputText(e.background),s.fillInBox.color=Color4.Black(),s.fillInBox.font=a,s.fillInBox.width=312,s.fillInBox.height=46,s.fillInBox.positionX=i,s.fillInBox.positionY=o,s.fillInBox.placeholder=n||\"Fill in\",s.fillInBox.hTextAlign=\"center\",s.fillInBox.vTextAlign=\"center\",s.fillInBox.fontSize=22,s.fillInBox.onChanged=new OnChanged((function(t){s.fillInBox&&!s.fillInBox.visible||(s.currentText=t.value,r&&r(s.currentText))})),s.fillInBox.onTextSubmit=new OnTextSubmit((function(t){s.fillInBox&&!s.fillInBox.visible||(s.currentText=t.text,r&&r(s.currentText))})),s}return i(e,t),e.prototype.hide=function(){this.fillInBox.visible=!1},e.prototype.show=function(){this.fillInBox.visible=!0},e}(Entity),V=function(t){function e(e,i,o,n,r,s){var c=t.call(this)||this;return c.canvas=u,c.uiText=new UIText(u),c.uiText.value=e,c.uiText.hAlign=\"right\",c.uiText.vAlign=\"bottom\",c.uiText.positionX=i||0,c.uiText.positionY=o||0,c.uiText.fontSize=r||25,c.uiText.font=a,c.uiText.vTextAlign=\"center\",c.uiText.hTextAlign=\"center\",c.uiText.color=n||Color4.White(),c.uiText.outlineColor=Color4.Black(),c.uiText.outlineWidth=s?0:.1,c}return i(e,t),e.prototype.hide=function(){this.uiText.visible=!1},e.prototype.show=function(){this.uiText.visible=!0},e.prototype.set=function(t){this.uiText.value=t,this.uiText.visible=!0},e}(Entity),_=function(t){function e(e,i,o,n){var r=t.call(this)||this;if(r.canvas=u,r.image=new UIImage(u,g),r.image.hAlign=\"center\",r.image.vAlign=\"center\",r.image.positionX=i||0,r.image.positionY=o?o+80:80,r.image.width=n?48*n:48,r.image.height=n?64*n:64,S(r.image,w.TimerLarge),e&&0!=e){var c=new Entity;engine.addEntity(c),c.addComponentOrReplace(new s(e||3,(function(){r.hide()})))}return r}return i(e,t),e.prototype.hide=function(){this.image.visible=!1},e.prototype.show=function(){this.image.visible=!0},e}(Entity);function Q(t){return t&&\"object\"==typeof t&&!Array.isArray(t)}function q(t,e){var i=o({},t);return Q(t)&&Q(e)&&Object.keys(e).forEach((function(n){var r,s;Q(e[n])?n in t?i[n]=q(t[n],e[n]):i=o(o({},i),((r={})[n]=e[n],r)):i=o(o({},i),((s={})[n]=e[n],s))})),i}var j=function(){function t(t,e){this.shape=t,e&&this.setProperties(e)}return t.prototype.setProperties=function(t){var e,i;try{for(var o=r(Object.keys(t)),n=o.next();!n.done;n=o.next()){var s=n.value;this.shape[s]=t[s]}}catch(t){e={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}},t.prototype.getProperty=function(t){return this.shape[t]},t}(),M=function(t){function e(i,n){var r,s,c,l=t.call(this,new UIInputText(i),o(o({},n),{placeholder:null!==(r=null==n?void 0:n.placeholder)&&void 0!==r?r:null==n?void 0:n.value,onFocus:new OnFocus((function(){var t;l.isInputFocused=!0,null===(t=null==n?void 0:n.onFocus)||void 0===t||t.call(n)})),onBlur:new OnBlur((function(){var t,e;l.isInputFocused=!1,\"\"===l.inputValue&&void 0!==l.placeholder?(l.setInputValue(l.placeholder),null===(t=null==n?void 0:n.onBlur)||void 0===t||t.call(n,!0)):null===(e=null==n?void 0:n.onBlur)||void 0===e||e.call(n,!1)})),onChanged:new OnChanged((function(t){var i,o=t.value;if(l.shape.visible&&(l.inputValue=o,o!==l.placeholder&&(\"\"===o&&(l.shape.placeholder=\"\"),l.isInputFocused||\"\"===o))){var r=null!==(i=null==n?void 0:n.waitTime)&&void 0!==i?i:e.DEFAULT_WAIT_TIME;setTimeout((function(){var t;l.inputValue===o&&(null===(t=null==n?void 0:n.onChanged)||void 0===t||t.call(n,o))}),r)}})),onTextSubmit:new OnTextSubmit((function(t){var e=t.text,i=e.substr(0,e.length-1),o=null==n?void 0:n.onTextSubmit;o?o(i):setTimeout((function(){return l.shape.placeholder=i}),0)}))}))||this;return l.inputValue=\"\",l.isInputFocused=!1,l.placeholder=l.shape.placeholder,l.inputValue=null!==(c=null!==(s=null==n?void 0:n.value)&&void 0!==s?s:null==n?void 0:n.placeholder)&&void 0!==c?c:\"\",l.isInputFocused=!1,l}return i(e,t),e.prototype.getValue=function(){return this.inputValue},e.prototype.isFocused=function(){return this.isInputFocused},e.prototype.setInputValue=function(t){var e=this.isInputFocused;this.isInputFocused=!1,this.shape.placeholder=\"\",this.inputValue=this.shape.placeholder=t,this.isInputFocused=e},e.prototype.reset=function(){this.setInputValue(this.placeholder)},e.prototype.hide=function(){this.setProperties({visible:!1})},e.prototype.show=function(){this.setProperties({visible:!0}),this.setInputValue(this.inputValue)},e.DEFAULT_WAIT_TIME=650,e}(j),K=function(t){function e(e,i){var n=t.call(this,new UIContainerRect(e),o({isPointerBlocker:!0},i))||this,r=new UIImage(n.shape,new Texture(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\"));return r.width=\"100%\",r.height=\"100%\",r.sourceWidth=1,r.sourceHeight=1,r.isPointerBlocker=!0,n.image=r,(null==i?void 0:i.onClick)&&n.setOnClick(i.onClick),n}return i(e,t),e.prototype.performClick=function(){var t;null===(t=this.image.onClick)||void 0===t||t.callback({})},e.prototype.setOnClick=function(t){this.image.onClick=new OnClick(t)},e.prototype.clearOnClick=function(){this.image.onClick=null},e}(j),J=function(t){function e(i,n){var r=t.call(this,new UIContainerRect(i),o({width:\"100%\",vAlign:\"top\",visible:!1},n))||this;r.config=o(o({},e.DEFAULTS),n);var s=new K(r.shape,{width:\"100%\",height:\"100%\",color:Color4.Clear()});r.clickableContainer=s;var c=new UIImage(s.shape,new Texture(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=\"));c.width=c.height=r.config.imageSize,c.hAlign=\"left\",c.positionX=10,c.vAlign=\"center\",r.image=c;var l=new UIText(s.shape);l.vAlign=\"top\",l.hAlign=\"left\",l.vTextAlign=\"top\",l.fontSize=r.config.topFontSize,l.color=r.config.topTextColor,l.positionX=55,l.positionY=-10,l.isPointerBlocker=!1,r.topLeftText=l;var u=new UIText(s.shape);u.vAlign=\"top\",u.hAlign=\"right\",u.vTextAlign=\"top\",u.hTextAlign=\"right\",u.fontSize=l.fontSize,u.color=l.color,u.isPointerBlocker=!1,u.positionX=-10,u.positionY=l.positionY,r.topRightText=u;var a=new UIText(s.shape);a.vAlign=\"bottom\",a.hAlign=\"left\",a.vTextAlign=\"bottom\",a.fontSize=r.config.bottomFontSize,a.color=r.config.bottomTextColor,a.positionX=l.positionX,a.positionY=10,a.isPointerBlocker=!1,r.bottomLeftText=a;var h=new UIText(s.shape);return h.vAlign=\"bottom\",h.hAlign=\"right\",h.vTextAlign=\"bottom\",h.hTextAlign=\"right\",h.fontSize=a.fontSize,h.color=a.color,h.isPointerBlocker=!1,h.positionX=u.positionX,h.positionY=a.positionY,r.bottomRightText=h,r}return i(e,t),e.prototype.setOption=function(t,e){this.image.visible=!1,this.topRightText.visible=!1,this.bottomLeftText.visible=!1,this.bottomRightText.visible=!1,t.image?(this.image.source=new Texture(t.image.src),this.image.sourceWidth=t.image.sourceWidth,this.image.sourceHeight=t.image.sourceHeight,this.image.visible=!0,this.topLeftText.positionX=this.config.imageSize+20):this.topLeftText.positionX=10,\"string\"==typeof t.visualText?(this.topLeftText.value=t.visualText,this.topLeftText.vAlign=this.topLeftText.vTextAlign=\"center\",this.topLeftText.positionY=0):\"text\"in t.visualText?(this.topLeftText.vAlign=this.topLeftText.vTextAlign=\"top\",this.topLeftText.positionY=-10,this.topLeftText.value=t.visualText.text,this.bottomLeftText.value=t.visualText.subText,this.bottomLeftText.visible=!0,this.bottomLeftText.positionX=this.topLeftText.positionX):\"bottomLeft\"in t.visualText&&(this.topLeftText.vAlign=this.topLeftText.vTextAlign=\"top\",this.topLeftText.positionY=-10,this.topLeftText.value=t.visualText.topLeft,this.topRightText.value=t.visualText.topRight,this.bottomLeftText.value=t.visualText.bottomLeft,this.bottomRightText.value=t.visualText.bottomRight,this.topRightText.visible=!0,this.bottomLeftText.visible=!0,this.bottomRightText.visible=!0,this.bottomLeftText.positionX=this.topLeftText.positionX),e?this.clickableContainer.setOnClick(e):this.clickableContainer.clearOnClick()},e.prototype.setProperties=function(e){t.prototype.setProperties.call(this,e)},e.prototype.getProperty=function(e){return t.prototype.getProperty.call(this,e)},e.prototype.performClick=function(){this.clickableContainer.performClick()},e.DEFAULTS={topFontSize:14,bottomFontSize:14,imageSize:36,topTextColor:Color4.FromInts(14,16,60,255),bottomTextColor:Color4.FromInts(117,120,181,255)},e}(j),Z=function(t){function e(i,r,s,c){var l=t.call(this,new UIContainerRect(i),o({},s))||this;l.onSuccessfulSelection=c,l.uiOptions=[],l.options={},s.visible,s.opacity,s.hAlign,s.vAlign,s.positionX,s.positionY;var u=n(s,[\"visible\",\"opacity\",\"hAlign\",\"vAlign\",\"positionX\",\"positionY\"]);l.config=q(e.DEFAULTS,u),l.setProperties({width:l.config.width,height:l.config.initialHeight,color:l.config.borderColor}),l.setItems(r.items,r.dropdownDefaultItemIds);var a=new UIContainerRect(l.shape);a.color=l.config.backgroundColor,a.width=l.config.width-2*l.config.borderSize,a.height=l.config.initialHeight-2*l.config.borderSize,l.insideContainer=a;var h=new M(a,{vAlign:\"top\",hTextAlign:\"left\",vTextAlign:\"center\",width:\"92%\",fontSize:l.config.search.fontSize,placeholder:l.config.search.placeholder.defaultText,color:l.config.search.textColor,focusedBackground:Color4.Clear(),height:.95*l.config.initialHeight,onBlur:function(){return l.close()},onTextSubmit:function(){l.uiOptions[0].getProperty(\"visible\")?l.uiOptions[0].performClick():l.close()},onChanged:function(t){if(l.hideAllOptions(),t===l.config.search.placeholder.defaultText||\"\"===t)l.showDefaultOptions();else{var e=t.toLowerCase(),i=[];for(var o in l.options){var n=l.options[o];if(n.searchBy.toLowerCase().indexOf(e)>=0&&(i.push(n),i.length===l.config.options.maxVisibleOptions))break}i.length>0?l.showOptions(i):l.showErrorMessage(\"Sorry, we can't find \\\"\"+t+'\"')}}});l.inputText=h;for(var p=0;p<l.config.options.maxVisibleOptions;p++){var b=new J(a,o(o({},l.config.options),{height:l.config.initialHeight,positionY:-l.config.initialHeight-l.config.initialHeight*p,color:p%2==0?l.config.options.oddBackgroundColor:a.color}));l.uiOptions.push(b)}var d=new UIImage(a,g);d.onClick=new OnClick((function(){return l.close()})),d.sourceTop=305,d.sourceLeft=985,d.sourceWidth=d.sourceHeight=35,d.width=d.height=18,d.hAlign=\"right\",d.vAlign=\"top\",d.positionX=-12,d.positionY=-12,d.visible=d.isPointerBlocker=!0;var f=new UIText(a);return f.height=20,f.visible=!1,f.width=\"92%\",f.hTextAlign=\"center\",f.vAlign=\"bottom\",f.positionY=20,f.fontSize=l.config.errorMessage.fontSize,f.color=l.config.errorMessage.textColor,l.errorMessage=f,l}return i(e,t),e.prototype.open=function(){this.setProperties({visible:!0}),this.showDefaultOptions()},e.prototype.close=function(){this.setProperties({visible:!1}),this.inputText.reset()},e.prototype.setItems=function(t,e){this.options=t.reduce((function(t,e){var i;return e.searchBy=null!==(i=e.searchBy)&&void 0!==i?i:\"string\"==typeof e.visualText?e.visualText:\"text\"in e.visualText?e.visualText.text:e.visualText.topLeft,t[e.id]=e,t}),{}),e?this.setDropdownDefaults(e):this.defaultOptions=e,this.hideAllOptions()},e.prototype.setDropdownDefaults=function(t){var e,i;try{for(var o=r(t),n=o.next();!n.done;n=o.next()){var s=n.value;if(!(s in this.options))return void error(\"Couldn't find an option with id '\"+s+\"'. Will not set new defaults\")}}catch(t){e={error:t}}finally{try{n&&!n.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}this.defaultOptions=t},e.prototype.showDefaultOptions=function(){var t,e=this;if(this.defaultOptions)t=this.defaultOptions.map((function(t){return e.options[t]})).slice(0,this.config.options.maxVisibleOptions);else for(var i in t=[],this.options)if(t.push(this.options[i]),t.length===this.config.options.maxVisibleOptions)break;this.showOptions(t)},e.prototype.showOptions=function(t){var e=this;this.resizeHeight(this.config.initialHeight*t.length+2*this.config.borderSize),t.forEach((function(t,i){var o=e.uiOptions[i];o.setOption(t,(function(){e.onSuccessfulSelection(t),e.setProperties({visible:!1})})),o.setProperties({visible:!0})})),this.errorMessage.visible=!1},e.prototype.hideAllOptions=function(){this.uiOptions.forEach((function(t){return t.setProperties({visible:!1})}))},e.prototype.showErrorMessage=function(t){this.errorMessage.visible=!0,this.errorMessage.value=t,this.resizeHeight(60)},e.prototype.resizeHeight=function(t){this.setProperties({height:this.config.initialHeight+t}),this.insideContainer.height=this.config.initialHeight+t-2*this.config.borderSize},e.DEFAULTS={borderColor:Color4.FromInts(232,236,253,255),backgroundColor:Color4.White(),borderSize:2,width:300,initialHeight:60,search:{fontSize:16,textColor:Color4.FromInts(24,26,70,255),placeholder:{defaultText:\"Click to search\",textColor:Color4.FromInts(118,120,181,200)}},options:{maxVisibleOptions:5,oddBackgroundColor:Color4.FromInts(246,246,255,255),topFontSize:14,bottomFontSize:14,imageSize:36,topTextColor:Color4.FromInts(14,16,60,255),bottomTextColor:Color4.FromInts(117,120,181,255)},errorMessage:{fontSize:13,textColor:Color4.FromInts(125,127,157,255)}},e}(j),$=function(t){function e(e,i,r,s){var c=t.call(this,new UIContainerRect(e),o({},r))||this;c.onSuccessfulSelection=s,r.visible,r.opacity,r.hAlign,r.vAlign,r.positionX,r.positionY;var l=n(r,[\"visible\",\"opacity\",\"hAlign\",\"vAlign\",\"positionX\",\"positionY\"]);c.config=q(Z.DEFAULTS,l),c.setProperties({width:c.config.width,height:c.config.initialHeight,color:c.config.borderColor});var u=new K(c.shape,{color:c.config.backgroundColor,width:c.config.width-2*c.config.borderSize,height:c.config.initialHeight-2*c.config.borderSize,onClick:function(){return c.uiSearchPrompt.open()}}),a=new J(u.shape,o(o({},c.config.options),{height:c.config.initialHeight,color:Color4.Clear(),width:c.config.width-2*c.config.borderSize-20,visible:!0,hAlign:\"left\",isPointerBlocker:!1})),h=new UIText(u.shape);if(h.value=\"Click to select an option\",h.fontSize=c.config.search.fontSize,h.color=c.config.search.placeholder.textColor,h.vTextAlign=h.hTextAlign=\"center\",h.positionX=-c.config.borderSize-10,h.isPointerBlocker=!1,h.opacity=h.color.a,c.initialText=h,null==i?void 0:i.initialItemId){var g=i.items.filter((function(t){return t.id===i.initialItemId}))[0];g&&(a.setOption(g),c.initialText.visible=!1)}var p=new Texture(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAgMAAADXB5lNAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAN5AAADeQELGyzWAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAAlQTFRF////AAAAAAAAflGpXQAAAAJ0Uk5TAICbK04YAAAAeklEQVQ4je3PsRXEMAgE0VFCEapG9agaiiDRVXkJxlpq8IYT/AfwTbZ/ssPUEJgGZ2hYDTmgSIAiDoqsdskBRQIUcVBktXdO/jeVuBDPMBpRyEMUEhVMiUKKSOQlEokrmBKJXARsJWAqAaYEjEbAVgJmtGDewmjEt9wfISOqAUzY2sAAAAAASUVORK5CYII=\"),b=new UIImage(u.shape,p);return b.sourceWidth=b.sourceHeight=64,b.height=15,b.width=12,b.hAlign=\"right\",b.vAlign=\"center\",b.positionX=-10,b.visible=!0,b.isPointerBlocker=!1,c.uiSearchPrompt=new Z(c.shape,i,o(o({},r),{visible:!1,vAlign:\"top\",initialHeight:c.config.initialHeight-2*c.config.borderSize}),(function(t){a.setOption(t),c.initialText.visible=!1,c.onSuccessfulSelection(t)})),c}return i(e,t),e.prototype.open=function(){this.setProperties({visible:!0})},e.prototype.close=function(){this.setProperties({visible:!1})},e.prototype.setSearchItems=function(t,e){this.uiSearchPrompt.setItems(t,e)},e.prototype.setSearchDropdownDefaults=function(t){this.uiSearchPrompt.setDropdownDefaults(t)},e}(j);t.CenterImage=R,t.CornerLabel=V,t.CustomPrompt=F,t.CustomPromptButton=N,t.CustomPromptCheckBox=P,t.CustomPromptIcon=X,t.CustomPromptSwitch=Y,t.CustomPromptText=z,t.CustomPromptTextBox=G,t.FillInPrompt=H,t.LargeIcon=U,t.LoadingIcon=_,t.MediumIcon=E,t.OkPrompt=W,t.OptionPrompt=D,t.SFFont=a,t.SFHeavyFont=h,t.SmallIcon=O,t.UIBar=C,t.UICounter=T,t.UISearchPrompt=Z,t.UISelectBox=$,t.canvas=u,t.darkTheme=p,t.displayAnnouncement=function(t,e,i,o,n){b.visible=!0,b.value=t,b.color=i||Color4.Yellow(),b.fontSize=o||50,b.font=h,b.outlineColor=Color4.Black(),b.outlineWidth=n?0:.1,b.adaptWidth=!1,b.textWrapping=!0,b.width=900;var r=new Entity;engine.addEntity(r),-1!=e&&r.addComponentOrReplace(new s(e||3,(function(){b.visible=!1})))},t.hideAnnouncements=function(){b.visible=!1},t.lightTheme=g,Object.defineProperty(t,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=index.js.map\n",
    "sha256": "f2dccb23937bdd6acb25cbd4b51a20eda1fbdbdff9a5313dade3c55ca474930d"
  },
  {
    "path": "node_modules/dcldash/dist/index.js",
    "content": "define(\"dcldash\",[\"exports\",\"@decentraland/RestrictedActions\",\"@decentraland/ParcelIdentity\",\"@decentraland/Identity\",\"@decentraland/EnvironmentAPI\"],(function(t,e,i,s,o){\"use strict\";function __awaiter(t,e,i,s){return new(i||(i=Promise))((function(o,n){function fulfilled(t){try{step(s.next(t))}catch(t){n(t)}}function rejected(t){try{step(s.throw(t))}catch(t){n(t)}}function step(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(fulfilled,rejected)}step((s=s.apply(t,e||[])).next())}))}const n=new Texture(\"https://pmacom.github.io/assets/dcldash/images/textures/boxHighlight.png\"),a={1:[.6,.4,.9,.4,.9,.1,.6,.01,.6,.4,.9,.4,.9,.1,.6,.01],2:[0,.5,.5,.5,.5,0,0,0,0,.5,.5,.5,.5,0,0,0],3:[.5,1,.5,.5,0,.5,0,1,.5,1,.5,.5,0,.5,0,1],4:[0,.5,0,1,.5,1,.5,.5,0,.5,0,1,.5,1,.5,.5],5:[0,1,.5,1,.5,.5,0,.5,0,1,.5,1,.5,.5,0,.5],6:[.5,.5,0,.5,0,1,.5,1,.5,.5,0,.5,0,1,.5,1]};let h=class{constructor(t=1){this.speed=t}};h=function(t,e,i,s){var o,n=arguments.length,a=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(o=t[h])&&(a=(n<3?o(a):n>3?o(e,i,a):o(e,i))||a);return n>3&&a&&Object.defineProperty(e,i,a),a}([Component(\"BoxHighlightAnimation\")],h);const getTransform=(t,e,i=!1)=>{let s=.5*(i?-1:1),o=\"x\"==e?90:0,n=\"y\"==e?90:0,a=\"z\"==e?90:0;return new Transform({position:new Vector3(\"x\"==t?s:0,\"y\"==t?s:0,\"z\"==t?s:0),scale:new Vector3(1,1,1),rotation:(new Quaternion).setEuler(o,n,a)})};\n/*!\n     * Creates an animated cube to highlight something in DCL\n     * it can be rotated to point in a predetermined direction\n     * @public\n     */class Dash_BoxHighlight extends Entity{constructor(t,e,i=\"top\",s=!0,o,h){super(),this.position=t,this.scale=e,this.dir=i,this.visible=s,this.texture=o,this.onClick=h,this.timer=0,this.duration=3,this.sideTopEntity=new Entity,this.sideTopShape=new PlaneShape,this.sideBottomEntity=new Entity,this.sideBottomShape=new PlaneShape,this.sideNorthEntity=new Entity,this.sideNorthShape=new PlaneShape,this.sideSouthEntity=new Entity,this.sideSouthShape=new PlaneShape,this.sideEastEntity=new Entity,this.sideEastShape=new PlaneShape,this.sideWestEntity=new Entity,this.sideWestShape=new PlaneShape,this.stripeMaterial=new Material,this.surfaceMaterial=new Material;let r=o||n;this.stripeMaterial.roughness=1,this.stripeMaterial.emissiveColor=new Color3(0,.5,1),this.stripeMaterial.albedoTexture=r,this.stripeMaterial.alphaTexture=r,this.stripeMaterial.castShadows=!1,this.surfaceMaterial.roughness=1,this.surfaceMaterial.emissiveColor=new Color3(10,0,0),this.surfaceMaterial.albedoTexture=r,this.surfaceMaterial.alphaTexture=r,this.surfaceMaterial.castShadows=!1,this.sides=[{shape:this.sideBottomShape,entity:this.sideBottomEntity,transform:getTransform(\"y\",\"x\"),startUVs:a[1],dir:{top:{points:a[1]},bottom:{points:a[2],isSurface:!0},north:{points:a[3],animate:!0},south:{points:a[4],animate:!0},east:{points:a[5],animate:!0},west:{points:a[6],animate:!0}}},{shape:this.sideTopShape,entity:this.sideTopEntity,transform:getTransform(\"y\",\"x\",!0),startUVs:a[1],dir:{top:{points:a[2],isSurface:!0},bottom:{points:a[1]},north:{points:a[3],animate:!0},south:{points:a[4],animate:!0},east:{points:a[5],animate:!0},west:{points:a[6],animate:!0}}},{shape:this.sideWestShape,entity:this.sideWestEntity,transform:getTransform(\"z\",\"\"),startUVs:a[1],dir:{top:{points:a[6],animate:!0},bottom:{points:a[5],animate:!0},north:{points:a[3],animate:!0},south:{points:a[4],animate:!0},east:{points:a[2],isSurface:!0},west:{points:a[1]}}},{shape:this.sideEastShape,entity:this.sideEastEntity,transform:getTransform(\"z\",\"\",!0),startUVs:a[1],dir:{top:{points:a[6],animate:!0},bottom:{points:a[5],animate:!0},north:{points:a[3],animate:!0},south:{points:a[4],animate:!0},east:{points:a[1]},west:{points:a[2],isSurface:!0}}},{shape:this.sideNorthShape,entity:this.sideNorthEntity,transform:getTransform(\"x\",\"y\"),startUVs:a[1],dir:{top:{points:a[6],animate:!0},bottom:{points:a[5],animate:!0},north:{points:a[1]},south:{points:a[2],isSurface:!0},east:{points:a[3],animate:!0},west:{points:a[4],animate:!0}}},{shape:this.sideSouthShape,entity:this.sideSouthEntity,transform:getTransform(\"x\",\"y\",!0),startUVs:a[1],dir:{top:{points:a[6],animate:!0},bottom:{points:a[5],animate:!0},north:{points:a[2],isSurface:!0},south:{points:a[1]},east:{points:a[3],animate:!0},west:{points:a[4],animate:!0}}}],this.addComponent(new Transform({position:t,scale:e})),s&&this.show(),this.setSides()}setSides(){this.sides.forEach((t=>{let{shape:e,entity:i,transform:s,dir:o}=t,{points:n,isSurface:a}=t.dir[this.dir];i.addComponentOrReplace(e),i.addComponentOrReplace(s),a||i.addComponentOrReplace(this.stripeMaterial),i.addComponentOrReplace(a?this.surfaceMaterial:this.stripeMaterial),e.withCollisions=!1,a&&this.onClick&&i.addComponent(this.onClick),t.startUVs=n,e.uvs=t.startUVs,i.setParent(this)}))}setScale(t,e,i){this.getComponent(Transform).scale.set(t,e,i)}setPosition(t,e,i){this.getComponent(Transform).position.set(t,e,i)}setDirection(t){this.dir=t,this.setSides()}setTexture(t){this.stripeMaterial.albedoTexture=t,this.stripeMaterial.alphaTexture=t,this.surfaceMaterial.albedoTexture=t,this.surfaceMaterial.alphaTexture=t}setStripeColor(t){this.stripeMaterial.emissiveColor=t}setSurfaceColor(t){this.surfaceMaterial.emissiveColor=t}show(){this.addComponentOrReplace(new h),engine.addEntity(this),engine.addSystem(l)}hide(){this.removeComponent(h),engine.removeEntity(this)}updateUV(t){this.timer=this.timer>=this.duration?0:this.timer+t,this.sides.forEach((t=>{t.shape.uvs&&t.dir[this.dir].animate&&(t.shape.uvs=lerpUVs(t.startUVs,this.timer,this.duration))}))}}const lerpUVs=(t,e,i)=>{let s=Scalar.Clamp(e/i,0,1),o=[Scalar.Lerp(t[0],t[0]+.5,s),Scalar.Lerp(t[1],t[1],s),Scalar.Lerp(t[2],t[2]+.5,s),Scalar.Lerp(t[3],t[3],s),Scalar.Lerp(t[4],t[4]+.5,s),Scalar.Lerp(t[5],t[5],s),Scalar.Lerp(t[6],t[6]+.5,s),Scalar.Lerp(t[7],t[7],s)];return o.concat(o)},r=engine.getComponentGroup(h),l=new class{constructor(){this.system=this}update(t){r.entities.length||this.system.active&&engine.removeSystem(this.system),r.entities.forEach((e=>{e.updateUV(t)}))}},Dash_CheckWithinVolume=(t,e,i)=>{const{x:s,y:o,z:n}=t,{x:a,y:h,z:r}=e,{x:l,y:c,z:d}=i,p=new Vector3(s-a/2,o-h/2,n-r/2),u=new Vector3(s+a/2,o+h/2,n+r/2);return l>p.x&&l<u.x&&c>p.y&&c<u.y&&d>p.z&&d<u.z},c=new class{transparent(){return this._transparent||(this._transparent=new Material,this._transparent.albedoColor=new Color4(0,0,0,0),this._transparent.castShadows=!1),this._transparent}Red(){return this._Red||(this._Red=new Material,this._Red.albedoColor=new Color4(1,0,0,.5)),this._Red}Green(){return this._Green||(this._Green=new Material,this._Green.albedoColor=new Color4(0,1,0,.5)),this._Green}Blue(){return this._Blue||(this._Blue=new Material,this._Blue.albedoColor=new Color4(0,0,1,.5)),this._Blue}Black(){return this._Black||(this._Black=new Material,this._Black.albedoColor=new Color4(0,0,0,.5)),this._Black}},d=new class{constructor(){this.nonce=0,this.queue=new Map,this.system=this}add(t){const e={id:this.nonce++,onFrame:t};return{start:()=>{this.queue.set(e.id,e),this.enable()},stop:()=>{this.queue.delete(e.id)}}}update(t){this.queue.size||this.disable(),this.queue.forEach((e=>{const{id:i,onFrame:s}=e;s&&s(t)}))}enable(){this.system.active||engine.addSystem(this)}disable(){this.system.active&&engine.removeSystem(this)}};class Dash_TriggerZone extends Entity{constructor(){super(),this.onEnter=()=>{},this.onExit=()=>{},this.hasEntered=!1,engine.addEntity(this),this.checkCollision=d.add((()=>this.check())),this.checkCollision.start()}check(){let t=this.getParent(),e=new Vector3,i=new Vector3,s=new Quaternion;do{if(t){let o=t.getComponentOrCreate(Transform);e.addInPlace(o.position.clone()),i.addInPlace(o.scale.clone()),s.eulerAngles.addInPlace(o.eulerAngles),t=t.getParent()}}while(t&&\"0\"!==t.uuid);const o=this.getComponentOrCreate(Transform);this.getParent();const n=Dash_CheckWithinVolume(Vector3.Add(e,o.position),Vector3.Add(i,o.scale),new Vector3(Camera.instance.feetPosition.x,Camera.instance.feetPosition.y,Camera.instance.feetPosition.z));n&&!this.hasEntered?(this.onEnter(),this.debug&&this.debug.showHighlight(),this.hasEntered=!0):!n&&this.hasEntered&&(this.onExit(),this.debug&&this.debug.hideHighlight(),this.hasEntered=!1)}enableDebug(){this.debug=new TriggerDebug(this),this.debug.show()}enable(){var t;null===(t=this.checkCollision)||void 0===t||t.start()}disable(){var t;null===(t=this.checkCollision)||void 0===t||t.stop()}}class TriggerDebug extends Entity{constructor(t,e){super(),this.setParent(t),this.boxHighlight=new Dash_BoxHighlight(new Vector3,(new Vector3).setAll(1),\"top\"),this.boxHighlight.setParent(t),this.boxHighlight.show()}show(){this.shape=new BoxShape,this.shape.withCollisions=!1,this.material=c.Red(),this.boxHighlight.setStripeColor(Color3.Red()),this.addComponentOrReplace(this.shape),this.addComponentOrReplace(this.material)}showHighlight(){this.material=c.Green(),this.boxHighlight.setStripeColor(Color3.Green()),this.addComponentOrReplace(this.material)}hideHighlight(){this.material=c.Red(),this.boxHighlight.setStripeColor(Color3.Red()),this.addComponentOrReplace(this.material)}}class DynamicImage{constructor(t){this.image=t,this.tweens=new Map,this.animation=d.add((t=>this.update(t)))}fadeIn(t,e,i){this.tweens.set(\"opacity\",{timer:0,settings:{from:0,to:1,duration:t,ease:e,callback:i}}),this.animation.start()}fadeOut(t,e,i){this.tweens.set(\"opacity\",{timer:0,settings:{from:this.image.opacity,to:0,duration:t,ease:e,callback:i}}),this.animation.start()}fadeTo(t,e,i,s){this.tweens.set(\"opacity\",{timer:0,settings:{from:this.image.opacity,to:t,duration:e,ease:i,callback:s}}),this.animation.start()}moveTo(t,e,i,s,o){this.tweens.set(\"positionX\",{timer:0,settings:{from:this.image.positionX,to:t,duration:i,ease:s,callback:o}}),this.tweens.set(\"positionY\",{timer:0,settings:{from:this.image.positionY,to:e,duration:i,ease:s,callback:o}}),this.animation.start()}moveToX(t,e,i,s){this.tweens.set(\"positionX\",{timer:0,settings:{from:this.image.positionX,to:t,duration:e,ease:i,callback:s}}),this.animation.start()}moveToY(t,e,i,s){this.tweens.set(\"positionY\",{timer:0,settings:{from:this.image.positionY,to:t,duration:e,ease:i,callback:s}}),this.animation.start()}moveRelativeTo(t,e,i,s,o){this.tweens.set(\"positionX\",{timer:0,settings:{from:this.image.positionX,to:new UIValue(this.image.positionX).value+new UIValue(t).value,duration:i,ease:s,callback:o}}),this.tweens.set(\"positionY\",{timer:0,settings:{from:this.image.positionY,to:new UIValue(this.image.positionY).value+new UIValue(e).value,duration:i,ease:s,callback:o}}),this.animation.start()}resizeTo(t,e,i,s,o){this.tweens.set(\"width\",{timer:0,settings:{from:this.image.width,to:t,duration:i,ease:s,callback:o}}),this.tweens.set(\"height\",{timer:0,settings:{from:this.image.height,to:e,duration:i,ease:s,callback:o}}),this.animation.start()}resizeWidthTo(t,e,i,s){this.tweens.set(\"width\",{timer:0,settings:{from:this.image.width,to:t,duration:e,ease:i,callback:s}}),this.animation.start()}resizeHeightTo(t,e,i,s){this.tweens.set(\"height\",{timer:0,settings:{from:this.image.height,to:t,duration:e,ease:i,callback:s}}),this.animation.start()}moveSourceTo(t,e,i,s,o){this.tweens.set(\"sourceLeft\",{timer:0,settings:{from:this.image.sourceLeft,to:t,duration:i,ease:s,callback:o}}),this.tweens.set(\"sourceTop\",{timer:0,settings:{from:this.image.sourceTop,to:e,duration:i,ease:s,callback:o}}),this.animation.start()}moveSourceLeftTo(t,e,i,s){this.tweens.set(\"sourceLeft\",{timer:0,settings:{from:this.image.sourceLeft,to:t,duration:e,ease:i,callback:s}}),this.animation.start()}moveSourceTopTo(t,e,i,s){this.tweens.set(\"sourceTop\",{timer:0,settings:{from:this.image.sourceTop,to:t,duration:e,ease:i,callback:s}}),this.animation.start()}resizeSourceTo(t,e,i,s,o){this.tweens.set(\"sourceWidth\",{timer:0,settings:{from:this.image.sourceWidth,to:t,duration:i,ease:s,callback:o}}),this.tweens.set(\"sourceHeight\",{timer:0,settings:{from:this.image.sourceHeight,to:e,duration:i,ease:s,callback:o}}),this.animation.start()}resizeSourceWidthTo(t,e,i,s){this.tweens.set(\"sourceWidth\",{timer:0,settings:{from:this.image.sourceWidth,to:t,duration:e,ease:i,callback:s}}),this.animation.start()}resizeSourceHeightTo(t,e,i,s){this.tweens.set(\"sourceHeight\",{timer:0,settings:{from:this.image.sourceHeight,to:t,duration:e,ease:i,callback:s}}),this.animation.start()}scaleIn(t,e,i,s){this.tweens.set(\"width\",{timer:0,settings:{from:new UIValue(this.image.width).value*new UIValue(t).value,to:this.image.width,duration:e,ease:i,callback:s}}),this.tweens.set(\"height\",{timer:0,settings:{from:new UIValue(this.image.height).value*new UIValue(t).value,to:this.image.height,duration:e,ease:i,callback:s}}),this.tweens.set(\"opacity\",{timer:0,settings:{from:0,to:this.image.opacity,duration:e,ease:i,callback:s}}),this.animation.start()}scaleOut(t,e,i,s){this.tweens.set(\"width\",{timer:0,settings:{from:this.image.width,to:new UIValue(this.image.width).value*new UIValue(t).value,duration:e,ease:i,callback:s}}),this.tweens.set(\"height\",{timer:0,settings:{from:this.image.height,to:new UIValue(this.image.height).value*new UIValue(t).value,duration:e,ease:i,callback:s}}),this.tweens.set(\"opacity\",{timer:0,settings:{from:this.image.opacity,to:0,duration:e,ease:i,callback:s}}),this.animation.start()}scaleTo(t,e,i,s){this.tweens.set(\"width\",{timer:0,settings:{from:this.image.width,to:new UIValue(this.image.width).value*t,duration:e,ease:i,callback:s}}),this.tweens.set(\"height\",{timer:0,settings:{from:this.image.height,to:new UIValue(this.image.width).value*t,duration:e,ease:i,callback:s}}),this.animation.start()}update(t){this.tweens.size?this.tweens.forEach(((e,i)=>{const{settings:s}=e,{duration:o,callback:n}=s;let a,h,r,l;switch(e.timer+=t,e.timer>=o&&(n&&n(),this.tweens.delete(i)),i){case\"opacity\":case\"sourceLeft\":case\"sourceTop\":case\"sourceWidth\":case\"sourceHeight\":if(a=new UIValue(s.from),h=new UIValue(s.to),e.timer>=o){this.image[i]=h.value;break}r=s.ease?s.ease(e.timer/o):e.timer/o,this.image[i]=Scalar.Lerp(a.value,h.value,r);break;case\"width\":case\"height\":case\"positionX\":case\"positionY\":if(a=new UIValue(s.from),h=new UIValue(s.to),e.timer>=o){this.image[i]=1==a.type||1==h.type?h.value:`${h.value}%`;break}r=s.ease?s.ease(e.timer/o):e.timer/o,l=Scalar.Lerp(a.value,h.value,r),this.image[i]=1==a.type||1==h.type?l:`${l}%`}})):this.animation.stop()}}const easeOutBounce=t=>{const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},p=new class{easeInSine(t){return 1-Math.cos(t*Math.PI/2)}easeOutSine(t){return Math.sin(t*Math.PI/2)}easeInOutSine(t){return-(Math.cos(Math.PI*t)-1)/2}easeInCubic(t){return t*t*t}easeOutCubic(t){return 1-Math.pow(1-t,3)}easeInOutCubic(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}easeInQuint(t){return t*t*t*t*t}easeOutQuint(t){return 1-Math.pow(1-t,5)}easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2}easeInCirc(t){return 1-Math.sqrt(1-Math.pow(t,2))}easeOutCirc(t){return Math.sqrt(1-Math.pow(t-1,2))}easeInOutCirc(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2}easeInElastic(t){const e=2*Math.PI/3;return 0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*e)}easeOutElastic(t){const e=2*Math.PI/3;return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*e)+1}easeInOutElastic(t){const e=2*Math.PI/4.5;return 0===t?0:1===t?1:t<.5?-Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*e)/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*e)/2+1}easeInQuad(t){return t*t}easeOutQuad(t){return 1-(1-t)*(1-t)}easeInOutQuad(t){return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2}easeInQuart(t){return t*t*t*t}easeOutQuart(t){return 1-Math.pow(1-t,4)}easeInOutQuart(t){return t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2}easeInExpo(t){return 0===t?0:Math.pow(2,10*t-10)}easeOutExpo(t){return 1===t?1:1-Math.pow(2,-10*t)}easeInOutExpo(t){return 0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}easeInBack(t){return 2.70158*t*t*t-1.70158*t*t}easeOutBack(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)}easeInOutBack(t){const e=2.5949095;return t<.5?Math.pow(2*t,2)*(7.189819*t-e)/2:(Math.pow(2*t-2,2)*((e+1)*(2*t-2)+e)+2)/2}easeInBounce(t){return(t=>1-easeOutBounce(1-t))(t)}easeOutBounce(t){return easeOutBounce(t)}easeInOutBounce(t){return(t=>t<.5?(1-easeOutBounce(1-2*t))/2:(1+easeOutBounce(2*t-1))/2)(t)}};var u;!function(t){t[t.HALIGN_LEFT=0]=\"HALIGN_LEFT\",t[t.HALIGN_CENTER=1]=\"HALIGN_CENTER\",t[t.HALIGN_RIGHT=2]=\"HALIGN_RIGHT\",t[t.VALIGN_TOP=3]=\"VALIGN_TOP\",t[t.VALIGN_CENTER=4]=\"VALIGN_CENTER\",t[t.VALIGN_BOTTOM=5]=\"VALIGN_BOTTOM\"}(u||(u={}));const Dash_UV_Plane_Crop_Image=(t,e,i,s,o,n,a)=>{let h=Scalar.InverseLerp(0,t,o),r=Scalar.InverseLerp(0,e,n),l=Scalar.InverseLerp(0,t,i),c=Scalar.InverseLerp(0,e,s),d={x:h,y:1-r},p={x:h+l,y:1-r},u={x:h+l,y:1-r-c},g={x:h,y:1-r-c},m=a?[d.x,d.y,p.x,p.y,u.x,u.y,g.x,g.y]:[g.x,g.y,u.x,u.y,p.x,p.y,d.x,d.y];return[...m,...m]};class Dash_SimplePoster extends Entity{constructor(){super(),this.shape=new PlaneShape,this.material=new Material,this.hyperlink=null,this.addComponent(this.shape),this.addComponent(this.material),this.addComponent(new Transform),this.shape.uvs=[1,0,0,0,0,1,1,1,0,0,1,0,1,1,0,1]}setHyperlink(t){this.hyperlink=t,this.addComponentOrReplace(new OnPointerDown((t=>{this.hyperlink&&openExternalURL(this.hyperlink)})))}setImageUrl(t){this.texture=new Texture(t),this.material.albedoTexture=this.texture,this.material.emissiveColor=Color3.White(),this.material.emissiveTexture=this.texture,this.material.emissiveIntensity=1,this.addComponentOrReplace(this.material)}show(){this.alive||engine.addEntity(this)}hide(){this.alive&&engine.removeEntity(this)}}const Dash_GetSceneData=()=>__awaiter(void 0,void 0,void 0,(function*(){const t=yield i.getParcel(),e=t.land.sceneJsonData.scene.base,s=t.land.sceneJsonData.scene.parcels;return{base:e,parcels:s,maxHeight:Math.ceil(Math.log(s.length+1)*Math.LOG2E*20)}})),g=new Texture(\"https://pmacom.github.io/assets/dcldash/images/landBarrier/barrier-sprite.png\",{hasAlpha:!1,samplingMode:0,wrap:1}),m=new Material;m.albedoTexture=g,m.emissiveColor=Color3.White(),m.emissiveTexture=g,m.emissiveIntensity=5,m.transparencyMode=2;const w=m,f=1024,I=86,S={comingsoon:{sourcePositionTop:9,sourcePositionLeft:0,sourceWidth:f,sourceHeight:I},privateevent:{sourcePositionTop:104,sourcePositionLeft:0,sourceWidth:f,sourceHeight:I},accountrequired:{sourcePositionTop:198,sourcePositionLeft:0,sourceWidth:f,sourceHeight:I},nftrequired:{sourcePositionTop:293,sourcePositionLeft:0,sourceWidth:f,sourceHeight:I},temporarilylocked:{sourcePositionTop:388,sourcePositionLeft:0,sourceWidth:f,sourceHeight:I},outdated:{sourcePositionTop:482,sourcePositionLeft:0,sourceWidth:f,sourceHeight:I},undermaintenance:{sourcePositionTop:577,sourcePositionLeft:0,sourceWidth:f,sourceHeight:I},loadfully:{sourcePositionTop:671,sourcePositionLeft:0,sourceWidth:f,sourceHeight:I},transparent:{sourcePositionTop:924,sourcePositionLeft:0,sourceWidth:100,sourceHeight:100}};class BarrierZone extends Entity{constructor(t,i=\"privateevent\",s,o,n,a,h,r){if(super(),this.material=t,this.message=i,this.maxHeight=s,this.exitLocation=o,this.shapes=[],this.collider=new Entity,this.colliderShape=new BoxShape,this.triggerZone=new Dash_TriggerZone,this.collider.addComponent(this.colliderShape),this.collider.addComponent(c.transparent()),this.collider.addComponent(new Transform({scale:new Vector3(16,8,16)})),this.collider.setParent(this),this.triggerZone.addComponent(new Transform({position:new Vector3(0,7,0),scale:new Vector3(16,16,16)})),this.triggerZone.onEnter=()=>{const{x:t,y:i,z:s}=this.exitLocation;e.movePlayerTo({x:t,y:i,z:s})},this.triggerZone.setParent(this),this.addComponent(new Transform({position:new Vector3(0,0,0)})),h){const e=new BarrierPlane(new Vector3(0,1,8),0,this.message);e.addComponent(t),this.shapes.push(e.shape),e.setParent(this)}if(r){const e=new BarrierPlane(new Vector3(0,1,-8),180,this.message);e.addComponent(t),this.shapes.push(e.shape),e.setParent(this)}if(a){const e=new BarrierPlane(new Vector3(8,1,0),90,this.message);e.addComponent(t),this.shapes.push(e.shape),e.setParent(this)}if(n){const e=new BarrierPlane(new Vector3(-8,1,0),-90,this.message);e.addComponent(t),this.shapes.push(e.shape),e.setParent(this)}this.animation=d.add((t=>{this.shapes.forEach((e=>{let i=e.uvs.map(((e,i)=>i%2==0?e+.05*t:e));e.uvs=i}))})),this.animation.start(),engine.addEntity(this)}setMessage(t){this.shapes.forEach((e=>{if(S[t]){const i=S[t],{sourceHeight:s,sourceWidth:o,sourcePositionLeft:n,sourcePositionTop:a}=i;e.uvs=Dash_UV_Plane_Crop_Image(1024,1024,o,s,n,a)}}))}setExitLocation(t){this.exitLocation=t}disable(){this.triggerZone.disable()}enable(){this.triggerZone.enable()}}class BarrierPlane extends Entity{constructor(t,e=0,i){super(),this.shape=new PlaneShape,this.addComponent(this.shape),this.shape.withCollisions=!1,this.setMessage(i),this.addComponent(new Transform({position:t,scale:new Vector3(16,1,1),rotation:(new Quaternion).setEuler(0,e,0)}))}setMessage(t){if(S[t]){const e=S[t],{sourceHeight:i,sourceWidth:s,sourcePositionLeft:o,sourcePositionTop:n}=e;this.shape.uvs=Dash_UV_Plane_Crop_Image(1024,1024,s,i,o,n)}}}const v=new MessageBus,y=new Map;class ParcelHideAvatar extends Entity{constructor(){super(),this.addComponent(new Transform),engine.addEntity(this)}}const T=new class{constructor(){this.parcelHideAvatars=[],this.zones=new Map,this.currentZone=\"primaryZone\",this.setupMessages(),executeTask((()=>__awaiter(this,void 0,void 0,(function*(){const{base:t,parcels:e,maxHeight:i}=yield Dash_GetSceneData(),o=yield s.getUserData();this.userId=o.userId,this.zones.set(\"primaryZone\",new Set),this.parcelSize=new Vector3(16,i,16);const n=t.split(\",\");this.base=new Vector2(parseInt(n[0]),parseInt(n[1])),e.forEach(((t,e)=>{const i=t.split(\",\"),s=new Vector2(parseInt(i[0]),parseInt(i[1])),o=new Vector2(s.x-this.base.x,s.y-this.base.y),n=new Vector3(16*o.x+8,1,16*o.y+8),a=this.parcelSize,h=new ParcelHideAvatar;h.addComponentOrReplace(new Transform({position:n,scale:a})),this.parcelHideAvatars.push(h)})),onEnterSceneObservable.add((t=>{t.userId==this.userId&&(v.emit(\"dash-zone-enter\",{userId:this.userId,zoneName:\"primaryZone\"}),this.addUserToZone(\"primaryZone\",t.userId))})),onLeaveSceneObservable.add((t=>{t.userId==this.userId&&(v.emit(\"dash-zone-exit\",{userId:this.userId,zoneName:\"primaryZone\"}),this.addUserToZone(\"primaryZone\",t.userId))})),onPlayerConnectedObservable.add((({userId:t})=>{v.emit(\"dash-zone-query\",{userId:this.userId})})),onPlayerDisconnectedObservable.add((({userId:t})=>{this.removeUserFromAllZones(t)})),v.emit(\"dash-zone-query\",{userId:this.userId})}))))}removeUserFromAllZones(t){this.zones.forEach(((e,i)=>{e.delete(t)}))}addUserToZone(t,e){e==this.userId?this.currentZone=t:(this.removeUserFromAllZones(e),this.zones.has(t)?this.zones.get(t).add(e):this.zones.set(t,new Set([e]))),this.updateParcelHideAvatars()}getUserIdsForZone(t){const e=[];return(this.zones.has(t)?this.zones.get(t):new Set).forEach((t=>e.push(t))),[this.userId,...e]}updateParcelHideAvatars(){const t=this.getUserIdsForZone(this.currentZone);this.parcelHideAvatars.forEach((e=>{e.addComponentOrReplace(new AvatarModifierArea({area:{box:this.parcelSize},modifiers:[AvatarModifiers.HIDE_AVATARS],excludeIds:t}))}))}setupMessages(){v.on(\"dash-zone-query\",(({userId:t})=>{t!==this.userId&&v.emit(\"dash-zone-enter\",{userId:this.userId,zoneName:this.currentZone})})),v.on(\"dash-zone-enter\",(({userId:t,zoneName:e})=>{t!==this.userId&&this.addUserToZone(e,t)})),v.on(\"dash-zone-exit\",(({userId:t,zoneName:e})=>{t!==this.userId&&this.addUserToZone(\"primaryZone\",t)}))}};class Dash_Zone extends Entity{constructor(t,e){super(),this.zoneName=t,this.transform=e,this.triggerZone=new Dash_TriggerZone,this.inZone=!1,this.excludeIds=new Set,this.excludeIdsArray=[],y.set(t,this),this.addComponent(e),engine.addEntity(this),executeTask((()=>__awaiter(this,void 0,void 0,(function*(){let t=yield s.getUserData();this.userId=t.userId,this.setupTriggerZone()}))))}setupTriggerZone(){this.triggerZone.enable(),this.triggerZone.addComponent(this.transform),this.triggerZone.onEnter=()=>this.onEnter(),this.triggerZone.onExit=()=>this.onExit()}onEnter(){T.addUserToZone(this.zoneName,this.userId),v.emit(\"dash-zone-enter\",{userId:this.userId,zoneName:this.zoneName})}onExit(){T.addUserToZone(\"primaryZone\",this.userId),v.emit(\"dash-zone-exit\",{userId:this.userId,zoneName:this.zoneName})}enable(){this.triggerZone.enable()}disable(){this.triggerZone.disable()}enableDebug(){this.triggerZone.enableDebug()}}class Dash_ZoneMaker extends Entity{constructor(t){super(),this.startPosition=t,this.shape=new BoxShape,this.material=new Material,this.minPosition=new Vector3,this.maxPosition=new Vector3,this.initialFeetPosition=new Vector3,this.hasMoved=!1,this.isOn=!1,this.bh=new Dash_BoxHighlight(new Vector3,(new Vector3).setAll(1),\"top\"),this.bh.setParent(this),this.addComponent(this.shape),this.addComponent(new Transform({position:this.startPosition.clone(),scale:new Vector3(1,1,1)})),this.shape.withCollisions=!1,engine.addEntity(this),this.material.albedoColor=new Color4(0,1,1,.1),this.addComponent(this.material);const e=d.add((()=>{const t=Camera.instance.feetPosition;if(!this.hasMoved&&Vector3.Distance(t,this.initialFeetPosition)>.1&&(this.hasMoved=!0),this.hasMoved){const{x:e,y:i,z:s}=t,{x:o,y:n,z:a}=this.minPosition,{x:h,y:r,z:l}=this.maxPosition,c=this.startPosition.x-e,d=this.startPosition.y-i,p=this.startPosition.z-s;c<o&&(this.minPosition.x=c),d<n&&(this.minPosition.y=d),p<a&&(this.minPosition.z=p),c>h&&(this.maxPosition.x=c),d>r&&(this.maxPosition.y=d),p>l&&(this.maxPosition.z=p);const u=Vector3.Add(this.minPosition.negate(),this.startPosition),g=Vector3.Add(this.maxPosition.negate(),this.startPosition),m=Vector3.Center(u,g);this.getComponent(Transform).position=Vector3.Add(m,new Vector3(0,.75,0)),this.getComponent(Transform).scale=new Vector3(this.maxPosition.x-this.minPosition.x,this.maxPosition.y-this.minPosition.y+1.5,this.maxPosition.z-this.minPosition.z)}}));this.addComponent(new OnPointerDown((()=>{if(this.isOn){e.stop();const t=this.getComponent(Transform).position,i=this.getComponent(Transform).scale;log(`Zone Transform: \\nposition: new Vector3(${t.x}, ${t.y}, ${t.z}),\\nscale: new Vector3(${i.x}, ${i.y}, ${i.z})`),this.isOn=!1}else this.hasMoved=!1,this.initialFeetPosition=Camera.instance.feetPosition.clone(),e.start(),this.isOn=!0})))}}const x=new class{constructor(){this.nonce=0,this.queue=new Map,this.system=this}add(t){return t.id=this.nonce++,this.queue.set(t.id,t),this.enable(),t}update(t){this.queue.size||this.disable(),this.queue.forEach((e=>{const{id:i,onFrame:s,onComplete:o,duration:n,data:a}=e;e.timer||(e.timer=0),e.timer+=t;const h=e.timer/n;s&&s(h,a),e.timer>=n&&(s&&s(1,a),o&&o(),this.queue.delete(i))}))}enable(){this.system.active||engine.addSystem(this)}disable(){this.system.active&&engine.removeSystem(this)}},V=new UICanvas,b=new class{constructor(){this.textures=new Map}create(t){if(this.textures.has(t))return this.textures.get(t);const e=new Texture(t);return this.textures.set(t,e),e}},_=new class{constructor(){this.clips=new Map}create(t){if(this.clips.has(t))return this.clips.get(t);const e=new VideoClip(t);return this.clips.set(t,e),e}},C=new class{constructor(){this.videoTextures=new Map}create(t){if(this.videoTextures.has(t))return this.videoTextures.get(t);const e=_.create(t),i=new VideoTexture(e);return this.videoTextures.set(t,i),i}},E=new class{constructor(){this.videoMaterials=new Map}create(t){if(this.videoMaterials.has(t))return this.videoMaterials.get(t);const e=C.create(t),i=new Material;return i.albedoTexture=e,i.emissiveColor=Color3.White(),i.emissiveTexture=e,this.videoMaterials.set(t,i),i}};class Dash_UI_AdminRadioButton{constructor(t,e,i,s,o,n,a=!1){this.texture=t,this.value=e,this.renderSettings=i,this.onButtonSettings=s,this.offButtonSettings=o,this.onChange=n,this.isActive=a,this.image=new UIImage(V,this.texture),this.image.onClick=new OnPointerDown((()=>{this.onChange(this.value)})),this.image.positionX=i.positionX,this.image.positionY=i.positionY,this.image.width=i.width,this.image.height=i.height,this.setValues(this.isActive?s:o)}setValues(t){this.image.sourceLeft=t.positionX,this.image.sourceTop=t.positionY,this.image.sourceWidth=t.width,this.image.sourceHeight=t.height,this.image.vAlign=\"top\",this.image.hAlign=\"left\"}turnOn(){this.setValues(this.onButtonSettings)}turnOff(){this.setValues(this.offButtonSettings)}}class Dash_UI_AdminRadioButton_Group{constructor(t,e,i){this.update=i,this.mapping=new Map,this.value=\"1\",Object.keys(e).forEach((i=>{const s=e[i],{on:o,off:n,renderSettings:a}=s,h=new Dash_UI_AdminRadioButton(t,i,a,o,n,(t=>{this.mapping.forEach(((e,i)=>{`${t}`==`${i}`?e.turnOn():e.turnOff()})),this.update(t)}));i==this.value&&h.turnOn(),this.mapping.set(i,h)}))}setValue(t){this.value=t,this.mapping.forEach(((e,i)=>{`${t}`==`${i}`?e.turnOn():e.turnOff()}))}hide(){this.mapping.forEach((t=>{t.image.visible=!1}))}show(){this.mapping.forEach((t=>{t.image.visible=!0}))}}class Dash_Admin_Tweaker_InfoDetails{constructor(t){this.detailValues=new Map;const e=new InfoDetailValue(t,\"position.x\");e.text.positionX=129,e.text.positionY=52,this.detailValues.set(\"position.x\",e);const i=new InfoDetailValue(t,\"position.y\");i.text.positionX=129,i.text.positionY=32,this.detailValues.set(\"position.y\",i);const s=new InfoDetailValue(t,\"position.z\");s.text.positionX=129,s.text.positionY=12,this.detailValues.set(\"position.z\",s);const o=new InfoDetailValue(t,\"scale.x\");o.text.positionX=176,o.text.positionY=52,this.detailValues.set(\"scale.x\",o);const n=new InfoDetailValue(t,\"scale.y\");n.text.positionX=176,n.text.positionY=32,this.detailValues.set(\"scale.y\",n);const a=new InfoDetailValue(t,\"scale.z\");a.text.positionX=176,a.text.positionY=12,this.detailValues.set(\"scale.z\",a);const h=new InfoDetailValue(t,\"rotation.eulerAngles.x\");h.text.positionX=223,h.text.positionY=52,this.detailValues.set(\"rotation.eulerAngles.x\",h);const r=new InfoDetailValue(t,\"rotation.eulerAngles.y\");r.text.positionX=223,r.text.positionY=32,this.detailValues.set(\"rotation.eulerAngles.y\",r);const l=new InfoDetailValue(t,\"rotation.eulerAngles.z\");l.text.positionX=223,l.text.positionY=12,this.detailValues.set(\"rotation.eulerAngles.z\",l),this.nameField=new UIText(t),this.nameField.fontSize=15,this.nameField.fontSize=9,this.nameField.opacity=1,this.nameField.positionX=108,this.nameField.positionY=-22,this.nameField.hTextAlign=\"left\",this.setInfo()}setInitialValues(t,e,i=!1){this.detailValues.has(t)&&this.detailValues.get(t).setInitialValue(e,i)}set(t,e,i=!1){this.detailValues.has(t)&&this.detailValues.get(t).setValue(e,i)}clear(){this.detailValues.forEach((t=>{t.setInitialValue(0),this.setInfo()}))}setInfo(t){if(t){const{uuid:e,name:i}=t;this.nameField.value=`UUID: ${e}\\nName: ${i||\"No Name\"}`}else this.nameField.value=\"No Entity Selected\"}}class InfoDetailValue{constructor(t,e){this.path=e,this.initialValue=\"0\",this.text=new UIText(t),this.text.fontSize=10,this.text.value=\"\",this.text.fontSize=9,this.text.opacity=.5}setInitialValue(t,e=!1){let i=formatText(t);this.text.value=i,this.initialValue=i,this.text.opacity=.5}setValue(t,e=!1){let i=formatText(t,e);i!==this.initialValue&&(this.text.opacity=1),this.text.value=i}}const formatText=(t,e=!1)=>t?parseFloat(`${t}`).toFixed(e?2:3):\"0\";class TweakerSelector extends Entity{constructor(){super(\"Dash_Tweaker_Selector\"),this.shape=new BoxShape,this.shape.isPointerBlocker=!1,this.shape.withCollisions=!1,this.addComponent(this.shape),this.addComponent(new Transform),this.addComponent(c.Green())}}const M=.68,A={5:{renderSettings:{positionX:0,positionY:43*M,vAlign:\"top\",hAlign:\"left\",width:80*M,height:30.6},off:{positionX:80,positionY:43,width:80,height:45},on:{positionX:0,positionY:43,width:80,height:45}},1:{renderSettings:{positionX:0,positionY:59.84,vAlign:\"top\",hAlign:\"left\",width:80*M,height:40*M},off:{positionX:80,positionY:88,width:80,height:40},on:{positionX:0,positionY:88,width:80,height:40}},.1:{renderSettings:{positionX:0,positionY:87.04,vAlign:\"top\",hAlign:\"left\",width:80*M,height:41*M},off:{positionX:80,positionY:128,width:80,height:41},on:{positionX:0,positionY:128,width:80,height:41}},.01:{renderSettings:{positionX:0,positionY:114.92,width:80*M,height:41*M},off:{positionX:80,positionY:169,width:80,height:41},on:{positionX:0,positionY:169,width:80,height:41}},.001:{renderSettings:{positionX:0,positionY:142.8,width:80*M,height:33.32},off:{positionX:80,positionY:210,width:80,height:49},on:{positionX:0,positionY:210,width:80,height:49}}},O={90:{renderSettings:{positionX:0,positionY:43*M,vAlign:\"top\",hAlign:\"left\",width:80*M,height:30.6},off:{positionX:80,positionY:302,width:80,height:43},on:{positionX:0,positionY:302,width:80,height:43}},45:{renderSettings:{positionX:0,positionY:59.84,vAlign:\"top\",hAlign:\"left\",width:80*M,height:40*M},off:{positionX:80,positionY:345,width:80,height:40},on:{positionX:0,positionY:345,width:80,height:40}},5:{renderSettings:{positionX:0,positionY:87.04,vAlign:\"top\",hAlign:\"left\",width:80*M,height:41*M},off:{positionX:80,positionY:385,width:80,height:41},on:{positionX:0,positionY:385,width:80,height:41}},1:{renderSettings:{positionX:0,positionY:114.92,width:80*M,height:41*M},off:{positionX:80,positionY:426,width:80,height:40},on:{positionX:0,positionY:426,width:80,height:40}},.1:{renderSettings:{positionX:0,positionY:142.8,width:80*M,height:33.32},off:{positionX:80,positionY:466,width:80,height:49},on:{positionX:0,positionY:466,width:80,height:49}}},P={position:{renderSettings:{positionX:141.44,positionY:0,width:114*M,height:34},on:{positionX:288,positionY:0,width:114,height:50},off:{positionX:288,positionY:260,width:114,height:50}},rotation:{renderSettings:{positionX:218.96,positionY:0,width:76.84,height:34},on:{positionX:402,positionY:260,width:113,height:50},off:{positionX:402,positionY:0,width:113,height:50}}},D={labelUnit:{renderSettings:{positionX:0,positionY:0,width:80*M,height:43*M},cropSettings:{positionX:80,positionY:0,width:80,height:43}},labelScale:{renderSettings:{positionX:80*M,positionY:0,width:85,height:43*M},cropSettings:{positionX:160,positionY:0,width:125,height:43}},directionTL:{renderSettings:{positionX:141.44,positionY:-34,width:81*M,height:43.52},cropSettings:{positionX:288,positionY:50,width:81,height:64}},directionTR:{renderSettings:{positionX:357*M,positionY:-34,width:78*M,height:43.52},cropSettings:{positionX:437,positionY:50,width:78,height:64}},directionBL:{renderSettings:{positionX:141.44,positionY:183*M*-1,width:81*M,height:77*M},cropSettings:{positionX:288,positionY:183,width:81,height:77}},directionBR:{renderSettings:{positionX:357*M,positionY:183*M*-1,width:78*M,height:77*M},cropSettings:{positionX:437,positionY:183,width:78,height:77}},infoPaneTest:{renderSettings:{positionX:295.8,positionY:-0,width:165.24,height:207*M},cropSettings:{positionX:515,positionY:0,width:243,height:207}}},X={selectOn:{renderSettings:{positionX:490*M,positionY:207*M*-1,width:63.92,height:55*M},cropSettings:{positionX:608,positionY:438,width:94,height:55},data:{action:\"setSelectOff\"}},selectOff:{renderSettings:{positionX:490*M,positionY:207*M*-1,width:63.92,height:55*M},cropSettings:{positionX:514,positionY:438,width:94,height:55},data:{action:\"setSelectOn\"}},deselect:{renderSettings:{positionX:490*M,positionY:207*M*-1,width:63.92,height:55*M},cropSettings:{positionX:570,positionY:207,width:94,height:55},data:{action:\"deselect\"}}},Y={scaleXMinus:{renderSettings:{positionX:80*M,positionY:43*M*-1,width:43.52,height:36.04},cropSettings:{positionX:160,positionY:43,width:64,height:53},data:{direction:\"x\",negative:!0}},scaleXPlus:{renderSettings:{positionX:97.92,positionY:43*M*-1,width:61*M,height:36.04},cropSettings:{positionX:224,positionY:43,width:61,height:53},data:{direction:\"x\",positive:!0}},scaleYMinus:{renderSettings:{positionX:80*M,positionY:-65.28,width:43.52,height:35.36},cropSettings:{positionX:160,positionY:96,width:64,height:52},data:{direction:\"y\",positive:!1}},scaleYPlus:{renderSettings:{positionX:97.92,positionY:-65.28,width:61*M,height:35.36},cropSettings:{positionX:224,positionY:96,width:61,height:52},data:{direction:\"y\",positive:!0}},scaleZMinus:{renderSettings:{positionX:80*M,positionY:-100.64,width:43.52,height:36.04},cropSettings:{positionX:160,positionY:148,width:64,height:53},data:{direction:\"z\",positive:!1}},scaleZPlus:{renderSettings:{positionX:97.92,positionY:-100.64,width:61*M,height:36.04},cropSettings:{positionX:224,positionY:148,width:61,height:53},data:{direction:\"z\",positive:!0}},scaleAllMinus:{renderSettings:{positionX:80*M,positionY:-136.68,width:43.52,height:58*M},cropSettings:{positionX:160,positionY:201,width:64,height:58},data:{direction:\"all\",positive:!1}},scaleAllPlus:{renderSettings:{positionX:97.92,positionY:-136.68,width:61*M,height:58*M},cropSettings:{positionX:224,positionY:201,width:61,height:58},data:{direction:\"all\",positive:!0}}},k={north:{renderSettings:{positionX:196.52,positionY:-34,width:46.24,height:43.52},cropSettings:{positionX:369,positionY:50,width:68,height:64},data:{direction:\"x\",positive:!0}},south:{renderSettings:{positionX:196.52,positionY:183*M*-1,width:46.24,height:77*M},cropSettings:{positionX:369,positionY:183,width:68,height:77},data:{direction:\"x\",positive:!1}},east:{renderSettings:{positionX:357*M,positionY:114*M*-1,width:78*M,height:46.92},cropSettings:{positionX:437,positionY:114,width:78,height:69},data:{direction:\"z\",positive:!0}},west:{renderSettings:{positionX:141.44,positionY:114*M*-1,width:81*M,height:46.92},cropSettings:{positionX:288,positionY:114,width:81,height:69},data:{direction:\"z\",positive:!1}},up:{renderSettings:{positionX:196.52,positionY:114*M*-1,width:46.24,height:23.12},cropSettings:{positionX:369,positionY:114,width:68,height:34},data:{direction:\"y\",positive:!0}},down:{renderSettings:{positionX:196.52,positionY:-100.64,width:46.24,height:23.8},cropSettings:{positionX:369,positionY:148,width:68,height:35},data:{direction:\"y\",positive:!1}}},L={revert:{renderSettings:{positionX:295.8,positionY:207*M*-1,width:55*M,height:55*M},cropSettings:{positionX:515,positionY:207,width:55,height:55},data:{action:\"revert\"}},log:{renderSettings:{positionX:397.12,positionY:207*M*-1,width:63.92,height:56*M},cropSettings:{positionX:664,positionY:207,width:94,height:56},data:{action:\"log\"}}};var z;!function(t){t[t.POSITION=0]=\"POSITION\",t[t.ROTATION=1]=\"ROTATION\"}(z||(z={}));class Dash_UI_ImageRadioButton{constructor(t,e,i,s,o,n=!1){this.parent=t,this.texture=e,this.value=i,this.settings=s,this.onChange=o,this.isActive=n,this.image=new UIImage(this.parent,this.texture),this.image.onClick=new OnPointerDown((()=>{this.onChange(this.value)}));const{on:a,off:h}=this.settings;this.setValues(this.isActive?a:h)}setValues(t){const{width:e,height:i,vAlign:s,hAlign:o,positionX:n,positionY:a}=this.settings.renderSettings;this.image.width=e,this.image.height=i,this.image.sourceLeft=t.positionX,this.image.sourceTop=t.positionY,this.image.sourceWidth=t.width,this.image.sourceHeight=t.height,this.image.positionX=n,this.image.positionY=-1*a,this.image.vAlign=s||\"top\",this.image.hAlign=o||\"left\"}turnOn(){this.setValues(this.settings.on)}turnOff(){this.setValues(this.settings.off)}}class Dash_UI_ImageRadioButton_Group{constructor(t,e,i,s){this.update=s,this.mapping=new Map,this.value=\"1\",Object.keys(i).forEach((s=>{const o=i[s],n=new Dash_UI_ImageRadioButton(t,e,s,o,(t=>{this.mapping.forEach(((e,i)=>{`${t}`==`${i}`?e.turnOn():e.turnOff()})),this.update(t)}));s==this.value&&n.turnOn(),this.mapping.set(s,n)}))}setValue(t){this.value=t,this.mapping.forEach(((e,i)=>{`${t}`==`${i}`?e.turnOn():e.turnOff()}))}hide(){this.mapping.forEach((t=>{t.image.visible=!1}))}show(){this.mapping.forEach((t=>{t.image.visible=!0}))}}const Dash_UI_Generate_StaticImages=(t,e,i)=>{const s=[];return Object.keys(i).forEach((o=>{const n=i[o],a=Dash_UI_StaticImage(t,e,n);s.push(a)})),s},Dash_UI_Generate_StaticButtons=(t,e,i,s)=>{const o=[];return Object.keys(i).forEach((n=>{const a=i[n],h=Dash_UI_Generate_StaticButton(t,e,a,s);o.push(h)})),o},Dash_UI_Generate_StaticButton=(t,e,i,s)=>{const o=Dash_UI_StaticImage(t,e,i);return o.onClick=new OnPointerDown((()=>s(i.data))),o},Dash_UI_StaticImage=(t,e,i)=>{let s=new UIImage(t,e);const{renderSettings:o,cropSettings:n}=i,{vAlign:a,hAlign:h}=o;return s.width=o.width,s.height=o.height,s.sourceLeft=n.positionX,s.sourceTop=n.positionY,s.sourceWidth=n.width,s.sourceHeight=n.height,s.positionX=o.positionX,s.positionY=o.positionY,s.vAlign=a||\"top\",s.hAlign=h||\"left\",s},U=b.create(\"https://pmacom.github.io/assets/dcldash/images/ui/dash_admin.png\");let B=PhysicsCast.instance;class Dash_Tweaker_Instance{constructor(t){this.target=t,this.container=new UIContainerRect(V),this.mode=z.POSITION,this.unitValue=1,this.isAnimating=!1,this.initialPosition=new Vector3,this.initialScale=new Vector3,this.initialRotation=new Quaternion,this.inSelectMode=!1,this.selectionEntity=new TweakerSelector,this.container=new UIContainerRect(V),this.container.visible=!1,this.container.vAlign=\"top\",this.container.hAlign=\"left\",this.container.width=500,this.container.height=177,this.container.positionX=202,this.container.positionY=20,this.positionUnitButtons=new Dash_UI_ImageRadioButton_Group(this.container,U,A,(t=>this.setUnit(parseFloat(t)))),this.rotationUnitButtons=new Dash_UI_ImageRadioButton_Group(this.container,U,O,(t=>this.setUnit(parseFloat(t)))),this.rotationUnitButtons.hide(),this.modeToggleButtons=new Dash_UI_ImageRadioButton_Group(this.container,U,P,(t=>{switch(t){case\"position\":this.setPositionMode(),this.positionUnitButtons.setValue(1),this.setUnit(1);break;case\"rotation\":this.setRotationMode(),this.rotationUnitButtons.setValue(45),this.setUnit(45)}})),this.modeToggleButtons.setValue(\"position\"),this.staticImages=Dash_UI_Generate_StaticImages(this.container,U,D),this.scaleButtons=Dash_UI_Generate_StaticButtons(this.container,U,Y,(t=>{this.mode!=z.POSITION&&(this.setPositionMode(),this.modeToggleButtons.setValue(\"position\"),this.setUnit(1)),this.isAnimating||this.scale(t)})),this.infoDetailButtons=Dash_UI_Generate_StaticButtons(this.container,U,L,(t=>{const{action:e}=t;switch(e){case\"log\":this.printLog();break;case\"revert\":this.revert()}})),this.selectButtons=Dash_UI_Generate_StaticButtons(this.container,U,X,(t=>{const{action:e}=t;switch(e){case\"setSelectOn\":this.inSelectMode=!0,this.selectionMode.start(),this.setSelectButtonState(\"setSelectOn\");break;case\"setSelectOff\":this.selectModeStop(),this.setSelectButtonState(\"setSelectOff\");break;case\"deselect\":this.inSelectMode=!1,this.selectionMode.stop(),this.setTarget(null)}})),this.directionButtons=Dash_UI_Generate_StaticButtons(this.container,U,k,(t=>{switch(this.mode){case z.POSITION:this.isAnimating||this.move(t);break;case z.ROTATION:this.isAnimating||this.rotate(t)}})),this.selectionMode=d.add((()=>{this.target?this.selectModeStop():B.hitFirst(B.getRayFromCamera(200),(t=>{const{didHit:e,entity:i}=t;if(e&&this.inSelectMode){const{entityId:t,meshName:e}=i,s=engine.entities[t];if(\"Dash_Tweaker_Selector\"!==s.name){const t=s.getComponentOrCreate(Transform).scale.clone();this.selectionEntity.getComponent(Transform).scale=t.add((new Vector3).setAll(.1)),this.selectionTarget=s,this.selectionEntity.setParent(s)}}}))})),this.selectionEntity.addComponent(new OnPointerDown((()=>{this.setTarget(this.selectionTarget),this.selectModeStop()}),{hoverText:\"Select Entity\",distance:200})),this.infoDetails=new Dash_Admin_Tweaker_InfoDetails(this.container),this.setSelectButtonState(\"setSelectOff\")}setTarget(t){if(t){const{position:e,scale:i,rotation:s}=t.getComponent(Transform);this.infoDetails.setInitialValues(\"position.x\",e.x),this.infoDetails.setInitialValues(\"position.y\",e.y),this.infoDetails.setInitialValues(\"position.z\",e.z),this.infoDetails.setInitialValues(\"scale.x\",i.x),this.infoDetails.setInitialValues(\"scale.y\",i.y),this.infoDetails.setInitialValues(\"scale.z\",i.z),this.infoDetails.setInitialValues(\"rotation.eulerAngles.x\",s.eulerAngles.x,!0),this.infoDetails.setInitialValues(\"rotation.eulerAngles.y\",s.eulerAngles.y,!0),this.infoDetails.setInitialValues(\"rotation.eulerAngles.z\",s.eulerAngles.z,!0),this.infoDetails.setInfo(t),this.initialRotation=s.clone(),this.initialScale=i.clone(),this.initialPosition=e.clone(),this.setSelectButtonState(\"deselect\")}else this.setSelectButtonState(\"setSelectOff\"),this.infoDetails.clear();this.target=t}setSelectButtonState(t){this.selectButtons.forEach((t=>{t.opacity=0,t.isPointerBlocker=!1}));const e=this.selectButtons[0],i=this.selectButtons[1],s=this.selectButtons[2];switch(t){case\"setSelectOn\":e.opacity=1,e.isPointerBlocker=!0;break;case\"setSelectOff\":i.opacity=1,i.isPointerBlocker=!0,this.selectModeStop();break;case\"deselect\":s.opacity=1,s.isPointerBlocker=!0,this.selectModeStop()}}selectModeStop(){this.inSelectMode=!1,this.selectionEntity.setParent(null),this.selectionEntity.alive&&engine.removeEntity(this.selectionEntity),this.selectionMode.stop()}printLog(){if(this.target){const t=this.target.getComponentOrCreate(Transform),{position:e,scale:i,rotation:s}=t,o=[this.formatOutput(e.x),this.formatOutput(e.y),this.formatOutput(e.z)],n=[this.formatOutput(i.x),this.formatOutput(i.y),this.formatOutput(i.z)],a=[this.formatOutput(s.eulerAngles.x),this.formatOutput(s.eulerAngles.y),this.formatOutput(s.eulerAngles.z)];log(`\\n\\n            Tweaker Output:\\n            name: ${this.target.name?this.target.name:\"No name\"}\\n            uuid: ${this.target.uuid}\\n\\n            Transform({\\n               position: new Vector3(${o.join(\", \")}),\\n               scale: new Vector3(${n.join(\", \")}),\\n               rotation: new Quaternion().setEuler(${a.join(\", \")}),\\n            })\\n`)}}revert(){if(this.target){const t=this.initialPosition.clone(),e=this.initialScale.clone(),i=this.initialRotation.clone();this.infoDetails.setInitialValues(\"position.x\",t.x),this.infoDetails.setInitialValues(\"position.y\",t.y),this.infoDetails.setInitialValues(\"position.z\",t.z),this.infoDetails.setInitialValues(\"scale.x\",e.x),this.infoDetails.setInitialValues(\"scale.y\",e.y),this.infoDetails.setInitialValues(\"scale.z\",e.z),this.infoDetails.setInitialValues(\"rotation.eulerAngles.x\",i.eulerAngles.x,!0),this.infoDetails.setInitialValues(\"rotation.eulerAngles.y\",i.eulerAngles.y,!0),this.infoDetails.setInitialValues(\"rotation.eulerAngles.z\",i.eulerAngles.z,!0),this.target.addComponentOrReplace(new Transform({position:t,scale:e,rotation:i}))}}formatOutput(t){return parseFloat(`${t}`).toFixed(3)}setPositionMode(){this.mode=z.POSITION,this.positionUnitButtons.show(),this.rotationUnitButtons.hide()}setRotationMode(){this.mode=z.ROTATION,this.positionUnitButtons.hide(),this.rotationUnitButtons.show()}move(t){if(this.target){const{direction:e,positive:i}=t,s=this.target.getComponent(Transform);if(\"all\"!==e){const t=s.position[e],o=t+(i?this.unitValue:-1*this.unitValue);this.infoDetails.set(`position.${e}`,o),this.isAnimating=!0,x.add({duration:.2,onFrame:i=>{s.position[e]=Scalar.Lerp(t,o,p.easeOutQuart(i))},onComplete:()=>{s.position[e]=o,this.isAnimating=!1}})}}}scale(t){if(this.target){const{direction:e,positive:i}=t,s=this.target.getComponent(Transform);if(\"all\"!=e){const t=s.scale[e],o=t+(i?this.unitValue:-1*this.unitValue);this.infoDetails.set(`scale.${e}`,o),this.isAnimating=!0,x.add({duration:.2,onFrame:i=>{s.scale[e]=Scalar.Lerp(t,o,p.easeOutQuart(i))},onComplete:()=>{s.scale[e]=o,this.isAnimating=!1}})}else{const{x:t,y:e,z:o}=s.scale;let n=t+(i?this.unitValue:-1*this.unitValue),a=e+(i?this.unitValue:-1*this.unitValue),h=o+(i?this.unitValue:-1*this.unitValue);this.infoDetails.set(\"scale.x\",n),this.infoDetails.set(\"scale.y\",a),this.infoDetails.set(\"scale.z\",h),this.isAnimating=!0,x.add({duration:.2,onFrame:i=>{s.scale.set(Scalar.Lerp(t,n,p.easeOutQuart(i)),Scalar.Lerp(e,a,p.easeOutQuart(i)),Scalar.Lerp(o,h,p.easeOutQuart(i)))},onComplete:()=>{s.scale.x=n,s.scale.y=a,s.scale.z=h,this.isAnimating=!1}})}}}rotate(t){if(this.target){const{direction:e,positive:i}=t,s=this.target.getComponent(Transform);if(\"all\"!==e){s.rotation.clone();const t=s.rotation.eulerAngles[e],{x:o,y:n,z:a}=s.rotation.eulerAngles;let h=t+(i?this.unitValue:-1*this.unitValue);switch(e){case\"x\":this.isAnimating=!0,this.infoDetails.set(\"rotation.eulerAngles.x\",h,!0),this.infoDetails.set(\"rotation.eulerAngles.y\",n,!0),this.infoDetails.set(\"rotation.eulerAngles.z\",a,!0),x.add({duration:.2,onFrame:e=>{s.rotation.setEuler(Scalar.Lerp(t,h,p.easeOutQuart(e)),n,a)},onComplete:()=>{this.isAnimating=!1,s.rotation.setEuler(h,n,a)}});break;case\"y\":this.isAnimating=!0,this.infoDetails.set(\"rotation.eulerAngles.x\",o,!0),this.infoDetails.set(\"rotation.eulerAngles.y\",h,!0),this.infoDetails.set(\"rotation.eulerAngles.z\",a,!0),x.add({duration:.2,onFrame:e=>{s.rotation.setEuler(o,Scalar.Lerp(t,h,p.easeOutQuart(e)),a)},onComplete:()=>{this.isAnimating=!1,s.rotation.setEuler(o,h,a)}});break;case\"z\":this.isAnimating=!0,this.infoDetails.set(\"rotation.eulerAngles.x\",o,!0),this.infoDetails.set(\"rotation.eulerAngles.y\",n,!0),this.infoDetails.set(\"rotation.eulerAngles.z\",h,!0),x.add({duration:.2,onFrame:e=>{s.rotation.setEuler(o,n,Scalar.Lerp(t,h,p.easeOutQuart(e)))},onComplete:()=>{this.isAnimating=!1,s.rotation.setEuler(o,n,h)}})}}}}getTarget(){return this.target}setUnit(t){this.unitValue=t}hide(){this.container.visible=!1}show(){this.container.visible=!0}}const H={tweaker:{renderSettings:{positionX:163,positionY:25,width:34,height:34},on:{positionX:515,positionY:262,width:34,height:34},off:{positionX:549,positionY:262,width:34,height:34}}};var N;!function(t){t[t.NONE=0]=\"NONE\",t[t.TWEAKER=1]=\"TWEAKER\",t[t.ZONE=2]=\"ZONE\"}(N||(N={}));const R=b.create(\"https://pmacom.github.io/assets/dcldash/images/ui/dash_admin.png\");let Z;class Dash_AdminMenu{constructor(){this.mode=N.NONE,this.tweaker=new Dash_Tweaker_Instance,executeTask((()=>__awaiter(this,void 0,void 0,(function*(){(yield o.isPreviewMode())&&(this.modeSelect=new Dash_UI_AdminRadioButton_Group(R,H,(t=>{switch(t){case\"tweaker\":this.mode=this.mode!==N.TWEAKER?N.TWEAKER:N.NONE;break;case\"zone\":this.mode=this.mode!==N.ZONE?N.ZONE:N.NONE}this.updateVisible()})))}))))}updateVisible(){var t;switch(this.hideAll(),this.mode){case N.TWEAKER:this.tweaker&&this.tweaker.show();break;case N.ZONE:break;default:null===(t=this.modeSelect)||void 0===t||t.setValue(\"\")}}hideAll(){this.tweaker&&this.tweaker.hide()}}const Dash_Wait=(t,e)=>x.add({duration:e,onComplete:()=>t()}),getPositionData=()=>{let{feetPosition:t,position:e,rotation:i}=Camera.instance;return JSON.stringify({feetPosition:t,position:e,rotation:i})};t.Dash_AdminMenu=Dash_AdminMenu,t.Dash_AnimationQueue=x,t.Dash_BoxHighlight=Dash_BoxHighlight,t.Dash_Cache_Texture=b,t.Dash_Cache_VideoClip=_,t.Dash_Cache_VideoMaterial=E,t.Dash_Cache_VideoTexture=C,t.Dash_CheckWithinVolume=Dash_CheckWithinVolume,t.Dash_Countdown=class{constructor(){this.remaining=0,this.seconds=0,this.onCompleteMap=new Set,this.onUpdateMap=new Set,this.onSecondMap=new Set,this.timer=d.add((t=>this.onFrame(t)))}setTimer(t){this.remaining=this.seconds=t}onUpdate(t){this.onUpdateMap.add(t)}onSecond(t){this.onSecondMap.add(t)}onComplete(t){this.onCompleteMap.add(t)}start(){this.timer.start()}stop(){this.timer.stop()}onFrame(t){if(this.remaining>0){this.remaining-=t;let e=Math.floor(this.remaining);e!=this.seconds&&(this.seconds=e,this.onSecondMap.forEach((t=>t(e))))}this.seconds<=0&&(this.onCompleteMap.forEach((t=>t())),this.timer.stop()),this.onUpdateMap.forEach((e=>e(t)))}},t.Dash_Ease=p,t.Dash_GetSceneData=Dash_GetSceneData,t.Dash_GlobalCanvas=V,t.Dash_LandBarrier=class{constructor(t){this.exitLocation=t,this.barrierZones=[],this.parcelStrings=new Set,this.message=\"privateevent\",executeTask((()=>__awaiter(this,void 0,void 0,(function*(){const{base:t,parcels:e,maxHeight:i}=yield Dash_GetSceneData(),s=t.split(\",\");this.base=new Vector2(parseInt(s[0]),parseInt(s[1])),e.forEach((t=>this.parcelStrings.add(t))),e.forEach(((t,e)=>{const s=t.split(\",\"),o=new Vector2(parseInt(s[0]),parseInt(s[1])),n=new Vector2(o.x-this.base.x,o.y-this.base.y),a=new Vector3(16*n.x+8,1,16*n.y+8),h=!this.parcelStrings.has(`${o.x-1},${o.y}`),r=!this.parcelStrings.has(`${o.x+1},${o.y}`),l=!this.parcelStrings.has(`${o.x},${o.y+1}`),c=!this.parcelStrings.has(`${o.x},${o.y-1}`),d=new BarrierZone(w,this.getMessage(),i,this.exitLocation,h,r,l,c);d.addComponentOrReplace(new Transform({position:a})),this.barrierZones.push(d)}))}))))}getMessage(){return this.message}setMessage(t){this.message=t,this.barrierZones.forEach((e=>{e.setMessage(t)}))}disable(){this.barrierZones.forEach((t=>{t.disable(),t.alive&&engine.removeEntity(t)}))}enable(){this.barrierZones.forEach((t=>{t.enable(),t.alive||engine.addEntity(t)}))}},t.Dash_Material=c,t.Dash_OnFirstMove=t=>{Dash_Wait((()=>{const e=getPositionData(),i=d.add((()=>{const s=getPositionData();e!=s&&(t(),i.stop())}));i.start()}),1)},t.Dash_OnUpdateFrame=d,t.Dash_SimplePoster=Dash_SimplePoster,t.Dash_TriggerZone=Dash_TriggerZone,t.Dash_Tweaker=t=>{var e,i;Z?null===(i=Z.tweaker)||void 0===i||i.setTarget(t):(Z=new Dash_AdminMenu,null===(e=Z.tweaker)||void 0===e||e.setTarget(t))},t.Dash_UI_Crop_Image=(t,e,i,s,o,n,a)=>{let h=Scalar.InverseLerp(0,t,o),r=Scalar.InverseLerp(0,e,n),l=Scalar.InverseLerp(0,t,i),c=Scalar.InverseLerp(0,e,s),d={x:h,y:1-r},p={x:h+l,y:1-r},u={x:h+l,y:1-r-c},g={x:h,y:1-r-c},m=a?[u.x,u.y,g.x,g.y,d.x,d.y,p.x,p.y]:[p.x,p.y,d.x,d.y,g.x,g.y,u.x,u.y];return[...m,...m]},t.Dash_UI_Generate_StaticButton=Dash_UI_Generate_StaticButton,t.Dash_UI_Generate_StaticButtons=Dash_UI_Generate_StaticButtons,t.Dash_UI_Generate_StaticImages=Dash_UI_Generate_StaticImages,t.Dash_UI_StaticImage=Dash_UI_StaticImage,t.Dash_UV_Crop_Video=(t,e,i,s,o,n)=>{const a=[Scalar.InverseLerp(0,t,o+i),Scalar.InverseLerp(0,e,n+s),Scalar.InverseLerp(0,t,o),Scalar.InverseLerp(0,e,n+s),Scalar.InverseLerp(0,t,o),Scalar.InverseLerp(0,e,n),Scalar.InverseLerp(0,t,o+i),Scalar.InverseLerp(0,e,n)];return[...a,...a]},t.Dash_UV_Curved_Image=(t,e)=>{let i=t/100*2,s=i*e,o=i*e+i,n=[s,0,o,0,o,1,s,1];return[...n,...n]},t.Dash_UV_Curved_Video=(t,e)=>{let i=t/100*2,s=i*e,o=i*e+i,n=[s,1,o,1,o,0,s,0];return[...n,...n]},t.Dash_UV_Image=()=>[1,0,0,0,0,1,1,1,0,0,1,0,1,1,0,1],t.Dash_UV_Plane_Crop_Image=Dash_UV_Plane_Crop_Image,t.Dash_UV_Video=()=>[0,1,1,1,1,0,0,0,1,1,0,1,0,0,1,0],t.Dash_Wait=Dash_Wait,t.Dash_Zone=Dash_Zone,t.Dash_ZoneMaker=Dash_ZoneMaker,t.DynamicImage=DynamicImage,t.DynamicImageBar=class{constructor(t,e,i=0,s=u.HALIGN_CENTER){this.backgroundImage=t,this.orientation=s,this.ease=p.easeOutQuint,this.fillImage=new DynamicImage(e),this.backgroundImage.opacity=.5,this.width=new UIValue(e.width).value,this.height=new UIValue(e.height).value,this.sourceWidth=new UIValue(e.sourceWidth).value,this.sourceHeight=new UIValue(e.sourceHeight).value,this.sourceLeft=new UIValue(e.sourceLeft).value,this.sourceTop=new UIValue(e.sourceTop).value,this.value=i,this.setValue(this.value,0)}setEase(t){this.ease=t}setValue(t,e=1){const i=this.width*(t/100),s=this.height*(t/100),o=this.sourceWidth*(t/100),n=this.sourceHeight*(t/100);switch(this.orientation){case u.HALIGN_CENTER:switch(this.fillImage.image.hAlign){case\"left\":this.fillImage.moveToX(this.width/2-this.width/2*Scalar.InverseLerp(0,this.sourceWidth,o),e,this.ease),this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-o)/2,e,this.ease);break;case\"center\":this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-o)/2,e,this.ease);break;case\"right\":this.fillImage.moveToX(this.width/2*-1+this.width/2*Scalar.InverseLerp(0,this.sourceWidth,o),e,this.ease),this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-o)/2,e,this.ease)}this.fillImage.resizeWidthTo(i,e,this.ease),this.fillImage.resizeSourceWidthTo(o,e,this.ease);break;case u.HALIGN_LEFT:switch(this.fillImage.image.hAlign){case\"left\":break;case\"center\":this.fillImage.moveToX(this.width/2+this.width/2*Scalar.InverseLerp(0,this.sourceWidth,o)-this.width,e,this.ease);break;case\"right\":this.fillImage.moveToX(this.width*Scalar.InverseLerp(0,this.sourceWidth,o)-this.width,e,this.ease)}this.fillImage.resizeWidthTo(i,e,this.ease),this.fillImage.resizeSourceWidthTo(o,e,this.ease);break;case u.HALIGN_RIGHT:switch(this.fillImage.image.hAlign){case\"left\":this.fillImage.moveToX(this.width+this.width*Scalar.InverseLerp(this.sourceWidth,0,o)-this.width,e,this.ease),this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-o),e,this.ease);break;case\"center\":this.fillImage.moveToX(this.width+this.width/2*Scalar.InverseLerp(this.sourceWidth,0,o)-this.width,e,this.ease),this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-o),e,this.ease);break;case\"right\":this.fillImage.moveSourceLeftTo(this.sourceLeft+(this.sourceWidth-o),e,this.ease),this.fillImage.moveToX(0,e,this.ease)}this.fillImage.resizeWidthTo(i,e,this.ease),this.fillImage.resizeSourceWidthTo(o,e,this.ease);break;case u.VALIGN_CENTER:switch(this.fillImage.image.vAlign){case\"top\":this.fillImage.moveToY(this.height/2*Scalar.InverseLerp(0,this.sourceHeight,n)-this.height/2,e,this.ease),this.fillImage.moveSourceTopTo(this.sourceTop+(this.sourceHeight-n)/2,e,this.ease);break;case\"center\":this.fillImage.moveSourceTopTo(this.sourceTop+(this.sourceHeight-n)/2,e,this.ease);break;case\"bottom\":this.fillImage.moveToY(this.height/2*Scalar.InverseLerp(this.sourceHeight,0,n),e,this.ease),this.fillImage.moveSourceTopTo(this.sourceTop+(this.sourceHeight-n)/2,e,this.ease)}this.fillImage.resizeHeightTo(s,e,this.ease),this.fillImage.resizeSourceHeightTo(n,e,this.ease);break;case u.VALIGN_TOP:switch(this.fillImage.image.vAlign){case\"top\":break;case\"center\":this.fillImage.moveToY(this.height/2-this.height/2*Scalar.InverseLerp(0,this.sourceHeight,n),e,this.ease);break;case\"bottom\":this.fillImage.moveToY(this.height-this.height*Scalar.InverseLerp(0,this.sourceHeight,n),e,this.ease),this.fillImage.moveSourceTopTo(0,e,this.ease)}this.fillImage.resizeHeightTo(s,e,this.ease),this.fillImage.resizeSourceHeightTo(n,e,this.ease);break;case u.VALIGN_BOTTOM:switch(this.fillImage.image.vAlign){case\"top\":this.fillImage.moveToY(this.height*Scalar.InverseLerp(this.sourceHeight,0,n)*-1,e,this.ease),this.fillImage.moveSourceTopTo(this.sourceHeight-n,e,this.ease);break;case\"center\":this.fillImage.moveToY(this.height/2*Scalar.InverseLerp(this.sourceHeight,0,n)*-1,e,this.ease),this.fillImage.moveSourceTopTo(this.sourceHeight-n,e,this.ease);break;case\"bottom\":this.fillImage.moveToY(Scalar.InverseLerp(0,this.sourceHeight,n),e,this.ease),this.fillImage.moveSourceTopTo(this.sourceHeight-n,e,this.ease)}this.fillImage.resizeHeightTo(s,e,this.ease),this.fillImage.resizeSourceHeightTo(n,e,this.ease)}}},Object.defineProperty(t,\"__esModule\",{value:!0})}));\n//# sourceMappingURL=index.js.map\n",
    "sha256": "58a728fa659d7ec996bb363d0d1525753d46862da2b626cf0d6cf0872e464aba"
  },
  {
    "path": "src/game.ts",
    "content": "var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\ndefine(\"instances/transitor.instance\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.TransitorInstance = void 0;\r\n    var TransitorInstance = /** @class */ (function (_super) {\r\n        __extends(TransitorInstance, _super);\r\n        function TransitorInstance(instanceController) {\r\n            var _this = _super.call(this) || this;\r\n            _this.mainGeo = new Entity();\r\n            _this.button = new Entity();\r\n            _this.click = new Entity();\r\n            _this.backButton = new Entity();\r\n            _this.clickBack = new Entity();\r\n            _this.aquarium = new Entity();\r\n            //music\r\n            _this.music = new Entity();\r\n            _this.clip = new AudioClip('sounds/Tunnel Music.mp3');\r\n            _this.source = new AudioSource(_this.clip);\r\n            _this.modArea = new Entity();\r\n            _this.instanceController = instanceController;\r\n            _this.mainGeo.addComponent(new GLTFShape('models/ubs_inbetweenspace_geo.gltf'));\r\n            _this.button.addComponent(new GLTFShape('models/ubs_inbetweenspace_button_collider.gltf'));\r\n            _this.backButton.addComponent(new GLTFShape('models/ubs_inbetweenspace_back_button.gltf'));\r\n            _this.clickBack.addComponent(new BoxShape());\r\n            _this.click.addComponent(new BoxShape());\r\n            _this.aquarium.addComponent(new GLTFShape('models/ubs_inbetweenspace_aquarium.gltf'));\r\n            _this.music.addComponent(_this.source);\r\n            _this.music.addComponent(new Transform({ position: new Vector3(6.78, 61.10, 57.79) }));\r\n            _this.source.loop = true;\r\n            _this.source.volume = 1;\r\n            _this.source.playing = true;\r\n            _this.mainGeo.setParent(_this);\r\n            _this.button.setParent(_this);\r\n            _this.click.setParent(_this);\r\n            _this.backButton.setParent(_this);\r\n            _this.clickBack.setParent(_this);\r\n            _this.music.setParent(_this);\r\n            _this.aquarium.setParent(_this);\r\n            _this.method();\r\n            _this.setModArea();\r\n            return _this;\r\n        }\r\n        TransitorInstance.prototype.method = function () {\r\n            var _this = this;\r\n            var material = new Material();\r\n            material.albedoColor = Color4.FromInts(0, 0, 0, 0);\r\n            this.click.addComponent(material);\r\n            this.click.getComponent(BoxShape).withCollisions = false;\r\n            this.click.addComponent(new Transform({\r\n                position: new Vector3(32.99, 9.51, 55.60),\r\n                scale: new Vector3(1.400, 1.400, 1.400),\r\n                rotation: new Quaternion().setEuler(0.000, 270.000, 0.000),\r\n            }));\r\n            this.click.addComponentOrReplace(new OnPointerDown(function () {\r\n                openExternalURL('https://play.decentraland.org/?realm=worlds.dcl.guru%2Fworld%2FinternalTest.dcl.eth');\r\n            }));\r\n            this.clickBack.addComponent(material);\r\n            this.clickBack.getComponent(BoxShape).withCollisions = false;\r\n            this.clickBack.addComponent(new Transform({\r\n                position: new Vector3(36.17, 9.32, 10.44),\r\n                scale: new Vector3(1.400, 1.400, 1.400),\r\n                rotation: new Quaternion().setEuler(0.000, 270.000, 0.000),\r\n            }));\r\n            this.clickBack.addComponentOrReplace(new OnPointerDown(function () {\r\n                _this.instanceController.loadExterior();\r\n            }, { hoverText: 'Go back to Campus' }));\r\n        };\r\n        TransitorInstance.prototype.setModArea = function () {\r\n            this.modArea.addComponent(new CameraModeArea({\r\n                area: { box: new Vector3(16, 1, 14) },\r\n                cameraMode: CameraMode.FirstPerson,\r\n            }));\r\n            this.modArea.addComponent(new Transform({\r\n                position: new Vector3(6.45, 61.00, 2.59),\r\n            }));\r\n            this.modArea.setParent(this);\r\n        };\r\n        return TransitorInstance;\r\n    }(Entity));\r\n    exports.TransitorInstance = TransitorInstance;\r\n});\r\ndefine(\"utils/exitplane\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.ExitPlane = void 0;\r\n    var ExitPlane = /** @class */ (function (_super) {\r\n        __extends(ExitPlane, _super);\r\n        function ExitPlane() {\r\n            var _this = _super.call(this) || this;\r\n            _this.shape = new BoxShape();\r\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n            _this.onClick = function () { };\r\n            _this.distance = 5;\r\n            _this.message = 'Interact';\r\n            _this.material = new Material();\r\n            _this.addComponent(new Transform());\r\n            _this.addComponent(_this.shape);\r\n            _this.updateOnPointerDown();\r\n            _this.shape.withCollisions = false;\r\n            _this.material.albedoColor = Color4.FromInts(0, 0, 0, 0);\r\n            _this.addComponentOrReplace(_this.material);\r\n            return _this;\r\n        }\r\n        ExitPlane.prototype.updateOnPointerDown = function () {\r\n            var _this = this;\r\n            this.addComponentOrReplace(new OnPointerDown(function () {\r\n                _this.onClick();\r\n            }, {\r\n                hoverText: this.message,\r\n                distance: this.distance\r\n            }));\r\n        };\r\n        ExitPlane.prototype.setMessage = function (message) {\r\n            this.message = message;\r\n            this.updateOnPointerDown();\r\n        };\r\n        ExitPlane.prototype.setDistance = function (distance) {\r\n            this.distance = distance;\r\n            this.updateOnPointerDown();\r\n        };\r\n        return ExitPlane;\r\n    }(Entity));\r\n    exports.ExitPlane = ExitPlane;\r\n});\r\ndefine(\"utils/ontriggerzone\", [\"require\", \"exports\", \"@dcl/ecs-scene-utils\"], function (require, exports, utils) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.TriggerZone = void 0;\r\n    var TriggerZone = /** @class */ (function (_super) {\r\n        __extends(TriggerZone, _super);\r\n        function TriggerZone() {\r\n            var _this = _super.call(this) || this;\r\n            _this.shape = new BoxShape();\r\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n            _this.onClick = function () { };\r\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n            _this.onCameraEnter = function () { };\r\n            // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n            _this.onCameraExit = function () { };\r\n            _this.triggerBox = new utils.TriggerBoxShape();\r\n            _this.addComponent(new Transform());\r\n            _this.addComponent(_this.shape);\r\n            _this.shape.visible = false;\r\n            _this.shape.withCollisions = false;\r\n            _this.updateOnTrigger();\r\n            return _this;\r\n        }\r\n        TriggerZone.prototype.updateOnTrigger = function () {\r\n            var _this = this;\r\n            this.addComponentOrReplace(new utils.TriggerComponent(this.triggerBox, //shape\r\n            {\r\n                onCameraEnter: function () {\r\n                    _this.onCameraEnter();\r\n                },\r\n                onCameraExit: function () {\r\n                    _this.onCameraExit();\r\n                }\r\n            }));\r\n        };\r\n        return TriggerZone;\r\n    }(Entity));\r\n    exports.TriggerZone = TriggerZone;\r\n});\r\ndefine(\"classes/ui.button.class\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.Button = void 0;\r\n    var Button = /** @class */ (function (_super) {\r\n        __extends(Button, _super);\r\n        function Button(canvas, url, width, height, sourceHeight, sourceWidth, positionX, positionY, hAlign, vAlign, \r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        onClick, visible_) {\r\n            if (visible_ === void 0) { visible_ = false; }\r\n            var _this = _super.call(this, canvas, new Texture(url)) || this;\r\n            _this.width = width;\r\n            _this.height = height;\r\n            _this.sourceHeight = sourceHeight;\r\n            _this.sourceWidth = sourceWidth;\r\n            _this.positionX = positionX;\r\n            _this.positionY = positionY;\r\n            _this.hAlign = hAlign;\r\n            _this.vAlign = vAlign;\r\n            _this.onClick = new OnPointerDown(onClick);\r\n            _this.isPointerBlocker = true;\r\n            _this.visible = visible_;\r\n            return _this;\r\n        }\r\n        return Button;\r\n    }(UIImage));\r\n    exports.Button = Button;\r\n});\r\ndefine(\"classes/screen\", [\"require\", \"exports\", \"classes/ui.button.class\"], function (require, exports, ui_button_class_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.Banner = exports.VideoScreen = void 0;\r\n    var VideoScreen = /** @class */ (function (_super) {\r\n        __extends(VideoScreen, _super);\r\n        function VideoScreen(url, position) {\r\n            var _this = _super.call(this) || this;\r\n            _this.myVideoClip = new VideoClip(url);\r\n            _this.myVideoTexture = new VideoTexture(_this.myVideoClip);\r\n            _this.myMaterial = new Material();\r\n            _this.myMaterial.albedoTexture = _this.myVideoTexture;\r\n            _this.addComponent(new PlaneShape());\r\n            _this.addComponent(new Transform());\r\n            _this.addComponent(_this.myMaterial);\r\n            _this.addComponent(new OnPointerDown(function () {\r\n                _this.myVideoTexture.playing = !_this.myVideoTexture.playing;\r\n            }, { distance: 10, hoverText: 'Click to Play/Pause' }));\r\n            return _this;\r\n        }\r\n        return VideoScreen;\r\n    }(Entity));\r\n    exports.VideoScreen = VideoScreen;\r\n    var Banner = /** @class */ (function (_super) {\r\n        __extends(Banner, _super);\r\n        function Banner(url, position, rotation, scale, ratio, flipGrowthAxis, height, width) {\r\n            if (flipGrowthAxis === void 0) { flipGrowthAxis = false; }\r\n            var _this = _super.call(this) || this;\r\n            _this.myMaterial = new Material();\r\n            _this.canvas = new UICanvas;\r\n            var x = position.x, y = position.y, z = position.z;\r\n            var Rx = rotation.Rx, Ry = rotation.Ry, Rz = rotation.Rz;\r\n            _this.p1 = new Texture(url);\r\n            _this.myMaterial.albedoTexture = _this.p1;\r\n            _this.addComponent(new PlaneShape());\r\n            _this.detail = new UIImage(_this.canvas, new Texture(url));\r\n            _this.exitButton = new ui_button_class_1.Button(_this.canvas, 'images/exit_button.png', '8%', '8%', 93, 208, '0%', '-30%', 'bottom', 'center', function () {\r\n            }, false);\r\n            var scale_ = new Vector3(scale * ratio, scale, 3);\r\n            if (flipGrowthAxis) {\r\n                scale_ = new Vector3(scale, scale * ratio, 3);\r\n            }\r\n            _this.addComponent(new Transform({\r\n                position: new Vector3(x, y - (scale / 2), z),\r\n                scale: scale_,\r\n                rotation: new Quaternion().setEuler(Rx, Ry, Rz),\r\n            }));\r\n            _this.addComponent(_this.myMaterial);\r\n            _this.myMaterial.roughness = 1;\r\n            _this.myMaterial.specularIntensity = 2;\r\n            _this.myMaterial.metallic = 0;\r\n            _this.detail.visible = false;\r\n            _this.addComponent(new OnPointerDown(function () {\r\n                _this.exitButton.visible = true;\r\n                _this.detail.visible = true;\r\n                var originalAspectRatio = width / height;\r\n                var uiWidthPercentage = 60;\r\n                var uiWidth = uiWidthPercentage / 100 * 1000; // Assuming UI canvas width is 1000 units\r\n                var uiHeight = uiWidth / originalAspectRatio;\r\n                _this.detail.sourceHeight = height;\r\n                _this.detail.sourceWidth = width;\r\n                _this.detail.height = uiHeight.toString() + 'px';\r\n                _this.detail.width = uiWidth.toString() + 'px';\r\n                if (flipGrowthAxis) {\r\n                    var originalAspectRatio_1 = width / height;\r\n                    var uiWidthPercentage_1 = 32;\r\n                    var uiWidth_1 = uiWidthPercentage_1 / 100 * 1000; // Assuming UI canvas width is 1000 units\r\n                    var uiHeight_1 = uiWidth_1 / originalAspectRatio_1;\r\n                    _this.detail.sourceHeight = height;\r\n                    _this.detail.sourceWidth = width;\r\n                    _this.detail.height = uiHeight_1.toString() + 'px';\r\n                    _this.detail.width = uiWidth_1.toString() + 'px';\r\n                    _this.exitButton.positionX = '1%';\r\n                    _this.exitButton.positionY = '-52%';\r\n                }\r\n                // Set the position and scale of the UI image\r\n                _this.detail.positionX = '0px'; // Adjust if necessary\r\n                _this.detail.positionY = '0px'; // Adjust if necessary\r\n                _this.detail.visible = true;\r\n                // this.exitButton.visible = true\r\n                _this.exitButton.onClick = new OnPointerDown(function () {\r\n                    _this.exitButton.visible = false;\r\n                    _this.detail.visible = false;\r\n                });\r\n            }));\r\n            return _this;\r\n        }\r\n        return Banner;\r\n    }(Entity));\r\n    exports.Banner = Banner;\r\n});\r\ndefine(\"classes/db.handler\", [\"require\", \"exports\", \"classes/screen\"], function (require, exports, screen_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.Database_handler = void 0;\r\n    var Database_handler = /** @class */ (function () {\r\n        function Database_handler(private_key) {\r\n            this.url = false ? 'http://localhost:8000' : 'https://api.dclworlds.com';\r\n            this.private_key = private_key;\r\n        }\r\n        Database_handler.prototype.getallusers = function (dbname) {\r\n            if (dbname === void 0) { dbname = this.private_key; }\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var url, response, json, e_1;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            _a.trys.push([0, 3, , 4]);\r\n                            url = this.url + \"/all-users?dbName=\".concat(dbname);\r\n                            return [4 /*yield*/, fetch(url)];\r\n                        case 1:\r\n                            response = _a.sent();\r\n                            log('making a call to', url);\r\n                            return [4 /*yield*/, response.json()];\r\n                        case 2:\r\n                            json = _a.sent();\r\n                            return [2 /*return*/];\r\n                        case 3:\r\n                            e_1 = _a.sent();\r\n                            log('error fetching scores from server ', e_1);\r\n                            return [3 /*break*/, 4];\r\n                        case 4: return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        Database_handler.prototype.getScreen = function (screenName, position, rotation, overRideScale, flipGrowthAxis) {\r\n            if (overRideScale === void 0) { overRideScale = false; }\r\n            if (flipGrowthAxis === void 0) { flipGrowthAxis = false; }\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var url, response, screenDetails, height, width, scale, ratio, dclObject, position_1, scale, ratio, dclObject;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            url = this.url + \"/api/media/scene/\".concat(this.private_key, \"/\").concat(screenName);\r\n                            return [4 /*yield*/, fetch(url)];\r\n                        case 1:\r\n                            response = _a.sent();\r\n                            return [4 /*yield*/, response.json()];\r\n                        case 2:\r\n                            screenDetails = _a.sent();\r\n                            height = screenDetails.height, width = screenDetails.width;\r\n                            if (screenDetails.url.match('storage.googleapis.com/aopf-1/') !== null) {\r\n                                screenDetails.url = screenDetails.url.replace('storage.googleapis.com/aopf-1/', 'cdn.dclworlds.com/');\r\n                            }\r\n                            if (screenDetails.uploadType === 'image') {\r\n                                if (overRideScale)\r\n                                    screenDetails.scale = overRideScale;\r\n                                scale = Number(screenDetails.scale) || 1;\r\n                                ratio = screenDetails.width / screenDetails.height;\r\n                                if (flipGrowthAxis) {\r\n                                    ratio = screenDetails.height / screenDetails.width;\r\n                                }\r\n                                dclObject = new screen_1.Banner(screenDetails.url, position, rotation, scale, ratio, flipGrowthAxis, height, width);\r\n                                return [2 /*return*/, { dclObject: dclObject, position: position, scale: scale, ratio: ratio }];\r\n                            }\r\n                            else if (screenDetails.uploadType === 'video') {\r\n                                position_1 = screenDetails.position;\r\n                                scale = screenDetails.scale;\r\n                                ratio = 1;\r\n                                dclObject = new screen_1.VideoScreen(screenDetails.url, position_1);\r\n                                return [2 /*return*/, { dclObject: dclObject, position: position_1, scale: scale, ratio: ratio }];\r\n                            }\r\n                            else {\r\n                                throw new Error('format not supported yet');\r\n                            }\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return Database_handler;\r\n    }());\r\n    exports.Database_handler = Database_handler;\r\n});\r\ndefine(\"classes/disclaimer.class\", [\"require\", \"exports\", \"classes/ui.button.class\"], function (require, exports, ui_button_class_2) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.Disclaimer = void 0;\r\n    var Disclaimer = /** @class */ (function () {\r\n        function Disclaimer(canvas) {\r\n            log('Disclaimer class');\r\n            this.canvas = canvas;\r\n            this.disclaimer = new UIImage(this.canvas, new Texture('images/ubs_disclaimer_ui.png'));\r\n            this.disclaimer.sourceHeight = 720;\r\n            this.disclaimer.sourceWidth = 1024;\r\n            this.disclaimer.height = '80%';\r\n            this.disclaimer.width = '55%';\r\n            this.disclaimer.visible = true;\r\n            this.disclaimer.hAlign = 'center';\r\n            this.disclaimer.vAlign = 'center';\r\n            this.disclaimer.positionX = -45;\r\n            this.disclaimer.positionY = 25;\r\n            this.disclaimer.visible = true;\r\n            this.setButtons();\r\n        }\r\n        Disclaimer.prototype.setButtons = function () {\r\n            var _this = this;\r\n            this.buttons = {\r\n                continue: new ui_button_class_2.Button(this.canvas, 'images/ubs_disclaimer_continue_button.png', '15%', '20%', 154, 266, '15%', '-26.5%', 'center', 'center', function () {\r\n                    _this.buttons.continue.visible = false;\r\n                    _this.disclaimer.visible = false;\r\n                }, true),\r\n            };\r\n        };\r\n        return Disclaimer;\r\n    }());\r\n    exports.Disclaimer = Disclaimer;\r\n});\r\ndefine(\"data/ui.data\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.__4b = exports.__4a = exports.__3c = exports.__3b = exports.__3a = exports.__2b = exports.__2a = exports.__1d = exports.__1c = exports.__1b = exports.__1a = void 0;\r\n    exports.__1a = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/1/a.png')\r\n    };\r\n    exports.__1b = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/1/b.png')\r\n    };\r\n    exports.__1c = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/1/c.png')\r\n    };\r\n    exports.__1d = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/1/d.png')\r\n    };\r\n    exports.__2a = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/2/a.png')\r\n    };\r\n    exports.__2b = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/2/b.png')\r\n    };\r\n    exports.__3a = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/3/a.png')\r\n    };\r\n    exports.__3b = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/3/b.png')\r\n    };\r\n    exports.__3c = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/3/c.png')\r\n    };\r\n    exports.__4a = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/4/a.png')\r\n    };\r\n    exports.__4b = {\r\n        id: 'camp_a',\r\n        uiSrc: new Texture('images/npcs/4/b.png')\r\n    };\r\n});\r\ndefine(\"classes/ui.class\", [\"require\", \"exports\", \"classes/disclaimer.class\", \"classes/ui.button.class\", \"data/ui.data\"], function (require, exports, disclaimer_class_1, ui_button_class_3, ui_data_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.UI = void 0;\r\n    var UI = /** @class */ (function () {\r\n        function UI() {\r\n            var _this = this;\r\n            this.script = 1;\r\n            this.canvas = new UICanvas();\r\n            this.disclaimer = new disclaimer_class_1.Disclaimer(this.canvas);\r\n            this.uiPlaceholder = new UIImage(this.canvas, new Texture(''));\r\n            this.uiPlaceholder.sourceHeight = 236;\r\n            this.uiPlaceholder.sourceWidth = 621;\r\n            this.uiPlaceholder.height = '30%';\r\n            this.uiPlaceholder.width = '40%';\r\n            this.uiPlaceholder.hAlign = 'center';\r\n            this.uiPlaceholder.vAlign = 'center';\r\n            this.uiPlaceholder.positionX = -45;\r\n            this.uiPlaceholder.positionY = -255;\r\n            this.uiPlaceholder.visible = false;\r\n            this.buttons = {\r\n                __1Next: new ui_button_class_3.Button(this.canvas, 'images/npcs/next.png', '1%', '3%', 24, 14, '14%', '-52%', 'center', 'right', function () {\r\n                    _this.script++;\r\n                    _this.update('__1');\r\n                }),\r\n                __2Next: new ui_button_class_3.Button(this.canvas, 'images/npcs/next.png', '1%', '3%', 24, 14, '14%', '-52%', 'center', 'right', function () {\r\n                    _this.script++;\r\n                    _this.update('__2');\r\n                }),\r\n                __3Next: new ui_button_class_3.Button(this.canvas, 'images/npcs/next.png', '1%', '3%', 24, 14, '14%', '-52%', 'center', 'right', function () {\r\n                    _this.script++;\r\n                    _this.update('__3');\r\n                }),\r\n                __4Next: new ui_button_class_3.Button(this.canvas, 'images/npcs/next.png', '1%', '3%', 24, 14, '14%', '-52%', 'center', 'right', function () {\r\n                    _this.script++;\r\n                    _this.update('__4');\r\n                }),\r\n            };\r\n        }\r\n        UI.prototype.showUI = function (id) {\r\n            this.uiPlaceholder.visible = true;\r\n            switch (id) {\r\n                case '__1':\r\n                    this.buttons.__1Next.visible = true;\r\n                    break;\r\n                case '__2':\r\n                    this.buttons.__2Next.visible = true;\r\n                    break;\r\n                case '__3':\r\n                    this.buttons.__3Next.visible = true;\r\n                    break;\r\n                case '__4':\r\n                    this.buttons.__4Next.visible = true;\r\n                    break;\r\n            }\r\n        };\r\n        UI.prototype.update = function (id) {\r\n            switch (id) {\r\n                case '__1':\r\n                    if (this.script === 1) {\r\n                        this.uiPlaceholder.source = ui_data_1.__1a.uiSrc;\r\n                    }\r\n                    else if (this.script === 2) {\r\n                        this.uiPlaceholder.source = ui_data_1.__1b.uiSrc;\r\n                    }\r\n                    else if (this.script === 3) {\r\n                        this.uiPlaceholder.source = ui_data_1.__1c.uiSrc;\r\n                    }\r\n                    else if (this.script === 4) {\r\n                        this.uiPlaceholder.source = ui_data_1.__1d.uiSrc;\r\n                    }\r\n                    else {\r\n                        this.uiPlaceholder.visible = false;\r\n                        this.buttons.__1Next.visible = false;\r\n                        this.script = 1;\r\n                    }\r\n                    break;\r\n                case '__2':\r\n                    if (this.script === 1) {\r\n                        this.uiPlaceholder.source = ui_data_1.__2a.uiSrc;\r\n                    }\r\n                    else if (this.script === 2) {\r\n                        this.uiPlaceholder.source = ui_data_1.__2b.uiSrc;\r\n                    }\r\n                    else {\r\n                        this.uiPlaceholder.visible = false;\r\n                        this.buttons.__2Next.visible = false;\r\n                        this.script = 1;\r\n                    }\r\n                    break;\r\n                case '__3':\r\n                    if (this.script === 1) {\r\n                        this.uiPlaceholder.source = ui_data_1.__3a.uiSrc;\r\n                    }\r\n                    else if (this.script === 2) {\r\n                        this.uiPlaceholder.source = ui_data_1.__3b.uiSrc;\r\n                    }\r\n                    else if (this.script === 3) {\r\n                        this.uiPlaceholder.source = ui_data_1.__3c.uiSrc;\r\n                    }\r\n                    else {\r\n                        this.uiPlaceholder.visible = false;\r\n                        this.buttons.__3Next.visible = false;\r\n                        this.script = 1;\r\n                    }\r\n                    break;\r\n                case '__4':\r\n                    if (this.script === 1) {\r\n                        this.uiPlaceholder.source = ui_data_1.__4a.uiSrc;\r\n                    }\r\n                    else if (this.script === 2) {\r\n                        this.uiPlaceholder.source = ui_data_1.__4b.uiSrc;\r\n                    }\r\n                    else {\r\n                        this.uiPlaceholder.visible = false;\r\n                        this.buttons.__4Next.visible = false;\r\n                        this.script = 1;\r\n                    }\r\n                    break;\r\n            }\r\n        };\r\n        return UI;\r\n    }());\r\n    exports.UI = UI;\r\n});\r\ndefine(\"classes/npc.class\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.NPC = void 0;\r\n    var NPC = /** @class */ (function (_super) {\r\n        __extends(NPC, _super);\r\n        function NPC(ui, model, position, rotation, id) {\r\n            var _this = _super.call(this) || this;\r\n            _this.ui = ui;\r\n            _this.id = id;\r\n            _this.addComponent(new GLTFShape(model));\r\n            _this.addComponent(new Animator());\r\n            _this.addComponent(new Billboard(false, true, false));\r\n            _this.getComponent(Animator).addClip(new AnimationState(\"idle\"));\r\n            _this.getComponent(Animator).getClip('idle').play(true);\r\n            _this.getComponent(Animator).getClip('idle').looping = true;\r\n            _this.addComponent(new Transform({\r\n                position: position,\r\n                rotation: rotation,\r\n                scale: new Vector3(1, 1, 1)\r\n            }));\r\n            _this.addComponentOrReplace(new OnPointerDown(function () {\r\n                _this.onClick();\r\n            }));\r\n            return _this;\r\n        }\r\n        NPC.prototype.onClick = function () {\r\n            this.ui.update(this.id);\r\n            this.ui.showUI(this.id);\r\n            this.getComponent(Animator).addClip(new AnimationState(\"talking\"));\r\n            this.getComponent(Animator).getClip('talking').play(true);\r\n            this.getComponent(Animator).getClip('talking').looping = true;\r\n        };\r\n        return NPC;\r\n    }(Entity));\r\n    exports.NPC = NPC;\r\n});\r\ndefine(\"classes/external.links.class\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.LinkButton = void 0;\r\n    var LinkButton = /** @class */ (function (_super) {\r\n        __extends(LinkButton, _super);\r\n        function LinkButton(link) {\r\n            var _this = _super.call(this) || this;\r\n            _this.shape = new BoxShape();\r\n            _this.material = new Material();\r\n            _this.click = new Entity();\r\n            _this.link = link;\r\n            _this.addComponent(new GLTFShape('models/button.glb'));\r\n            _this.addComponent(new Transform());\r\n            _this.click.addComponent(_this.shape);\r\n            _this.shape.withCollisions = false;\r\n            _this.material.albedoColor = Color4.FromInts(0, 0, 0, 0);\r\n            _this.click.addComponentOrReplace(_this.material);\r\n            _this.click.setParent(_this);\r\n            _this.addComponentOrReplace(new OnPointerDown(function () {\r\n                openExternalURL(_this.link);\r\n            }));\r\n            return _this;\r\n        }\r\n        return LinkButton;\r\n    }(Entity));\r\n    exports.LinkButton = LinkButton;\r\n});\r\ndefine(\"instances/exterior.instance\", [\"require\", \"exports\", \"@decentraland/RestrictedActions\", \"utils/exitplane\", \"utils/ontriggerzone\", \"classes/db.handler\", \"classes/npc.class\", \"classes/ui.class\", \"classes/external.links.class\"], function (require, exports, RestrictedActions_1, exitplane_1, ontriggerzone_1, db_handler_1, npc_class_1, ui_class_1, external_links_class_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.ExteriorInstance = void 0;\r\n    var ExteriorInstance = /** @class */ (function (_super) {\r\n        __extends(ExteriorInstance, _super);\r\n        function ExteriorInstance(instanceController) {\r\n            var _this = _super.call(this) || this;\r\n            //Enviroment\r\n            _this.mainGeo = new Entity();\r\n            _this.branding = new Entity();\r\n            _this.bushes = new Entity();\r\n            _this.detailing = new Entity();\r\n            _this.waterfall = new Entity();\r\n            _this.collider = new Entity();\r\n            _this.interiorGeo = new Entity();\r\n            _this.whirlpool = new Entity();\r\n            _this.buttonGorundFloor = new Entity();\r\n            _this.buttonGalleryFloor = new Entity();\r\n            _this.buttonMeetingFloor = new Entity();\r\n            _this.buttonRooftopFloor = new Entity();\r\n            _this.click = new external_links_class_1.LinkButton('https://www.ubs.com/global/en/our-firm/our-culture.html');\r\n            _this.click1 = new external_links_class_1.LinkButton('https://www.ubs.com/microsites/young/en/2022/digital-assets-explained.html');\r\n            _this.click2 = new external_links_class_1.LinkButton('https://www.ubs.com/microsites/young/en/2022/artificial-intelligence.html');\r\n            _this.click3 = new external_links_class_1.LinkButton('https://www.ubs.com/global/en/sustainability-impact/globalvisionaries/gv/2022/imagine-worldwide.html?caasID=CAAS-ActivityStream');\r\n            _this.click4 = new external_links_class_1.LinkButton('https://www.ubs.com/global/en/sustainability-impact/globalvisionaries/gv/2022/earth-security.html');\r\n            _this.click5 = new external_links_class_1.LinkButton(' https://www.ubs.com/global/en/our-firm/art/art-collection/online-exhibition.html');\r\n            _this.click6 = new external_links_class_1.LinkButton(' https://www.ubs.com/microsites/nobel-perspectives/en/latest-economic-questions/technology-and-economy/articles/ai-fourth-industrial-revolution.html?caasID=CAAS-ActivityStream');\r\n            _this.click7 = new external_links_class_1.LinkButton('https://www.ubs.com/global/en/our-firm/our-history/virtual-museum.html');\r\n            _this.click8 = new external_links_class_1.LinkButton('https://www.ubs.com/global/en/ubs-society/philanthropy/optimus-foundation.html');\r\n            _this.click9 = new external_links_class_1.LinkButton('https://www.ubs.com/microsites/nobel-perspectives/en/home.html');\r\n            _this.mintingStation = new Entity();\r\n            //BackTeleports\r\n            _this.teleport1 = new ontriggerzone_1.TriggerZone();\r\n            _this.teleport2 = new ontriggerzone_1.TriggerZone();\r\n            _this.teleport3 = new ontriggerzone_1.TriggerZone();\r\n            _this.teleport4 = new ontriggerzone_1.TriggerZone();\r\n            //Tunnel\r\n            _this.tunnelTeleport = new ontriggerzone_1.TriggerZone();\r\n            //music\r\n            _this.music = new Entity();\r\n            _this.artGalleryClip = new AudioClip('sounds/Art Gallery.mp3');\r\n            _this.lobbyClip = new AudioClip('sounds/UBS Lobby Jazz Instrumental 1.mp3');\r\n            _this.artMusicSource = new AudioSource(_this.artGalleryClip);\r\n            _this.lobbyMusicSource = new AudioSource(_this.lobbyClip);\r\n            _this.sign = new Entity;\r\n            _this.text = new TextShape('Step to go to Rooftop');\r\n            _this.ui = new ui_class_1.UI();\r\n            _this.database_handler = new db_handler_1.Database_handler('3a6fe5c4-baac-4d9b-91c6-d8c2ad6130ea');\r\n            _this.instanceController = instanceController;\r\n            _this.mainGeo.addComponent(new GLTFShape('models/ubs_ext_main_geo.gltf'));\r\n            _this.branding.addComponent(new GLTFShape('models/ubs_ext_branding.gltf'));\r\n            _this.bushes.addComponent(new GLTFShape('models/ubs_ext_bushes.gltf'));\r\n            _this.detailing.addComponent(new GLTFShape('models/ubs_ext_detailing.gltf'));\r\n            _this.waterfall.addComponent(new GLTFShape('models/ubs_ext_waterfall_2.gltf'));\r\n            _this.collider.addComponent(new GLTFShape('models/ubs_ext_collider.gltf'));\r\n            _this.interiorGeo.addComponent(new GLTFShape('models/ubs_int_main_geo.gltf'));\r\n            _this.whirlpool.addComponent(new GLTFShape('models/ubs_ext_whirlpool.gltf'));\r\n            _this.buttonGorundFloor.addComponent(new GLTFShape('models/ubs_elevator_button_ground_floor.gltf'));\r\n            _this.buttonGalleryFloor.addComponent(new GLTFShape('models/ubs_elevator_button_gallery_floor.gltf'));\r\n            _this.buttonMeetingFloor.addComponent(new GLTFShape('models/ubs_elevator_button_meeting_floor.gltf'));\r\n            _this.buttonRooftopFloor.addComponent(new GLTFShape('models/ubs_elevator_button_rooftop_floor.gltf'));\r\n            _this.mintingStation.addComponent(new GLTFShape('models/ubs_int_minting_station.gltf'));\r\n            _this.__1 = new npc_class_1.NPC(_this.ui, 'models/ubs_npc_isabella5.gltf', new Vector3(54.20, 1.190, 19.50), new Quaternion().setEuler(0.000, 45.000, 0.000), '__1');\r\n            _this.__2 = new npc_class_1.NPC(_this.ui, 'models/ubs_npc_peter3.gltf', new Vector3(41.340, 11.700, 8.090), new Quaternion().setEuler(0.000, 45.000, 0.000), '__2');\r\n            _this.__3 = new npc_class_1.NPC(_this.ui, 'models/ubs_npc_cameron3.gltf', new Vector3(48.200, 33.230, 19.190), new Quaternion().setEuler(0.000, 229.000, 0.000), '__3');\r\n            _this.__4 = new npc_class_1.NPC(_this.ui, 'models/ubs_npc_rina3.gltf', new Vector3(47.32, 0.18, 55.85), new Quaternion().setEuler(0.000, 45.000, 0.000), '__4');\r\n            _this.mainGeo.setParent(_this);\r\n            _this.branding.setParent(_this);\r\n            _this.bushes.setParent(_this);\r\n            _this.detailing.setParent(_this);\r\n            _this.waterfall.setParent(_this);\r\n            _this.collider.setParent(_this);\r\n            _this.interiorGeo.setParent(_this);\r\n            _this.whirlpool.setParent(_this);\r\n            _this.buttonGalleryFloor.setParent(_this);\r\n            _this.buttonGorundFloor.setParent(_this);\r\n            _this.buttonMeetingFloor.setParent(_this);\r\n            _this.buttonRooftopFloor.setParent(_this);\r\n            _this.music.setParent(_this);\r\n            _this.__1.setParent(_this);\r\n            _this.__2.setParent(_this);\r\n            _this.__3.setParent(_this);\r\n            _this.__4.setParent(_this);\r\n            _this.music.addComponent(_this.lobbyMusicSource);\r\n            _this.music.addComponent(new Transform({ position: new Vector3(34.75, 1.99, 15.49) }));\r\n            _this.lobbyMusicSource.loop = true;\r\n            _this.lobbyMusicSource.volume = 0.2;\r\n            _this.lobbyMusicSource.playing = true;\r\n            _this.click.setParent(_this);\r\n            _this.click1.setParent(_this);\r\n            _this.click2.setParent(_this);\r\n            _this.click3.setParent(_this);\r\n            _this.click4.setParent(_this);\r\n            _this.click5.setParent(_this);\r\n            _this.click6.setParent(_this);\r\n            _this.click7.setParent(_this);\r\n            _this.click8.setParent(_this);\r\n            _this.click9.setParent(_this);\r\n            _this.click.addComponentOrReplace(new Transform({ position: new Vector3(44.01, 1.12, 5.90) }));\r\n            _this.click1.addComponentOrReplace(new Transform({ position: new Vector3(38.72, 1.12, 5.94) }));\r\n            _this.click2.addComponentOrReplace(new Transform({ position: new Vector3(34.20, 1.12, 5.93) }));\r\n            _this.click3.addComponentOrReplace(new Transform({ position: new Vector3(39.54, 1.12, 22.98), rotation: new Quaternion().setEuler(0.000, 180.000, 0.000) }));\r\n            _this.click4.addComponentOrReplace(new Transform({ position: new Vector3(30.330, 1.12, 22.980), rotation: new Quaternion().setEuler(0.000, 180.000, 0.000) }));\r\n            _this.click5.addComponentOrReplace(new Transform({ position: new Vector3(45.020, 11.500, 5.960), rotation: new Quaternion().setEuler(0.000, 360.000, 0.000) }));\r\n            _this.click6.addComponentOrReplace(new Transform({ position: new Vector3(37.930, 22.200, 5.940), rotation: new Quaternion().setEuler(0.000, 360.000, 0.000) }));\r\n            _this.click7.addComponentOrReplace(new Transform({ position: new Vector3(40.580, 0.050, 23.950) }));\r\n            _this.click8.addComponentOrReplace(new Transform({ position: new Vector3(5.41, 18, 29.15), rotation: new Quaternion().setEuler(0.000, 90.000, 0.000) }));\r\n            _this.click9.addComponentOrReplace(new Transform({ position: new Vector3(43.22, 22.200, 5.940), rotation: new Quaternion().setEuler(0.000, 360.000, 0.000) }));\r\n            _this.mintingStation.setParent(_this);\r\n            _this.setTeleport();\r\n            _this.teleportsGroundFloor();\r\n            _this.teleportsGalleryFloor();\r\n            _this.teleportsMeetingFloor();\r\n            _this.teleportsRooftopFloor();\r\n            _this.setTunnel();\r\n            _this.setGallery();\r\n            _this.setInfoSpace();\r\n            _this.setRooftopScreens();\r\n            _this.setMeetingRoomScreens();\r\n            _this.setExtraScreens();\r\n            return _this;\r\n        }\r\n        ExteriorInstance.prototype.setTunnel = function () {\r\n            var _this = this;\r\n            this.tunnelTeleport.setParent(this);\r\n            this.tunnelTeleport.addComponentOrReplace(new Transform({\r\n                position: new Vector3(43.610, 1.880, 47.510),\r\n                scale: new Vector3(12.000, 1.000, 12.000),\r\n                rotation: new Quaternion().setEuler(0.000, 0.000, 0.000),\r\n            }));\r\n            this.tunnelTeleport.onCameraEnter = function () {\r\n                _this.instanceController.loadTransitor();\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(32.90, 9.30, 9.82), new Vector3(33.84, 9.30, 17.44));\r\n            };\r\n        };\r\n        ExteriorInstance.prototype.setTeleport = function () {\r\n            //       TODO clear up code\r\n            this.teleport1.addComponentOrReplace(new Transform({ position: new Vector3(45.76, 1.10, 62.56) }));\r\n            this.teleport1.onCameraEnter = function () { (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.18, 1.99, 14.35), new Vector3(47.14, 1.99, 14.72)); };\r\n            this.teleport1.setParent(this);\r\n            this.teleport2.addComponentOrReplace(new Transform({ position: new Vector3(39.47, 1.10, 62.38) }));\r\n            this.teleport2.onCameraEnter = function () { (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.25, 12.39, 14.51), new Vector3(46.44, 12.39, 14.17)); };\r\n            this.teleport2.setParent(this);\r\n            this.teleport3.addComponentOrReplace(new Transform({ position: new Vector3(33.47, 1.10, 62.96) }));\r\n            this.teleport3.onCameraEnter = function () { (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.49, 22.85, 14.73), new Vector3(46.41, 22.85, 14.70)); };\r\n            this.teleport3.setParent(this);\r\n            this.teleport4.addComponentOrReplace(new Transform({ position: new Vector3(27.53, 1.10, 62.79) }));\r\n            this.teleport4.setParent(this);\r\n            this.teleport4.onCameraEnter = function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(48.91, 34.18, 14.46), new Vector3(52.42, 34.05, 15.15));\r\n            };\r\n        };\r\n        ExteriorInstance.prototype.setSign = function () {\r\n            this.sign.addComponent(this.text);\r\n            this.sign.addComponent(new Transform({ position: new Vector3(27.45, 1.40, 63.2), scale: new Vector3(0.14, 0.14, 0.14) }));\r\n            this.sign.setParent(this);\r\n        };\r\n        ExteriorInstance.prototype.teleportsGroundFloor = function () {\r\n            var _this = this;\r\n            var elevatorTriggerToGallery = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToGallery.addComponentOrReplace(new Transform({\r\n                position: new Vector3(42.150, 2.090, 13.660),\r\n                scale: new Vector3(1.600, 1.100, 0.100),\r\n            }));\r\n            elevatorTriggerToGallery.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.25, 12.39, 14.51), new Vector3(46.44, 12.39, 14.17));\r\n                _this.music.addComponentOrReplace(_this.artMusicSource);\r\n                _this.artMusicSource.loop = true;\r\n                _this.artMusicSource.volume = 0.2;\r\n                _this.artMusicSource.playing = true;\r\n            }, { hoverText: 'Art Gallery' }));\r\n            elevatorTriggerToGallery.setParent(this);\r\n            var elevatorTriggerToMeeting = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToMeeting.addComponentOrReplace(new Transform({\r\n                position: new Vector3(41.950, 3.270, 15.760),\r\n                scale: new Vector3(1.600, 1.100, 0.100),\r\n            }));\r\n            elevatorTriggerToMeeting.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.49, 22.85, 14.73), new Vector3(46.41, 22.85, 14.70));\r\n            }, { hoverText: 'Meeting Space' }));\r\n            elevatorTriggerToMeeting.setParent(this);\r\n            var elevatorTriggerToRooftop = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToRooftop.addComponentOrReplace(new Transform({\r\n                position: new Vector3(41.950, 2.050, 15.760),\r\n                scale: new Vector3(1.600, 1.100, 0.100),\r\n            }));\r\n            elevatorTriggerToRooftop.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(48.91, 34.18, 14.46), new Vector3(52.42, 34.05, 15.15));\r\n            }, { hoverText: 'Rooftop' }));\r\n            elevatorTriggerToRooftop.setParent(this);\r\n        };\r\n        ExteriorInstance.prototype.teleportsGalleryFloor = function () {\r\n            var _this = this;\r\n            var elevatorTriggerToGround = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToGround.addComponentOrReplace(new Transform({\r\n                position: new Vector3(42.150, 13.690, 13.660),\r\n                scale: new Vector3(1.600, 1.100, 0.100),\r\n            }));\r\n            elevatorTriggerToGround.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.18, 1.99, 14.35), new Vector3(47.14, 1.99, 14.72));\r\n                _this.music.addComponentOrReplace(_this.lobbyMusicSource);\r\n                _this.lobbyMusicSource.loop = true;\r\n                _this.lobbyMusicSource.volume = 0.2;\r\n                _this.lobbyMusicSource.playing = true;\r\n            }, { hoverText: 'Ground Floor' }));\r\n            elevatorTriggerToGround.setParent(this);\r\n            var elevatorTriggerToMeeting = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToMeeting.addComponentOrReplace(new Transform({\r\n                position: new Vector3(41.950, 13.770, 15.760),\r\n                scale: new Vector3(1.600, 1.100, 0.100),\r\n            }));\r\n            elevatorTriggerToMeeting.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.49, 22.85, 14.73), new Vector3(46.41, 22.85, 14.70));\r\n                _this.music.addComponentOrReplace(_this.lobbyMusicSource);\r\n                _this.lobbyMusicSource.loop = true;\r\n                _this.lobbyMusicSource.volume = 0.2;\r\n                _this.lobbyMusicSource.playing = true;\r\n            }, { hoverText: 'Meeting Space' }));\r\n            elevatorTriggerToMeeting.setParent(this);\r\n            var elevatorTriggerToRooftop = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToRooftop.addComponentOrReplace(new Transform({\r\n                position: new Vector3(41.950, 12.550, 15.760),\r\n                scale: new Vector3(1.600, 1.100, 0.100),\r\n            }));\r\n            elevatorTriggerToRooftop.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(48.91, 34.18, 14.46), new Vector3(52.42, 34.05, 15.15));\r\n                _this.music.addComponentOrReplace(_this.lobbyMusicSource);\r\n                _this.lobbyMusicSource.loop = true;\r\n                _this.lobbyMusicSource.volume = 0.2;\r\n                _this.lobbyMusicSource.playing = true;\r\n            }, { hoverText: 'Rooftop' }));\r\n            elevatorTriggerToRooftop.setParent(this);\r\n        };\r\n        ExteriorInstance.prototype.teleportsMeetingFloor = function () {\r\n            var _this = this;\r\n            var elevatorTriggerToGround = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToGround.addComponentOrReplace(new Transform({\r\n                position: new Vector3(42.150, 24.190, 13.660),\r\n                scale: new Vector3(1.600, 1.100, 0.100)\r\n            }));\r\n            elevatorTriggerToGround.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.18, 1.99, 14.35), new Vector3(47.14, 1.99, 14.72));\r\n            }, { hoverText: 'Ground Floor' }));\r\n            elevatorTriggerToGround.setParent(this);\r\n            var elevatorTriggerToGallery = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToGallery.addComponentOrReplace(new Transform({ position: new Vector3(42.150, 22.950, 13.660), scale: new Vector3(1.600, 1.100, 0.100) }));\r\n            elevatorTriggerToGallery.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.25, 12.39, 14.51), new Vector3(46.44, 12.39, 14.17));\r\n                _this.music.addComponentOrReplace(_this.artMusicSource);\r\n                _this.artMusicSource.loop = true;\r\n                _this.artMusicSource.volume = 0.2;\r\n                _this.artMusicSource.playing = true;\r\n            }, { hoverText: 'Art Gallery' }));\r\n            elevatorTriggerToGallery.setParent(this);\r\n            var elevatorTriggerToRooftop = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToRooftop.addComponentOrReplace(new Transform({\r\n                position: new Vector3(41.950, 23.05, 15.760),\r\n                scale: new Vector3(1.600, 1.100, 0.100),\r\n            }));\r\n            elevatorTriggerToRooftop.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(48.91, 34.18, 14.46), new Vector3(52.42, 34.05, 15.15));\r\n            }, { hoverText: 'Rooftop' }));\r\n            elevatorTriggerToRooftop.setParent(this);\r\n        };\r\n        ExteriorInstance.prototype.teleportsRooftopFloor = function () {\r\n            var _this = this;\r\n            var elevatorTriggerToGround = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToGround.addComponentOrReplace(new Transform({\r\n                position: new Vector3(48.150, 35.230, 13.520),\r\n                scale: new Vector3(1.600, 0.700, 0.100),\r\n            }));\r\n            elevatorTriggerToGround.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.18, 1.99, 14.35), new Vector3(47.14, 1.99, 14.72));\r\n            }, { hoverText: 'Ground Floor' }));\r\n            elevatorTriggerToGround.setParent(this);\r\n            var elevatorTriggerToGallery = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToGallery.addComponentOrReplace(new Transform({\r\n                position: new Vector3(48.150, 34.430, 13.520),\r\n                scale: new Vector3(1.600, 0.600, 0.100),\r\n            }));\r\n            elevatorTriggerToGallery.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.25, 12.39, 14.51), new Vector3(46.44, 12.39, 14.17));\r\n                _this.music.addComponentOrReplace(_this.artMusicSource);\r\n                _this.artMusicSource.loop = true;\r\n                _this.artMusicSource.volume = 0.2;\r\n                _this.artMusicSource.playing = true;\r\n            }, { hoverText: 'Art Gallery' }));\r\n            elevatorTriggerToGallery.setParent(this);\r\n            var elevatorTriggerToMeeting = new exitplane_1.ExitPlane();\r\n            elevatorTriggerToMeeting.addComponentOrReplace(new Transform({\r\n                position: new Vector3(48.150, 35.130, 15.820),\r\n                scale: new Vector3(1.600, 0.800, 0.100),\r\n            }));\r\n            elevatorTriggerToMeeting.addComponentOrReplace(new OnPointerDown(function () {\r\n                (0, RestrictedActions_1.movePlayerTo)(new Vector3(44.49, 22.85, 14.73), new Vector3(46.41, 22.85, 14.70));\r\n            }, { hoverText: 'Meeting Space' }));\r\n            elevatorTriggerToMeeting.setParent(this);\r\n        };\r\n        ExteriorInstance.prototype.setGalleryItem = function (position, rotation, artBoardName, artBoardDescriptionName) {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var galleryPairEntity, defaultPosition, defaultRotation, artBoardDetails, artBoard, artBoardPosition, descriptionPosition, artBoardDescriptionDetails, artBoardDescription, artBoardDescriptionScale, artBoardDescriptionRatio;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            galleryPairEntity = new Entity();\r\n                            galleryPairEntity.addComponent(new Transform({\r\n                                position: new Vector3(position.x, position.y, position.z),\r\n                                rotation: new Quaternion().setEuler(rotation.Rx, rotation.Ry, rotation.Rz),\r\n                            }));\r\n                            defaultPosition = { x: 0, y: 0, z: 0 };\r\n                            defaultRotation = { Rx: 0, Ry: 0, Rz: 0 };\r\n                            return [4 /*yield*/, this.database_handler.getScreen(artBoardName, defaultPosition, defaultRotation)];\r\n                        case 1:\r\n                            artBoardDetails = _a.sent();\r\n                            artBoard = artBoardDetails.dclObject;\r\n                            artBoardPosition = artBoardDetails.position;\r\n                            descriptionPosition = { x: 0, y: artBoardPosition.y, z: 0 };\r\n                            return [4 /*yield*/, this.database_handler.getScreen(artBoardDescriptionName, descriptionPosition, defaultRotation)];\r\n                        case 2:\r\n                            artBoardDescriptionDetails = _a.sent();\r\n                            artBoardDescription = artBoardDescriptionDetails.dclObject;\r\n                            artBoardDescriptionScale = artBoardDescriptionDetails.scale;\r\n                            artBoardDescriptionRatio = artBoardDescriptionDetails.ratio;\r\n                            artBoardDescription.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(0, artBoardPosition.y + artBoardDescriptionScale, 0),\r\n                                scale: new Vector3(artBoardDescriptionScale * artBoardDescriptionRatio, artBoardDescriptionScale, 3),\r\n                            }));\r\n                            artBoard.setParent(galleryPairEntity);\r\n                            artBoardDescription.setParent(galleryPairEntity);\r\n                            galleryPairEntity.setParent(this);\r\n                            engine.addEntity(galleryPairEntity);\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ExteriorInstance.prototype.setGallery = function () {\r\n            var _this = this;\r\n            var yConstant = 13;\r\n            // TODO replace any with an appropriate type\r\n            var allGalleryItems = [\r\n                {\r\n                    position: { x: 56.630, y: yConstant, z: 15.660 },\r\n                    rotation: { Rx: 0.000, Ry: 225.000 - 180, Rz: 180.00 },\r\n                    artBoardName: 'Art%20Board%201',\r\n                    artBoardDescriptionName: 'Art%20Board%201%20Description'\r\n                },\r\n                {\r\n                    position: { x: 50.030, y: yConstant, z: 9.890 },\r\n                    rotation: { Rx: 0.000, Ry: 270.000 - 180, Rz: 180.000 },\r\n                    artBoardName: 'Art%20Board%202',\r\n                    artBoardDescriptionName: 'Art%20Board%202%20Description'\r\n                },\r\n                {\r\n                    position: { x: 36.40, y: yConstant, z: 19.300 },\r\n                    rotation: { Rx: 360.000, Ry: 270.000 - 180, Rz: 180.000 },\r\n                    artBoardName: 'Art%20Board%203',\r\n                    artBoardDescriptionName: 'Art%20Board%203%20Description'\r\n                },\r\n                //Art board 6\r\n                {\r\n                    position: { x: 38.40, y: yConstant, z: 20.300 },\r\n                    rotation: { Rx: 360.000, Ry: 0, Rz: 180.000 },\r\n                    artBoardName: 'Art%20Board%206',\r\n                    artBoardDescriptionName: 'Art%20Board%206%20Description'\r\n                },\r\n                {\r\n                    position: { x: 20.80, y: yConstant, z: 18.620 },\r\n                    rotation: { Rx: 360.000, Ry: 270.000, Rz: 180.000 },\r\n                    artBoardName: 'Art%20Board%204',\r\n                    artBoardDescriptionName: 'Art%20Board%204%20Description'\r\n                },\r\n                {\r\n                    position: { x: 29.430, y: yConstant, z: 9.610 },\r\n                    rotation: { Rx: 360.000, Ry: 180.000, Rz: 180.000 },\r\n                    artBoardName: 'Art%20Board%205',\r\n                    artBoardDescriptionName: 'Art%20Board%205%20Description'\r\n                },\r\n                //Artboard 7\r\n                {\r\n                    position: { x: 29.430, y: yConstant, z: 9.33 },\r\n                    rotation: { Rx: 360.000, Ry: 0.000, Rz: 180.000 },\r\n                    artBoardName: 'Art%20Board%207',\r\n                    artBoardDescriptionName: 'Art%20Board%207%20Description'\r\n                }\r\n            ];\r\n            var allGalleryPromises = allGalleryItems.map(function (galleryItem) {\r\n                var position = galleryItem.position, rotation = galleryItem.rotation, artBoardName = galleryItem.artBoardName, artBoardDescriptionName = galleryItem.artBoardDescriptionName;\r\n                return _this.setGalleryItem(position, rotation, artBoardName, artBoardDescriptionName);\r\n            });\r\n            Promise.all(allGalleryPromises).then(function () { });\r\n        };\r\n        ExteriorInstance.prototype.setInfoSpace = function () {\r\n            var _this = this;\r\n            var yConstantMiddle = 6.4;\r\n            var yConstant = 5;\r\n            var scaleOverrideMiddle = 4.240;\r\n            var scaleOverrideSides = 2.4;\r\n            var allInfoSpaceItems = [\r\n                {\r\n                    position: { x: 28.630, y: yConstant, z: 23.280 },\r\n                    rotation: { Rx: 360.000, Ry: 360.000, Rz: 180.000 },\r\n                    infoSpaceName: '9',\r\n                    scaleOverride: scaleOverrideSides,\r\n                    flipGrowthAxis: true,\r\n                },\r\n                {\r\n                    position: { x: 28.180, y: yConstantMiddle, z: 14.770 },\r\n                    rotation: { Rx: 0.000, Ry: 0.000, Rz: 180.000 },\r\n                    infoSpaceName: '6',\r\n                    scaleOverride: scaleOverrideMiddle,\r\n                    flipGrowthAxis: false,\r\n                },\r\n                {\r\n                    position: { x: 28.180, y: yConstantMiddle, z: 15.010 },\r\n                    rotation: { Rx: 360.000, Ry: 180.000, Rz: 180.000 },\r\n                    infoSpaceName: '6',\r\n                    scaleOverride: scaleOverrideMiddle,\r\n                    flipGrowthAxis: false,\r\n                },\r\n                // {\r\n                //     position: { x: 33.230, y: yConstant, z: 23.280 },\r\n                //     rotation: { Rx: 360.000, Ry: 360.000, Rz: 180.000 },\r\n                //     infoSpaceName: '8',\r\n                //     scaleOverride: scaleOverrideSides,\r\n                //     flipGrowthAxis: true,\r\n                // },\r\n                {\r\n                    position: { x: 46.240, y: yConstant, z: 5.690 },\r\n                    rotation: { Rx: 360.000, Ry: 180.000, Rz: 180.000 },\r\n                    infoSpaceName: '3',\r\n                    scaleOverride: scaleOverrideSides,\r\n                    flipGrowthAxis: true,\r\n                },\r\n                {\r\n                    position: { x: 41.140, y: yConstant, z: 5.690 },\r\n                    rotation: { Rx: 360.000, Ry: 180.000, Rz: 180.000 },\r\n                    infoSpaceName: '4',\r\n                    scaleOverride: scaleOverrideSides,\r\n                    flipGrowthAxis: true,\r\n                },\r\n                // {\r\n                //     position: { x: 24.030, y: yConstant, z: 23.280 },\r\n                //     rotation: { Rx: 360.000, Ry: 360.000, Rz: 180.000 },\r\n                //     infoSpaceName: '10',\r\n                //     scaleOverride: scaleOverrideSides,\r\n                //     flipGrowthAxis: true,\r\n                // },\r\n                {\r\n                    position: { x: 37.830, y: yConstant, z: 23.280 },\r\n                    rotation: { Rx: 360.000, Ry: 360.000, Rz: 180.000 },\r\n                    infoSpaceName: '7',\r\n                    scaleOverride: scaleOverrideSides,\r\n                    flipGrowthAxis: true,\r\n                },\r\n                {\r\n                    position: { x: 36.00, y: yConstant, z: 5.710 },\r\n                    rotation: { Rx: 360.000, Ry: 180.000, Rz: 180.000 },\r\n                    infoSpaceName: '5',\r\n                    scaleOverride: scaleOverrideSides,\r\n                    flipGrowthAxis: true,\r\n                },\r\n            ];\r\n            var allInfoSpacePromises = allInfoSpaceItems.map(function (infoSpaceItem) { return __awaiter(_this, void 0, void 0, function () {\r\n                var position, rotation, infoSpaceName, scaleOverride, flipGrowthAxis, screenDetails, screen;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            position = infoSpaceItem.position, rotation = infoSpaceItem.rotation, infoSpaceName = infoSpaceItem.infoSpaceName, scaleOverride = infoSpaceItem.scaleOverride, flipGrowthAxis = infoSpaceItem.flipGrowthAxis;\r\n                            return [4 /*yield*/, this.database_handler.getScreen(infoSpaceName, position, rotation, scaleOverride, flipGrowthAxis)];\r\n                        case 1:\r\n                            screenDetails = _a.sent();\r\n                            screen = screenDetails.dclObject;\r\n                            screen.setParent(this);\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            }); });\r\n            Promise.all(allInfoSpacePromises).then(function () { });\r\n        };\r\n        ExteriorInstance.prototype.setRooftopScreens = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var position, rotation, screen18Detail, screen18, screen17Detail, screen17, screen16Detail, screen16;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            position = { x: 56.210, y: 37.450, z: 14.650 };\r\n                            rotation = { Rx: 360.000, Ry: 268.000, Rz: 359.4 };\r\n                            return [4 /*yield*/, this.database_handler.getScreen('18', position, rotation, false, false)];\r\n                        case 1:\r\n                            screen18Detail = _a.sent();\r\n                            screen18 = screen18Detail.dclObject;\r\n                            screen18.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(56.210, 37.450, 14.650),\r\n                                scale: new Vector3(9.420, 5.850, 3.000),\r\n                                rotation: new Quaternion().setEuler(360.000, 268.000, 359.400),\r\n                            }));\r\n                            screen18.setParent(this);\r\n                            return [4 /*yield*/, this.database_handler.getScreen('17', position, rotation, false, false)];\r\n                        case 2:\r\n                            screen17Detail = _a.sent();\r\n                            screen17 = screen17Detail.dclObject;\r\n                            screen17.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(5.120, 21.450, 23.750),\r\n                                scale: new Vector3(8.420, 4.850, 3.000),\r\n                                rotation: new Quaternion().setEuler(183.000, 90.900, 359.400),\r\n                            }));\r\n                            screen17.setParent(this);\r\n                            return [4 /*yield*/, this.database_handler.getScreen('16', position, rotation, false, false)];\r\n                        case 3:\r\n                            screen16Detail = _a.sent();\r\n                            screen16 = screen16Detail.dclObject;\r\n                            screen16.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(32.940, 24.940, 14.300),\r\n                                scale: new Vector3(7.920, 4.010, 3.000),\r\n                                rotation: new Quaternion().setEuler(360.000, 90.000, 360.000),\r\n                            }));\r\n                            screen16.setParent(this);\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ExteriorInstance.prototype.setMeetingRoomScreens = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var position, rotation, screen13Detail, screen13, screen14Detail, screen14, screen15Detail, screen15;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            position = { x: 56.210, y: 37.450, z: 14.650 };\r\n                            rotation = { Rx: 360.000, Ry: 268.000, Rz: 359.4 };\r\n                            return [4 /*yield*/, this.database_handler.getScreen('13', position, rotation, false, true)];\r\n                        case 1:\r\n                            screen13Detail = _a.sent();\r\n                            screen13 = screen13Detail.dclObject;\r\n                            screen13.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(45.080, 24.700, 5.710),\r\n                                scale: new Vector3(2.400, 4.400, 1.000),\r\n                                rotation: new Quaternion().setEuler(180.000, 0.000, 0.000),\r\n                            }));\r\n                            screen13.setParent(this);\r\n                            return [4 /*yield*/, this.database_handler.getScreen('14', position, rotation, false, false)];\r\n                        case 2:\r\n                            screen14Detail = _a.sent();\r\n                            screen14 = screen14Detail.dclObject;\r\n                            screen14.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(39.980, 24.700, 5.710),\r\n                                scale: new Vector3(2.400, 4.400, 1.000),\r\n                                rotation: new Quaternion().setEuler(0.000, 0.000, 0.000),\r\n                            }));\r\n                            screen14.setParent(this);\r\n                            return [4 /*yield*/, this.database_handler.getScreen('15', position, rotation, false, false)];\r\n                        case 3:\r\n                            screen15Detail = _a.sent();\r\n                            screen15 = screen15Detail.dclObject;\r\n                            screen15.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(34.870, 24.700, 5.710),\r\n                                scale: new Vector3(2.400, 4.400, 1.000),\r\n                                rotation: new Quaternion().setEuler(0.000, 0.000, 0.000),\r\n                            }));\r\n                            screen15.setParent(this);\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        ExteriorInstance.prototype.setExtraScreens = function () {\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                var position, rotation, screen1Detail, screen1, screen11Detail, screen11, entranceDetail, screen, artDetail, artScreen, eightDetail, eightScreen, nineDetail, nineScreen;\r\n                return __generator(this, function (_a) {\r\n                    switch (_a.label) {\r\n                        case 0:\r\n                            position = { x: 56.210, y: 37.450, z: 14.650 };\r\n                            rotation = { Rx: 360.000, Ry: 268.000, Rz: 359.4 };\r\n                            return [4 /*yield*/, this.database_handler.getScreen('1', position, rotation, false, false)];\r\n                        case 1:\r\n                            screen1Detail = _a.sent();\r\n                            screen1 = screen1Detail.dclObject;\r\n                            screen1.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(77.860, 4.440, 14.530),\r\n                                scale: new Vector3(8.400, 5.250, 5.000),\r\n                                rotation: new Quaternion().setEuler(180.000, 270.000, 0.000),\r\n                            }));\r\n                            screen1.setParent(this);\r\n                            return [4 /*yield*/, this.database_handler.getScreen('11', position, rotation, false, false)];\r\n                        case 2:\r\n                            screen11Detail = _a.sent();\r\n                            screen11 = screen11Detail.dclObject;\r\n                            screen11.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(11.140, 5.700, 30.400),\r\n                                scale: new Vector3(12.060, 6.250, 2.000),\r\n                                rotation: new Quaternion().setEuler(0.000, 268.000 - 180, 0.600),\r\n                            }));\r\n                            screen11.setParent(this);\r\n                            return [4 /*yield*/, this.database_handler.getScreen('2', position, rotation, false, false)];\r\n                        case 3:\r\n                            entranceDetail = _a.sent();\r\n                            screen = entranceDetail.dclObject;\r\n                            screen.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(67.3, 5.410, 9.080),\r\n                                scale: new Vector3(5.170, 6.450, 2.000),\r\n                                rotation: new Quaternion().setEuler(360.000, 180.000, 180.600),\r\n                            }));\r\n                            screen.setParent(this);\r\n                            return [4 /*yield*/, this.database_handler.getScreen('12', position, rotation, false, true)];\r\n                        case 4:\r\n                            artDetail = _a.sent();\r\n                            artScreen = artDetail.dclObject;\r\n                            artScreen.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(43.120, 14.100, 5.680),\r\n                                scale: new Vector3(2.390, 4.350, 2.000),\r\n                                rotation: new Quaternion().setEuler(360.000, 180.000, 179.600),\r\n                            }));\r\n                            artScreen.setParent(this);\r\n                            return [4 /*yield*/, this.database_handler.getScreen('8', position, rotation, false, false)];\r\n                        case 5:\r\n                            eightDetail = _a.sent();\r\n                            eightScreen = eightDetail.dclObject;\r\n                            eightScreen.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(33.230, 3.800, 23.280),\r\n                                scale: new Vector3(2.470, 4.450, 2.000),\r\n                                rotation: new Quaternion().setEuler(360.000, 180.000, 0.600),\r\n                            }));\r\n                            eightScreen.setParent(this);\r\n                            return [4 /*yield*/, this.database_handler.getScreen('10', position, rotation, false, false)];\r\n                        case 6:\r\n                            nineDetail = _a.sent();\r\n                            nineScreen = nineDetail.dclObject;\r\n                            nineScreen.addComponentOrReplace(new Transform({\r\n                                position: new Vector3(24.030, 3.800, 23.280),\r\n                                scale: new Vector3(2.470, 4.450, 2.000),\r\n                                rotation: new Quaternion().setEuler(360.000, 180.000, 0.600),\r\n                            }));\r\n                            nineScreen.setParent(this);\r\n                            return [2 /*return*/];\r\n                    }\r\n                });\r\n            });\r\n        };\r\n        return ExteriorInstance;\r\n    }(Entity));\r\n    exports.ExteriorInstance = ExteriorInstance;\r\n});\r\ndefine(\"classes/instance.controller\", [\"require\", \"exports\", \"@dcl/ecs-scene-utils\", \"instances/transitor.instance\", \"instances/exterior.instance\"], function (require, exports, ecs_scene_utils_1, transitor_instance_1, exterior_instance_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.InstanceController = void 0;\r\n    var InstanceController = /** @class */ (function () {\r\n        function InstanceController() {\r\n            this.exterior = new exterior_instance_1.ExteriorInstance(this);\r\n            this.transitor = new transitor_instance_1.TransitorInstance(this);\r\n            this.transitorPreload();\r\n            engine.addEntity(this.exterior);\r\n        }\r\n        InstanceController.prototype.transitorPreload = function () {\r\n            var _this = this;\r\n            engine.addEntity(this.transitor);\r\n            this.transitor.addComponent(new Transform({ scale: new Vector3(0.0001, 0.0001, 0.0001) }));\r\n            (0, ecs_scene_utils_1.setTimeout)(1000, function () {\r\n                engine.removeEntity(_this.transitor);\r\n                _this.transitor.removeComponent(Transform);\r\n                _this.transitor.addComponent(new Transform({\r\n                    position: new Vector3(0, 0, 0),\r\n                    scale: new Vector3(1, 1, 1)\r\n                }));\r\n            });\r\n        };\r\n        InstanceController.prototype.loadTransitor = function () {\r\n            if (this.exterior.isAddedToEngine()) {\r\n                engine.removeEntity(this.exterior);\r\n                engine.addEntity(this.transitor);\r\n            }\r\n        };\r\n        InstanceController.prototype.loadExterior = function () {\r\n            if (this.transitor.isAddedToEngine()) {\r\n                engine.removeEntity(this.transitor);\r\n                engine.addEntity(this.exterior);\r\n            }\r\n        };\r\n        return InstanceController;\r\n    }());\r\n    exports.InstanceController = InstanceController;\r\n});\r\ndefine(\"classes/game.Controller\", [\"require\", \"exports\", \"classes/instance.controller\"], function (require, exports, instance_controller_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.GameController = void 0;\r\n    var GameController = /** @class */ (function () {\r\n        function GameController() {\r\n            this.instanceController = new instance_controller_1.InstanceController();\r\n        }\r\n        return GameController;\r\n    }());\r\n    exports.GameController = GameController;\r\n});\r\ndefine(\"game\", [\"require\", \"exports\", \"classes/game.Controller\"], function (require, exports, game_Controller_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    var gameController = new game_Controller_1.GameController();\r\n});\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FtZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9pbnN0YW5jZXMvdHJhbnNpdG9yLmluc3RhbmNlLnRzIiwiLi4vc3JjL3V0aWxzL2V4aXRwbGFuZS50cyIsIi4uL3NyYy91dGlscy9vbnRyaWdnZXJ6b25lLnRzIiwiLi4vc3JjL2NsYXNzZXMvdWkuYnV0dG9uLmNsYXNzLnRzIiwiLi4vc3JjL2NsYXNzZXMvc2NyZWVuLnRzIiwiLi4vc3JjL2NsYXNzZXMvZGIuaGFuZGxlci50cyIsIi4uL3NyYy9jbGFzc2VzL2Rpc2NsYWltZXIuY2xhc3MudHMiLCIuLi9zcmMvZGF0YS91aS5kYXRhLnRzIiwiLi4vc3JjL2NsYXNzZXMvdWkuY2xhc3MudHMiLCIuLi9zcmMvY2xhc3Nlcy9ucGMuY2xhc3MudHMiLCIuLi9zcmMvY2xhc3Nlcy9leHRlcm5hbC5saW5rcy5jbGFzcy50cyIsIi4uL3NyYy9pbnN0YW5jZXMvZXh0ZXJpb3IuaW5zdGFuY2UudHMiLCIuLi9zcmMvY2xhc3Nlcy9pbnN0YW5jZS5jb250cm9sbGVyLnRzIiwiLi4vc3JjL2NsYXNzZXMvZ2FtZS5Db250cm9sbGVyLnRzIiwiLi4vc3JjL2dhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUVBO1FBQXVDLHFDQUFNO1FBaUJ6QywyQkFBWSxrQkFBc0M7WUFBbEQsWUFDSSxpQkFBTyxTQTRCVjtZQTdDTyxhQUFPLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQTtZQUN0QixZQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQTtZQUNyQixXQUFLLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQTtZQUNwQixnQkFBVSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUE7WUFDekIsZUFBUyxHQUFHLElBQUksTUFBTSxFQUFFLENBQUE7WUFFeEIsY0FBUSxHQUFHLElBQUksTUFBTSxFQUFFLENB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S0FBSSxDQUFDLGdCQUFnQixDQUFDLENBQUE7WUFDOUMsS0FBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsSUFBSSxTQUFTLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtZQUNyRixLQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQTtZQUNqQyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNsQyxLQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtZQUNwQyxLQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsQ0FBQTtZQUMxQixLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsQ0FBQTtZQUMzQixLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsQ0FBQTtZQUMzQixLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsQ0FBQTtZQUMzQixLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsQ0FBQTtZQUMzQixLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsQ0FBQTtZQUMzQixLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsQ0FBQTtZQUMzQixLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsQ0FBQTtZQUMzQixLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsQ0FBQTtZQUMzQixLQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsQ0FBQTtZQUMzQixLQUFJLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLElBQUksU0FBUyxDQUFDLEVBQUUsUUFBUSxFQUFFLElBQUksT0FBTyxDQUFDLEtBQUss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QTtZQUNILENBQUMsQ0FBQyxDQUFBO1FBQ0osQ0FBQztRQUNELDBDQUFhLEdBQWI7WUFDRSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsZUFBZSxFQUFFLEVBQUU7Z0JBQ25DLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO2dCQUNsQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQTthQUNqQztRQUNILENBQUM7UUFDRCx5Q0FBWSxHQUFaO1lBQ0UsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxFQUFFO2dCQUNwQyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQTtnQkFDbkMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUE7YUFDaEM7UUFDSCxDQUFDO1FBQ0gseUJBQUM7SUFBRCxDQUFDLEFBcENILElBb0NHO0lBcENVLGdEQUFrQjs7Ozs7O0lDSC9CO1FBRUk7WUFDSSxJQUFJLENBQUMsa0JBQWtCLEdBQUcsSUFBSSx3Q0FBa0IsRUFBRSxDQUFBO1FBQ3RELENBQUM7UUFDTCxxQkFBQztJQUFELENBQUMsQUFMRCxJQUtDO0lBTFksd0NBQWM7Ozs7O0lDRTNCLElBQU0sY0FBYyxHQUFHLElBQUksZ0NBQWMsRUFBRSxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5zdGFuY2VDb250cm9sbGVyIH0gZnJvbSBcInNyYy9jbGFzc2VzL2luc3RhbmNlLmNvbnRyb2xsZXJcIlxuXG5leHBvcnQgY2xhc3MgVHJhbnNpdG9ySW5zdGFuY2UgZXh0ZW5kcyBFbnRpdHkge1xuICAgIHByaXZhdGUgbWFpbkdlbyA9IG5ldyBFbnRpdHkoKVxuICAgIHByaXZhdGUgYnV0dG9uID0gbmV3IEVudGl0eSgpXG4gICAgcHJpdmF0ZSBjbGljayA9IG5ldyBFbnRpdHkoKVxuICAgIHByaXZhdGUgYmFja0J1dHRvbiA9IG5ldyBFbnRpdHkoKVxuICAgIHByaXZhdGUgY2xpY2tCYWNrID0gbmV3IEVudGl0eSgpXG4gICAgcHJpdmF0ZSBpbnN0YW5jZUNvbnRyb2xsZXI6IEluc3RhbmNlQ29udHJvbGxlclxuICAgIHByaXZhdGUgYXF1YXJpdW0gPSBuZXcgRW50aXR5KClcbiAgICAvL211c2ljXG4gICAgcHJpdmF0ZSBtdXNpYyA9IG5ldyBFbnRpdHkoKVxuICAgIHByaXZhdGUgY2xpcCA9IG5ldyBBdWRpb0NsaXAoJ3NvdW5kcy9UdW5uZWwgTXVzaWMubXAzJylcbiAgICBwcml2YXRlIHNvdXJjZSA9IG5ldyBBdWRpb1NvdXJjZSh0aGlzLmNsaXApXG5cblxuXG4gICAgcHJpdmF0ZSBtb2RBcmVhID0gbmV3IEVudGl0eSgpXG5cbiAgICBjb25zdHJ1Y3RvcihpbnN0YW5jZUNvbnRyb2xsZXI6IEluc3RhbmNlQ29udHJvbGxlcikge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuaW5zdGFuY2VDb250cm9sbGVyID0gaW5zdGFuY2VDb250cm9sbGVyXG5cbiAgICAgICAgdGhpcy5tYWluR2VvLmFkZENvbXBvbmVudChuZXcgR0xURlNoYXBlKCdtb2RlbHMvdWJzX2luYmV0d2VlbnNwYWNlX2dlby5nbHRmJykpXG4gICAgICAgIHRoaXMuYnV0dG9uLmFkZENvbXBvbmVudChuZXcgR0xURlNoYXBlKCdtb2RlbHMvdWJzX2luYmV0d2VlbnNwYWNlX2J1dHRvbl9jb2xsaWRlci5nbHRmJykpXG4gICAgICAgIHRoaXMuYmFja0J1dHRvbi5hZGRDb21wb25lbnQobmV3IEdMVEZTaGFwZSgnbW9kZWxzL3Vic19pbmJldHdlZW5zcGFjZV9iYWNrX2J1dHRvbi5nbHRmJykpXG4gICAgICAgIHRoaXMuY2xpY2tCYWNrLmFkZENvbXBvbmVudChuZXcgQm94U2hhcGUoKSlcbiAgICAgICAgdGhpcy5jbGljay5hZGRDb21wb25lbnQobmV3IEJveFNoYXBlKCkpXG4gICAgICAgIHRoaXMuYXF1YXJpdW0uYWRkQ29tcG9uZW50KG5ldyBHTFRGU2hhcGUoJ21vZGVscy91YnNfaW5iZXR3ZWVuc3BhY2VfYXF1YXJpdW0uZ2x0ZicpKVxuXG4gICAgICAgXG4gICAgICAgIHRoaXMubXVzaWMuYWRkQ29tcG9uZW50KHRoaXMuc291cmNlKVxuICAgICAgICB0aGlzLm11c2ljLmFkZENvbXBvbmVudChuZXcgVHJhbnNmb3JtKHtwb3NpdGlvbjogbmV3IFZlY3RvcjMoNi43OCw2MS4xMCw1Ny43OSl9KSlcbiAgICAgICAgdGhpcy5zb3VyY2UubG9vcCA9IHRydWVcbiAgICAgICAgdGhpcy5zb3VyY2Uudm9sdW1lID0gMVxuICAgICAgICB0aGlzLnNvdXJjZS5wbGF5aW5nID0gdHJ1ZVxuXG4gICAgICAgIHRoaXMubWFpbkdlby5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy5idXR0b24uc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMuY2xpY2suc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMuYmFja0J1dHRvbi5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy5jbGlja0JhY2suc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMubXVzaWMuc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMuYXF1YXJpdW0uc2V0UGFyZW50KHRoaXMpXG5cbiAgICAgICAgdGhpcy5tZXRob2QoKVxuICAgICAgICB0aGlzLnNldE1vZEFyZWEoKVxuXG4gICAgfVxuICAgIG1ldGhvZCgpIHtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoKVxuICAgICAgICBtYXRlcmlhbC5hbGJlZG9Db2xvciA9IENvbG9yNC5Gcm9tSW50cygwLCAwLCAwLCAwKVxuICAgICAgICB0aGlzLmNsaWNrLmFkZENvbXBvbmVudChtYXRlcmlhbClcbiAgICAgICAgdGhpcy5jbGljay5nZXRDb21wb25lbnQoQm94U2hhcGUpLndpdGhDb2xsaXNpb25zID0gZmFsc2VcbiAgICAgICAgdGhpcy5jbGljay5hZGRDb21wb25lbnQobmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMzIuOTksOS41MSw1NS42MCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMS40MDAsIDEuNDAwLCAxLjQwMCksXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcigwLjAwMCwgMjcwLjAwMCwgMC4wMDApLFxuICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIHRoaXMuY2xpY2suYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBPblBvaW50ZXJEb3duKCgpID0+IHtcbiAgICAgICAgICAgIG9wZW5FeHRlcm5hbFVSTCgnaHR0cHM6Ly9wbGF5LmRlY2VudHJhbGFuZC5vcmcvP3JlYWxtPXdvcmxkcy5kY2wuZ3VydSUyRndvcmxkJTJGaW50ZXJuYWxUZXN0LmRjbC5ldGgnKVxuICAgICAgICB9KSlcblxuICAgICAgICB0aGlzLmNsaWNrQmFjay5hZGRDb21wb25lbnQobWF0ZXJpYWwpXG4gICAgICAgIHRoaXMuY2xpY2tCYWNrLmdldENvbXBvbmVudChCb3hTaGFwZSkud2l0aENvbGxpc2lvbnMgPSBmYWxzZVxuICAgICAgICB0aGlzLmNsaWNrQmFjay5hZGRDb21wb25lbnQobmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMzYuMTcsOS4zMiwxMC40NCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMS40MDAsIDEuNDAwLCAxLjQwMCksXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcigwLjAwMCwgMjcwLjAwMCwgMC4wMDApLFxuICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIHRoaXMuY2xpY2tCYWNrLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgT25Qb2ludGVyRG93bigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlQ29udHJvbGxlci5sb2FkRXh0ZXJpb3IoKVxuICAgICAgICB9LCB7IGhvdmVyVGV4dDogJ0dvIGJhY2sgdG8gQ2FtcHVzJyB9KSlcbiAgICB9XG4gICAgc2V0TW9kQXJlYSgpIHtcbiAgICAgICAgdGhpcy5tb2RBcmVhLmFkZENvbXBvbmVudChcbiAgICAgICAgICAgIG5ldyBDYW1lcmFNb2RlQXJlYSh7XG4gICAgICAgICAgICAgICAgYXJlYTogeyBib3g6IG5ldyBWZWN0b3IzKDE2LCAxLCAxNCkgfSxcbiAgICAgICAgICAgICAgICBjYW1lcmFNb2RlOiBDYW1lcmFNb2RlLkZpcnN0UGVyc29uLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICB0aGlzLm1vZEFyZWEuYWRkQ29tcG9uZW50KFxuICAgICAgICAgICAgbmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDYuNDUsIDYxLjAwLCAyLjU5KSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcblxuICAgICAgICB0aGlzLm1vZEFyZWEuc2V0UGFyZW50KHRoaXMpXG4gICAgfVxuXG59XG4iLCJleHBvcnQgY2xhc3MgRXhpdFBsYW5lIGV4dGVuZHMgRW50aXR5IHtcbiAgICBwcml2YXRlIHNoYXBlOiBCb3hTaGFwZSA9IG5ldyBCb3hTaGFwZSgpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAgIHB1YmxpYyBvbkNsaWNrOiAoKSA9PiB2b2lkID0gKCkgPT4ge31cbiAgICBwcml2YXRlIGRpc3RhbmNlID0gNVxuICAgIHByaXZhdGUgbWVzc2FnZSA9ICdJbnRlcmFjdCdcbiAgICBwcml2YXRlIG1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKClcbiAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpXG4gICAgICB0aGlzLmFkZENvbXBvbmVudChuZXcgVHJhbnNmb3JtKCkpXG4gICAgICB0aGlzLmFkZENvbXBvbmVudCh0aGlzLnNoYXBlKVxuICAgICAgdGhpcy51cGRhdGVPblBvaW50ZXJEb3duKClcbiAgICAgIHRoaXMuc2hhcGUud2l0aENvbGxpc2lvbnMgPSBmYWxzZVxuICAgICAgdGhpcy5tYXRlcmlhbC5hbGJlZG9Db2xvciA9IENvbG9yNC5Gcm9tSW50cygwLCAwLCAwLCAwKVxuICAgICAgdGhpcy5hZGRDb21wb25lbnRPclJlcGxhY2UodGhpcy5tYXRlcmlhbClcbiAgICB9XG4gICAgcHJpdmF0ZSB1cGRhdGVPblBvaW50ZXJEb3duKCkge1xuICAgICAgdGhpcy5hZGRDb21wb25lbnRPclJlcGxhY2UoXG4gICAgICAgIG5ldyBPblBvaW50ZXJEb3duKFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DbGljaygpXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBob3ZlclRleHQ6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIGRpc3RhbmNlOiB0aGlzLmRpc3RhbmNlXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICApXG4gICAgfVxuICBcbiAgICBzZXRNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZykge1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZVxuICAgICAgdGhpcy51cGRhdGVPblBvaW50ZXJEb3duKClcbiAgICB9XG4gIFxuICAgIHNldERpc3RhbmNlKGRpc3RhbmNlOiBudW1iZXIpIHtcbiAgICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZVxuICAgICAgdGhpcy51cGRhdGVPblBvaW50ZXJEb3duKClcbiAgICB9XG4gIH1cbiAgXG4gIFxuICAiLCJpbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAZGNsL2Vjcy1zY2VuZS11dGlscydcblxuZXhwb3J0IGNsYXNzIFRyaWdnZXJab25lIGV4dGVuZHMgRW50aXR5IHtcbiAgICBwdWJsaWMgc2hhcGU6IEJveFNoYXBlID0gbmV3IEJveFNoYXBlKClcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gICAgcHVibGljIG9uQ2xpY2s6ICgpID0+IHZvaWQgPSAoKSA9PiB7fVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgICBwdWJsaWMgb25DYW1lcmFFbnRlcjogKCkgPT4gdm9pZCA9ICgpID0+IHt9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAgIHB1YmxpYyBvbkNhbWVyYUV4aXQ6ICgpID0+IHZvaWQgPSAoKSA9PiB7fVxuICAgIHByaXZhdGUgdHJpZ2dlckJveCA9IG5ldyB1dGlscy5UcmlnZ2VyQm94U2hhcGUoKVxuICBcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKClcbiAgICAgIHRoaXMuYWRkQ29tcG9uZW50KG5ldyBUcmFuc2Zvcm0oKSlcbiAgICAgIHRoaXMuYWRkQ29tcG9uZW50KHRoaXMuc2hhcGUpXG4gICAgICB0aGlzLnNoYXBlLnZpc2libGUgPSBmYWxzZVxuICAgICAgdGhpcy5zaGFwZS53aXRoQ29sbGlzaW9ucyA9IGZhbHNlXG4gICAgICB0aGlzLnVwZGF0ZU9uVHJpZ2dlcigpXG4gICAgfVxuICBcbiAgICBwcml2YXRlIHVwZGF0ZU9uVHJpZ2dlcigpIHtcbiAgICAgIHRoaXMuYWRkQ29tcG9uZW50T3JSZXBsYWNlKFxuICAgICAgICBuZXcgdXRpbHMuVHJpZ2dlckNvbXBvbmVudChcbiAgICAgICAgICB0aGlzLnRyaWdnZXJCb3gsIC8vc2hhcGVcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvbkNhbWVyYUVudGVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMub25DYW1lcmFFbnRlcigpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DYW1lcmFFeGl0OiAoKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMub25DYW1lcmFFeGl0KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIClcbiAgICB9XG4gIH0iLCJleHBvcnQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgVUlJbWFnZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNhbnZhczogVUlDYW52YXMsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgd2lkdGg6IHN0cmluZyxcbiAgICBoZWlnaHQ6IHN0cmluZyxcbiAgICBzb3VyY2VIZWlnaHQ6IG51bWJlcixcbiAgICBzb3VyY2VXaWR0aDogbnVtYmVyLFxuICAgIHBvc2l0aW9uWDogc3RyaW5nLFxuICAgIHBvc2l0aW9uWTogc3RyaW5nLFxuICAgIGhBbGlnbjogc3RyaW5nLFxuICAgIHZBbGlnbjogc3RyaW5nLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgb25DbGljazogYW55LFxuICAgIHZpc2libGVfOiBib29sZWFuID0gZmFsc2VcbiAgKSB7XG4gICAgc3VwZXIoY2FudmFzLCBuZXcgVGV4dHVyZSh1cmwpKVxuXG4gICAgdGhpcy53aWR0aCA9IHdpZHRoXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHRcbiAgICB0aGlzLnNvdXJjZUhlaWdodCA9IHNvdXJjZUhlaWdodFxuICAgIHRoaXMuc291cmNlV2lkdGggPSBzb3VyY2VXaWR0aFxuICAgIHRoaXMucG9zaXRpb25YID0gcG9zaXRpb25YXG4gICAgdGhpcy5wb3NpdGlvblkgPSBwb3NpdGlvbllcbiAgICB0aGlzLmhBbGlnbiA9IGhBbGlnblxuICAgIHRoaXMudkFsaWduID0gdkFsaWduXG4gICAgdGhpcy5vbkNsaWNrID0gbmV3IE9uUG9pbnRlckRvd24ob25DbGljaylcblxuICAgIHRoaXMuaXNQb2ludGVyQmxvY2tlciA9IHRydWVcbiAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlX1xuICB9XG59XG4iLCIvL1R5cGUgb2Ygc2NyZWVuIHRoYXQgcGxheXMgdmlkZW9zXG5pbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSBcIkBkY2wvZWNzLXNjZW5lLXV0aWxzXCI7XG5pbXBvcnQgeyBEYXNoX1RyaWdnZXJab25lIH0gZnJvbSBcImRjbGRhc2hcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuL3VpLmJ1dHRvbi5jbGFzc1wiO1xuXG5leHBvcnQgY2xhc3MgVmlkZW9TY3JlZW4gZXh0ZW5kcyBFbnRpdHkge1xuICBwdWJsaWMgbXlWaWRlb0NsaXA6IFZpZGVvQ2xpcFxuICBwdWJsaWMgbXlWaWRlb1RleHR1cmU6IFZpZGVvVGV4dHVyZVxuICBwdWJsaWMgbXlNYXRlcmlhbDogTWF0ZXJpYWxcbiAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcsIHBvc2l0aW9uOiBQb3NpdGlvbl9fKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm15VmlkZW9DbGlwID0gbmV3IFZpZGVvQ2xpcCh1cmwpXG4gICAgdGhpcy5teVZpZGVvVGV4dHVyZSA9IG5ldyBWaWRlb1RleHR1cmUodGhpcy5teVZpZGVvQ2xpcClcbiAgICB0aGlzLm15TWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoKTtcbiAgICB0aGlzLm15TWF0ZXJpYWwuYWxiZWRvVGV4dHVyZSA9IHRoaXMubXlWaWRlb1RleHR1cmVcbiAgICB0aGlzLmFkZENvbXBvbmVudChuZXcgUGxhbmVTaGFwZSgpKVxuICAgIHRoaXMuYWRkQ29tcG9uZW50KG5ldyBUcmFuc2Zvcm0oKSlcbiAgICB0aGlzLmFkZENvbXBvbmVudCh0aGlzLm15TWF0ZXJpYWwpXG4gICAgdGhpcy5hZGRDb21wb25lbnQoXG4gICAgICBuZXcgT25Qb2ludGVyRG93bigoKSA9PiB7XG4gICAgICAgIHRoaXMubXlWaWRlb1RleHR1cmUucGxheWluZyA9ICF0aGlzLm15VmlkZW9UZXh0dXJlLnBsYXlpbmdcbiAgICAgIH0sIHsgZGlzdGFuY2U6IDEwLCBob3ZlclRleHQ6ICdDbGljayB0byBQbGF5L1BhdXNlJyAgfSlcbiAgICApXG4gIH1cbn1cblxuLy9UeXBlIG9mIHNjcmVlbiB0aGF0IGRpc3BsYXkgYW4gaW1hZ2VcbnR5cGUgUG9zaXRpb25fXyA9IHsgeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlciB9XG50eXBlIFJvdGF0aW9uX18gPSB7IFJ4OiBudW1iZXIsIFJ5OiBudW1iZXIsIFJ6OiBudW1iZXIgfVxuZXhwb3J0IGNsYXNzIEJhbm5lciBleHRlbmRzIEVudGl0eSB7XG4gIC8vcHVibGljIHAxID0gbmV3IFRleHR1cmUoJ2h0dHBzOi8vc3RvcmFnZS5nb29nbGVhcGlzLmNvbS9hb3BmLTEvMzVkZTg3ZjQtZmVkYi00ZDU4LWI4NjQtZTUwMDFmYjI1NDE4LmpwZWcnKVxuICBwdWJsaWMgcDE6IFRleHR1cmVcbiAgcHVibGljIG15TWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoKVxuICBwcml2YXRlIGNhbnZhcyA9IG5ldyBVSUNhbnZhc1xuICBwcml2YXRlIGRldGFpbDogVUlJbWFnZVxuICAvLyBwcml2YXRlIGNsb3NlQnV0dG9uOiBCdXR0b25cbiAgcHJpdmF0ZSBleGl0QnV0dG9uOiBCdXR0b25cbiAgY29uc3RydWN0b3IodXJsOiBzdHJpbmcsIHBvc2l0aW9uOiBQb3NpdGlvbl9fLCByb3RhdGlvbjogUm90YXRpb25fXywgc2NhbGU6IG51bWJlciwgcmF0aW86IG51bWJlciwgZmxpcEdyb3d0aEF4aXMgPSBmYWxzZSwgaGVpZ2h0OiBudW1iZXIsIHdpZHRoOiBudW1iZXIpIHtcbiAgICBzdXBlcigpXG4gICAgY29uc3QgeyB4LCB5LCB6IH0gPSBwb3NpdGlvblxuICAgIGNvbnN0IHsgUngsIFJ5LCBSeiB9ID0gcm90YXRpb25cbiAgICB0aGlzLnAxID0gbmV3IFRleHR1cmUodXJsKVxuICAgIHRoaXMubXlNYXRlcmlhbC5hbGJlZG9UZXh0dXJlID0gdGhpcy5wMVxuICAgIHRoaXMuYWRkQ29tcG9uZW50KG5ldyBQbGFuZVNoYXBlKCkpXG4gICAgdGhpcy5kZXRhaWwgPSBuZXcgVUlJbWFnZSh0aGlzLmNhbnZhcywgbmV3IFRleHR1cmUodXJsKSk7XG4gICAgdGhpcy5leGl0QnV0dG9uID0gbmV3IEJ1dHRvbih0aGlzLmNhbnZhcyxcbiAgICAgICdpbWFnZXMvZXhpdF9idXR0b24ucG5nJyxcbiAgICAgICc4JScsXG4gICAgICAnOCUnLFxuICAgICAgOTMsXG4gICAgICAyMDgsXG4gICAgICAnMCUnLFxuICAgICAgJy0zMCUnLFxuICAgICAgJ2JvdHRvbScsXG4gICAgICAnY2VudGVyJyxcbiAgICAgICgpID0+IHtcbiAgICAgIH0sXG4gICAgICBmYWxzZVxuICAgIClcbiAgICBsZXQgc2NhbGVfID0gbmV3IFZlY3RvcjMoc2NhbGUgKiByYXRpbywgc2NhbGUsIDMpXG4gICAgaWYgKGZsaXBHcm93dGhBeGlzKSB7XG4gICAgICBzY2FsZV8gPSBuZXcgVmVjdG9yMyhzY2FsZSwgc2NhbGUgKiByYXRpbywgMylcbiAgICB9XG4gICAgdGhpcy5hZGRDb21wb25lbnQobmV3IFRyYW5zZm9ybSh7XG4gICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoeCwgeSAtIChzY2FsZSAvIDIpLCB6KSxcbiAgICAgIHNjYWxlOiBzY2FsZV8sXG4gICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcihSeCwgUnksIFJ6KSxcbiAgICB9KSlcbiAgICB0aGlzLmFkZENvbXBvbmVudCh0aGlzLm15TWF0ZXJpYWwpXG4gICAgdGhpcy5teU1hdGVyaWFsLnJvdWdobmVzcyA9IDFcbiAgICB0aGlzLm15TWF0ZXJpYWwuc3BlY3VsYXJJbnRlbnNpdHkgPSAyXG4gICAgdGhpcy5teU1hdGVyaWFsLm1ldGFsbGljID0gMFxuICAgIHRoaXMuZGV0YWlsLnZpc2libGUgPSBmYWxzZVxuICAgIHRoaXMuYWRkQ29tcG9uZW50KG5ldyBPblBvaW50ZXJEb3duKCgpID0+IHtcbiAgICAgIHRoaXMuZXhpdEJ1dHRvbi52aXNpYmxlID0gdHJ1ZVxuICAgICAgdGhpcy5kZXRhaWwudmlzaWJsZSA9IHRydWVcbiAgICAgIGNvbnN0IG9yaWdpbmFsQXNwZWN0UmF0aW8gPSB3aWR0aCAvIGhlaWdodDtcbiAgICAgIGNvbnN0IHVpV2lkdGhQZXJjZW50YWdlID0gNjA7XG5cbiAgICAgIGNvbnN0IHVpV2lkdGggPSB1aVdpZHRoUGVyY2VudGFnZSAvIDEwMCAqIDEwMDA7IC8vIEFzc3VtaW5nIFVJIGNhbnZhcyB3aWR0aCBpcyAxMDAwIHVuaXRzXG4gICAgICBjb25zdCB1aUhlaWdodCA9IHVpV2lkdGggLyBvcmlnaW5hbEFzcGVjdFJhdGlvO1xuXG4gICAgICB0aGlzLmRldGFpbC5zb3VyY2VIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB0aGlzLmRldGFpbC5zb3VyY2VXaWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5kZXRhaWwuaGVpZ2h0ID0gdWlIZWlnaHQudG9TdHJpbmcoKSArICdweCc7XG4gICAgICB0aGlzLmRldGFpbC53aWR0aCA9IHVpV2lkdGgudG9TdHJpbmcoKSArICdweCc7XG5cbiAgICAgIGlmIChmbGlwR3Jvd3RoQXhpcykge1xuXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsQXNwZWN0UmF0aW8gPSB3aWR0aCAvIGhlaWdodDtcbiAgICAgICAgY29uc3QgdWlXaWR0aFBlcmNlbnRhZ2UgPSAzMjtcblxuICAgICAgICBjb25zdCB1aVdpZHRoID0gdWlXaWR0aFBlcmNlbnRhZ2UgLyAxMDAgKiAxMDAwOyAvLyBBc3N1bWluZyBVSSBjYW52YXMgd2lkdGggaXMgMTAwMCB1bml0c1xuICAgICAgICBjb25zdCB1aUhlaWdodCA9IHVpV2lkdGggLyBvcmlnaW5hbEFzcGVjdFJhdGlvO1xuXG4gICAgICAgIHRoaXMuZGV0YWlsLnNvdXJjZUhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5kZXRhaWwuc291cmNlV2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5kZXRhaWwuaGVpZ2h0ID0gdWlIZWlnaHQudG9TdHJpbmcoKSArICdweCc7XG4gICAgICAgIHRoaXMuZGV0YWlsLndpZHRoID0gdWlXaWR0aC50b1N0cmluZygpICsgJ3B4JztcblxuICAgICAgICB0aGlzLmV4aXRCdXR0b24ucG9zaXRpb25YID0gJzElJ1xuICAgICAgICB0aGlzLmV4aXRCdXR0b24ucG9zaXRpb25ZID0gJy01MiUnXG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB0aGUgcG9zaXRpb24gYW5kIHNjYWxlIG9mIHRoZSBVSSBpbWFnZVxuICAgICAgdGhpcy5kZXRhaWwucG9zaXRpb25YID0gJzBweCcvLyBBZGp1c3QgaWYgbmVjZXNzYXJ5XG4gICAgICB0aGlzLmRldGFpbC5wb3NpdGlvblkgPSAnMHB4JyAvLyBBZGp1c3QgaWYgbmVjZXNzYXJ5XG4gICAgICB0aGlzLmRldGFpbC52aXNpYmxlID0gdHJ1ZVxuICAgICAgLy8gdGhpcy5leGl0QnV0dG9uLnZpc2libGUgPSB0cnVlXG4gICAgICB0aGlzLmV4aXRCdXR0b24ub25DbGljayA9IG5ldyBPblBvaW50ZXJEb3duKCgpID0+IHtcbiAgICAgICAgdGhpcy5leGl0QnV0dG9uLnZpc2libGUgPSBmYWxzZVxuICAgICAgICB0aGlzLmRldGFpbC52aXNpYmxlID0gZmFsc2VcbiAgICAgIH0pXG4gICAgfSkpXG4gIH1cbn1cbiIsImltcG9ydCB7IEJhbm5lciwgVmlkZW9TY3JlZW4gfSBmcm9tIFwiLi9zY3JlZW5cIlxuXG4vLyBUaGlzIGlzIHRoZSBoYW5kbGVyIHRoYXQgc2hvdWxkIGJlIGEgbnBtIHBhY2thZ2UgdG8gaW50ZXJhY3Qgd2l0aCBkYiBcbmV4cG9ydCBpbnRlcmZhY2UgU2NyZWVuRGV0YWlscyB7XG4gIHVybDogc3RyaW5nXG4gIHVwbG9hZFR5cGU6IHN0cmluZ1xufVxuXG50eXBlIFBvc2l0aW9uX18gPSB7IHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIgfVxudHlwZSBSb3RhdGlvbl9fID0geyBSeDogbnVtYmVyLCBSeTogbnVtYmVyLCBSejogbnVtYmVyIH1cbnR5cGUgc2NyZWVuRGV0YWlsc19fID0ge1xuICBkY2xPYmplY3Q6IEJhbm5lciB8IFZpZGVvU2NyZWVuLFxuICBwb3NpdGlvbjogUG9zaXRpb25fXyxcbiAgc2NhbGU6IG51bWJlcixcbiAgcmF0aW86IG51bWJlclxufVxuY2xhc3MgRGF0YWJhc2VfaGFuZGxlciB7XG4gIHVybCA9IGZhbHNlID8gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCcgOiAnaHR0cHM6Ly9hcGkuZGNsd29ybGRzLmNvbSdcbiAgcHJpdmF0ZV9rZXk6IHN0cmluZ1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGVfa2V5OiBzdHJpbmcpIHtcbiAgICB0aGlzLnByaXZhdGVfa2V5ID0gcHJpdmF0ZV9rZXlcbiAgfVxuICBhc3luYyBnZXRhbGx1c2VycyhkYm5hbWU6IHN0cmluZyA9IHRoaXMucHJpdmF0ZV9rZXkpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsID0gdGhpcy51cmwgKyBgL2FsbC11c2Vycz9kYk5hbWU9JHtkYm5hbWV9YFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgbG9nKCdtYWtpbmcgYSBjYWxsIHRvJywgdXJsKVxuICAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2coJ2Vycm9yIGZldGNoaW5nIHNjb3JlcyBmcm9tIHNlcnZlciAnLCBlKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZ2V0U2NyZWVuKFxuICAgIHNjcmVlbk5hbWU6IHN0cmluZyxcbiAgICBwb3NpdGlvbjogUG9zaXRpb25fXyxcbiAgICByb3RhdGlvbjogUm90YXRpb25fXyxcbiAgICBvdmVyUmlkZVNjYWxlOiBib29sZWFuIHwgbnVtYmVyID0gZmFsc2UsXG4gICAgZmxpcEdyb3d0aEF4aXM6IGJvb2xlYW4gPSBmYWxzZVxuICApOiBQcm9taXNlPHNjcmVlbkRldGFpbHNfXz4ge1xuICAgIGNvbnN0IHVybCA9IHRoaXMudXJsICsgYC9hcGkvbWVkaWEvc2NlbmUvJHt0aGlzLnByaXZhdGVfa2V5fS8ke3NjcmVlbk5hbWV9YFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKVxuICAgIGNvbnN0IHNjcmVlbkRldGFpbHMgPSBhd2FpdCByZXNwb25zZS5qc29uKClcbiAgICBjb25zdCB7IGhlaWdodCwgd2lkdGggfSA9IHNjcmVlbkRldGFpbHNcblxuICAgIGlmIChzY3JlZW5EZXRhaWxzLnVybC5tYXRjaCgnc3RvcmFnZS5nb29nbGVhcGlzLmNvbS9hb3BmLTEvJykgIT09IG51bGwpIHtcbiAgICAgIHNjcmVlbkRldGFpbHMudXJsID0gc2NyZWVuRGV0YWlscy51cmwucmVwbGFjZSgnc3RvcmFnZS5nb29nbGVhcGlzLmNvbS9hb3BmLTEvJywgJ2Nkbi5kY2x3b3JsZHMuY29tLycpXG4gICAgfVxuICAgIGlmIChzY3JlZW5EZXRhaWxzLnVwbG9hZFR5cGUgPT09ICdpbWFnZScpIHtcbiAgICAgIGlmIChvdmVyUmlkZVNjYWxlKSBzY3JlZW5EZXRhaWxzLnNjYWxlID0gb3ZlclJpZGVTY2FsZTtcblxuICAgICAgY29uc3Qgc2NhbGUgPSBOdW1iZXIoc2NyZWVuRGV0YWlscy5zY2FsZSkgfHwgMVxuICAgICAgbGV0IHJhdGlvID0gc2NyZWVuRGV0YWlscy53aWR0aCAvIHNjcmVlbkRldGFpbHMuaGVpZ2h0XG4gICAgICBpZiAoZmxpcEdyb3d0aEF4aXMpIHtcbiAgICAgICAgcmF0aW8gPSBzY3JlZW5EZXRhaWxzLmhlaWdodCAvIHNjcmVlbkRldGFpbHMud2lkdGhcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRjbE9iamVjdCA9IG5ldyBCYW5uZXIoc2NyZWVuRGV0YWlscy51cmwsIHBvc2l0aW9uLCByb3RhdGlvbiwgc2NhbGUsIHJhdGlvLCBmbGlwR3Jvd3RoQXhpcywgaGVpZ2h0LCB3aWR0aClcbiAgICAgIHJldHVybiB7IGRjbE9iamVjdCwgcG9zaXRpb24sIHNjYWxlLCByYXRpbyB9XG4gICAgfSBlbHNlIGlmIChzY3JlZW5EZXRhaWxzLnVwbG9hZFR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgIFxuICAgICAgbGV0IHBvc2l0aW9uID0gc2NyZWVuRGV0YWlscy5wb3NpdGlvblxuICAgICAgbGV0IHNjYWxlID0gc2NyZWVuRGV0YWlscy5zY2FsZVxuICAgICAgbGV0IHJhdGlvID0gMVxuICAgICAgY29uc3QgZGNsT2JqZWN0ID0gbmV3IFZpZGVvU2NyZWVuKHNjcmVlbkRldGFpbHMudXJsLCBwb3NpdGlvbilcbiAgICAgIHJldHVybiB7IGRjbE9iamVjdCwgcG9zaXRpb24sIHNjYWxlLCByYXRpbyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZm9ybWF0IG5vdCBzdXBwb3J0ZWQgeWV0JylcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCB7IERhdGFiYXNlX2hhbmRsZXIgfSIsImltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuL3VpLmJ1dHRvbi5jbGFzc1wiXG5cbmV4cG9ydCBjbGFzcyBEaXNjbGFpbWVyIHtcbiAgICBkaXNjbGFpbWVyOiBVSUltYWdlXG4gICAgY2FudmFzOiBVSVNoYXBlXG4gICAgYnV0dG9uczogYW55XG4gICAgY29uc3RydWN0b3IoY2FudmFzOiBVSVNoYXBlKSB7XG4gICAgICAgIGxvZygnRGlzY2xhaW1lciBjbGFzcycpO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhc1xuICAgICAgICB0aGlzLmRpc2NsYWltZXIgPSBuZXcgVUlJbWFnZSh0aGlzLmNhbnZhcywgbmV3IFRleHR1cmUoJ2ltYWdlcy91YnNfZGlzY2xhaW1lcl91aS5wbmcnKSlcbiAgICAgICAgdGhpcy5kaXNjbGFpbWVyLnNvdXJjZUhlaWdodCA9IDcyMFxuICAgICAgICB0aGlzLmRpc2NsYWltZXIuc291cmNlV2lkdGggPSAxMDI0XG4gICAgICAgIHRoaXMuZGlzY2xhaW1lci5oZWlnaHQgPSAnODAlJ1xuICAgICAgICB0aGlzLmRpc2NsYWltZXIud2lkdGggPSAnNTUlJ1xuICAgICAgICB0aGlzLmRpc2NsYWltZXIudmlzaWJsZSA9IHRydWVcbiAgICAgICAgdGhpcy5kaXNjbGFpbWVyLmhBbGlnbiA9ICdjZW50ZXInXG4gICAgICAgIHRoaXMuZGlzY2xhaW1lci52QWxpZ24gPSAnY2VudGVyJ1xuICAgICAgICB0aGlzLmRpc2NsYWltZXIucG9zaXRpb25YID0gLTQ1XG4gICAgICAgIHRoaXMuZGlzY2xhaW1lci5wb3NpdGlvblkgPSAyNVxuICAgICAgICB0aGlzLmRpc2NsYWltZXIudmlzaWJsZSA9IHRydWVcbiAgICAgICAgdGhpcy5zZXRCdXR0b25zKClcbiAgICB9XG4gICAgcHJpdmF0ZSBzZXRCdXR0b25zKCkge1xuICAgICAgICB0aGlzLmJ1dHRvbnMgPSB7XG4gICAgICAgICAgICBjb250aW51ZTogbmV3IEJ1dHRvbihcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyxcbiAgICAgICAgICAgICAgICAnaW1hZ2VzL3Vic19kaXNjbGFpbWVyX2NvbnRpbnVlX2J1dHRvbi5wbmcnLFxuICAgICAgICAgICAgICAgICcxNSUnLFxuICAgICAgICAgICAgICAgICcyMCUnLFxuICAgICAgICAgICAgICAgIDE1NCxcbiAgICAgICAgICAgICAgICAyNjYsXG4gICAgICAgICAgICAgICAgJzE1JScsXG4gICAgICAgICAgICAgICAgJy0yNi41JScsXG4gICAgICAgICAgICAgICAgJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbnMuY29udGludWUudmlzaWJsZSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzY2xhaW1lci52aXNpYmxlID0gZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICksXG4gICAgICAgIH1cbiAgICB9XG59IiwiXG5leHBvcnQgY29uc3QgX18xYSA9IHtcbiAgICBpZDogJ2NhbXBfYScsXG4gICAgdWlTcmM6IG5ldyBUZXh0dXJlKCdpbWFnZXMvbnBjcy8xL2EucG5nJylcbn1cbmV4cG9ydCBjb25zdCBfXzFiID0ge1xuICAgIGlkOiAnY2FtcF9hJyxcbiAgICB1aVNyYzogbmV3IFRleHR1cmUoJ2ltYWdlcy9ucGNzLzEvYi5wbmcnKVxufVxuZXhwb3J0IGNvbnN0IF9fMWMgPSB7XG4gICAgaWQ6ICdjYW1wX2EnLFxuICAgIHVpU3JjOiBuZXcgVGV4dHVyZSgnaW1hZ2VzL25wY3MvMS9jLnBuZycpXG59XG5leHBvcnQgY29uc3QgX18xZCA9IHtcbiAgICBpZDogJ2NhbXBfYScsXG4gICAgdWlTcmM6IG5ldyBUZXh0dXJlKCdpbWFnZXMvbnBjcy8xL2QucG5nJylcbn1cblxuXG5leHBvcnQgY29uc3QgX18yYSA9IHtcbiAgICBpZDogJ2NhbXBfYScsXG4gICAgdWlTcmM6IG5ldyBUZXh0dXJlKCdpbWFnZXMvbnBjcy8yL2EucG5nJylcbn1cbmV4cG9ydCBjb25zdCBfXzJiID0ge1xuICAgIGlkOiAnY2FtcF9hJyxcbiAgICB1aVNyYzogbmV3IFRleHR1cmUoJ2ltYWdlcy9ucGNzLzIvYi5wbmcnKVxufVxuXG5leHBvcnQgY29uc3QgX18zYSA9IHtcbiAgICBpZDogJ2NhbXBfYScsXG4gICAgdWlTcmM6IG5ldyBUZXh0dXJlKCdpbWFnZXMvbnBjcy8zL2EucG5nJylcbn1cbmV4cG9ydCBjb25zdCBfXzNiID0ge1xuICAgIGlkOiAnY2FtcF9hJyxcbiAgICB1aVNyYzogbmV3IFRleHR1cmUoJ2ltYWdlcy9ucGNzLzMvYi5wbmcnKVxufVxuZXhwb3J0IGNvbnN0IF9fM2MgPSB7XG4gICAgaWQ6ICdjYW1wX2EnLFxuICAgIHVpU3JjOiBuZXcgVGV4dHVyZSgnaW1hZ2VzL25wY3MvMy9jLnBuZycpXG59XG5cbmV4cG9ydCBjb25zdCBfXzRhID0ge1xuICAgIGlkOiAnY2FtcF9hJyxcbiAgICB1aVNyYzogbmV3IFRleHR1cmUoJ2ltYWdlcy9ucGNzLzQvYS5wbmcnKVxufVxuZXhwb3J0IGNvbnN0IF9fNGIgPSB7XG4gICAgaWQ6ICdjYW1wX2EnLFxuICAgIHVpU3JjOiBuZXcgVGV4dHVyZSgnaW1hZ2VzL25wY3MvNC9iLnBuZycpXG59IiwiaW1wb3J0IHsgRGlzY2xhaW1lciB9IGZyb20gXCIuL2Rpc2NsYWltZXIuY2xhc3NcIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4vdWkuYnV0dG9uLmNsYXNzXCJcbmltcG9ydCB7IF9fMWEsIF9fMWIsIF9fMWMsIF9fMWQsIF9fMmEsIF9fMmIsIF9fM2EsIF9fM2IsIF9fM2MsIF9fNGEsIF9fNGIgfSBmcm9tIFwic3JjL2RhdGEvdWkuZGF0YVwiXG5leHBvcnQgY2xhc3MgVUkge1xuICAgIGNhbnZhczogVUlDYW52YXNcbiAgICBkaXNjbGFpbWVyOiBEaXNjbGFpbWVyXG4gICAgYnV0dG9uczogYW55XG4gICAgcHJpdmF0ZSBzY3JpcHQgPSAxXG4gICAgdWlQbGFjZWhvbGRlcjogYW55XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBuZXcgVUlDYW52YXMoKVxuICAgICAgICB0aGlzLmRpc2NsYWltZXIgPSBuZXcgRGlzY2xhaW1lcih0aGlzLmNhbnZhcylcblxuICAgICAgICB0aGlzLnVpUGxhY2Vob2xkZXIgPSBuZXcgVUlJbWFnZSh0aGlzLmNhbnZhcywgbmV3IFRleHR1cmUoJycpKVxuICAgICAgICB0aGlzLnVpUGxhY2Vob2xkZXIuc291cmNlSGVpZ2h0ID0gMjM2XG4gICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci5zb3VyY2VXaWR0aCA9IDYyMVxuICAgICAgICB0aGlzLnVpUGxhY2Vob2xkZXIuaGVpZ2h0ID0gJzMwJSdcbiAgICAgICAgdGhpcy51aVBsYWNlaG9sZGVyLndpZHRoID0gJzQwJSdcbiAgICAgICAgdGhpcy51aVBsYWNlaG9sZGVyLmhBbGlnbiA9ICdjZW50ZXInXG4gICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci52QWxpZ24gPSAnY2VudGVyJ1xuICAgICAgICB0aGlzLnVpUGxhY2Vob2xkZXIucG9zaXRpb25YID0gLTQ1XG4gICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci5wb3NpdGlvblkgPSAtMjU1XG4gICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci52aXNpYmxlID0gZmFsc2VcblxuICAgICAgICB0aGlzLmJ1dHRvbnMgPSB7XG4gICAgICAgICAgICBfXzFOZXh0OiBuZXcgQnV0dG9uKFxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLFxuICAgICAgICAgICAgICAgICdpbWFnZXMvbnBjcy9uZXh0LnBuZycsXG4gICAgICAgICAgICAgICAgJzElJyxcbiAgICAgICAgICAgICAgICAnMyUnLFxuICAgICAgICAgICAgICAgIDI0LFxuICAgICAgICAgICAgICAgIDE0LFxuICAgICAgICAgICAgICAgICcxNCUnLFxuICAgICAgICAgICAgICAgICctNTIlJyxcbiAgICAgICAgICAgICAgICAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAncmlnaHQnLFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JpcHQrK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgnX18xJylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX18yTmV4dDogbmV3IEJ1dHRvbihcbiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhcyxcbiAgICAgICAgICAgICAgICAnaW1hZ2VzL25wY3MvbmV4dC5wbmcnLFxuICAgICAgICAgICAgICAgICcxJScsXG4gICAgICAgICAgICAgICAgJzMlJyxcbiAgICAgICAgICAgICAgICAyNCxcbiAgICAgICAgICAgICAgICAxNCxcbiAgICAgICAgICAgICAgICAnMTQlJyxcbiAgICAgICAgICAgICAgICAnLTUyJScsXG4gICAgICAgICAgICAgICAgJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NyaXB0KytcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoJ19fMicpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9fM05leHQ6IG5ldyBCdXR0b24oXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMsXG4gICAgICAgICAgICAgICAgJ2ltYWdlcy9ucGNzL25leHQucG5nJyxcbiAgICAgICAgICAgICAgICAnMSUnLFxuICAgICAgICAgICAgICAgICczJScsXG4gICAgICAgICAgICAgICAgMjQsXG4gICAgICAgICAgICAgICAgMTQsXG4gICAgICAgICAgICAgICAgJzE0JScsXG4gICAgICAgICAgICAgICAgJy01MiUnLFxuICAgICAgICAgICAgICAgICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICdyaWdodCcsXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcmlwdCsrXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCdfXzMnKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBfXzROZXh0OiBuZXcgQnV0dG9uKFxuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLFxuICAgICAgICAgICAgICAgICdpbWFnZXMvbnBjcy9uZXh0LnBuZycsXG4gICAgICAgICAgICAgICAgJzElJyxcbiAgICAgICAgICAgICAgICAnMyUnLFxuICAgICAgICAgICAgICAgIDI0LFxuICAgICAgICAgICAgICAgIDE0LFxuICAgICAgICAgICAgICAgICcxNCUnLFxuICAgICAgICAgICAgICAgICctNTIlJyxcbiAgICAgICAgICAgICAgICAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAncmlnaHQnLFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JpcHQrK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgnX180JylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICB9XG4gICAgfVxuICAgIHB1YmxpYyBzaG93VUkoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnVpUGxhY2Vob2xkZXIudmlzaWJsZSA9IHRydWVcbiAgICAgICAgc3dpdGNoIChpZCkge1xuICAgICAgICAgICAgY2FzZSAnX18xJzpcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbnMuX18xTmV4dC52aXNpYmxlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdfXzInOlxuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9ucy5fXzJOZXh0LnZpc2libGUgPSB0cnVlXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ19fMyc6XG4gICAgICAgICAgICAgICAgdGhpcy5idXR0b25zLl9fM05leHQudmlzaWJsZSA9IHRydWVcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnX180JzpcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbnMuX180TmV4dC52aXNpYmxlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVibGljIHVwZGF0ZShpZDogc3RyaW5nKSB7XG4gICAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ19fMSc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NyaXB0ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci5zb3VyY2UgPSBfXzFhLnVpU3JjO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY3JpcHQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aVBsYWNlaG9sZGVyLnNvdXJjZSA9IF9fMWIudWlTcmM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNjcmlwdCA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpUGxhY2Vob2xkZXIuc291cmNlID0gX18xYy51aVNyYztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2NyaXB0ID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci5zb3VyY2UgPSBfXzFkLnVpU3JjO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9ucy5fXzFOZXh0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JpcHQgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ19fMic6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NyaXB0ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci5zb3VyY2UgPSBfXzJhLnVpU3JjO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY3JpcHQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aVBsYWNlaG9sZGVyLnNvdXJjZSA9IF9fMmIudWlTcmM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aVBsYWNlaG9sZGVyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXR0b25zLl9fMk5leHQudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcmlwdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnX18zJzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zY3JpcHQgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aVBsYWNlaG9sZGVyLnNvdXJjZSA9IF9fM2EudWlTcmM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNjcmlwdCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpUGxhY2Vob2xkZXIuc291cmNlID0gX18zYi51aVNyYztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2NyaXB0ID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci5zb3VyY2UgPSBfXzNjLnVpU3JjO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9ucy5fXzNOZXh0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JpcHQgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ19fNCc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2NyaXB0ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlQbGFjZWhvbGRlci5zb3VyY2UgPSBfXzRhLnVpU3JjO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY3JpcHQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aVBsYWNlaG9sZGVyLnNvdXJjZSA9IF9fNGIudWlTcmM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aVBsYWNlaG9sZGVyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXR0b25zLl9fNE5leHQudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjcmlwdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IFVJIH0gZnJvbSAnLi91aS5jbGFzcydcblxuZXhwb3J0IGNsYXNzIE5QQyBleHRlbmRzIEVudGl0eSB7XG4gIHByaXZhdGUgdWk6IFVJXG4gIHByaXZhdGUgaWQ6IHN0cmluZ1xuICBjb25zdHJ1Y3Rvcih1aTogVUksIG1vZGVsOiBzdHJpbmcsIHBvc2l0aW9uOiBWZWN0b3IzLCByb3RhdGlvbjogUXVhdGVybmlvbiwgaWQ6IHN0cmluZykge1xuICAgIHN1cGVyKClcbiAgICBcbiAgICB0aGlzLnVpID0gdWlcbiAgICB0aGlzLmlkID0gaWRcbiAgICB0aGlzLmFkZENvbXBvbmVudChuZXcgR0xURlNoYXBlKG1vZGVsKSlcbiAgICB0aGlzLmFkZENvbXBvbmVudChuZXcgQW5pbWF0b3IoKSlcbiAgICB0aGlzLmFkZENvbXBvbmVudChuZXcgQmlsbGJvYXJkKGZhbHNlLHRydWUsZmFsc2UpKVxuICAgIHRoaXMuZ2V0Q29tcG9uZW50KEFuaW1hdG9yKS5hZGRDbGlwKG5ldyBBbmltYXRpb25TdGF0ZShcImlkbGVcIikpXG4gICAgdGhpcy5nZXRDb21wb25lbnQoQW5pbWF0b3IpLmdldENsaXAoJ2lkbGUnKS5wbGF5KHRydWUpXG4gICAgdGhpcy5nZXRDb21wb25lbnQoQW5pbWF0b3IpLmdldENsaXAoJ2lkbGUnKS5sb29waW5nID0gdHJ1ZVxuICAgIHRoaXMuYWRkQ29tcG9uZW50KFxuICAgICAgbmV3IFRyYW5zZm9ybSh7XG4gICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMSwgMSwgMSlcbiAgICAgIH0pXG4gICAgKVxuICAgIHRoaXMuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBPblBvaW50ZXJEb3duKCgpPT57XG4gICAgICAgIHRoaXMub25DbGljaygpXG4gICAgfSkpXG4gIH1cbiAgb25DbGljaygpIHtcbiAgICB0aGlzLnVpLnVwZGF0ZSh0aGlzLmlkKVxuICAgIHRoaXMudWkuc2hvd1VJKHRoaXMuaWQpXG4gICAgdGhpcy5nZXRDb21wb25lbnQoQW5pbWF0b3IpLmFkZENsaXAobmV3IEFuaW1hdGlvblN0YXRlKFwidGFsa2luZ1wiKSlcbiAgICB0aGlzLmdldENvbXBvbmVudChBbmltYXRvcikuZ2V0Q2xpcCgndGFsa2luZycpLnBsYXkodHJ1ZSlcbiAgICB0aGlzLmdldENvbXBvbmVudChBbmltYXRvcikuZ2V0Q2xpcCgndGFsa2luZycpLmxvb3BpbmcgPSB0cnVlXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBMaW5rQnV0dG9uIGV4dGVuZHMgRW50aXR5IHtcbiAgICBwcml2YXRlIHNoYXBlOiBCb3hTaGFwZSA9IG5ldyBCb3hTaGFwZSgpXG4gICAgcHJpdmF0ZSBtYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgpXG4gICAgbGluazogc3RyaW5nXG4gICAgcHJpdmF0ZSBjbGljayA9IG5ldyBFbnRpdHkoKVxuICAgIGNvbnN0cnVjdG9yKGxpbms6IHN0cmluZykge1xuICAgICAgc3VwZXIoKVxuICAgICAgdGhpcy5saW5rID0gbGlua1xuICAgICAgdGhpcy5hZGRDb21wb25lbnQobmV3IEdMVEZTaGFwZSgnbW9kZWxzL2J1dHRvbi5nbGInKSlcbiAgICAgIHRoaXMuYWRkQ29tcG9uZW50KG5ldyBUcmFuc2Zvcm0oKSlcbiAgICAgIHRoaXMuY2xpY2suYWRkQ29tcG9uZW50KHRoaXMuc2hhcGUpXG4gICAgICB0aGlzLnNoYXBlLndpdGhDb2xsaXNpb25zID0gZmFsc2VcbiAgICAgIHRoaXMubWF0ZXJpYWwuYWxiZWRvQ29sb3IgPSBDb2xvcjQuRnJvbUludHMoMCwgMCwgMCwgMClcbiAgICAgIHRoaXMuY2xpY2suYWRkQ29tcG9uZW50T3JSZXBsYWNlKHRoaXMubWF0ZXJpYWwpXG4gICAgICB0aGlzLmNsaWNrLnNldFBhcmVudCh0aGlzKVxuICAgICAgdGhpcy5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IE9uUG9pbnRlckRvd24oKCkgPT4ge1xuICAgICAgICBvcGVuRXh0ZXJuYWxVUkwodGhpcy5saW5rKVxuICAgICAgfSkpXG4gICAgfVxuICAgXG4gIH0iLCJpbXBvcnQgeyBtb3ZlUGxheWVyVG8gfSBmcm9tIFwiQGRlY2VudHJhbGFuZC9SZXN0cmljdGVkQWN0aW9uc1wiXG5pbXBvcnQgeyBFeGl0UGxhbmUgfSBmcm9tIFwiLi4vdXRpbHMvZXhpdHBsYW5lXCJcbmltcG9ydCB7IFRyaWdnZXJab25lIH0gZnJvbSBcInNyYy91dGlscy9vbnRyaWdnZXJ6b25lXCJcbmltcG9ydCB7IEJhbm5lciwgVmlkZW9TY3JlZW4gfSBmcm9tIFwic3JjL2NsYXNzZXMvc2NyZWVuXCJcbmltcG9ydCB7IERhdGFiYXNlX2hhbmRsZXIsIFNjcmVlbkRldGFpbHMgfSBmcm9tIFwic3JjL2NsYXNzZXMvZGIuaGFuZGxlclwiXG5pbXBvcnQgeyBJbnN0YW5jZUNvbnRyb2xsZXIgfSBmcm9tIFwic3JjL2NsYXNzZXMvaW5zdGFuY2UuY29udHJvbGxlclwiXG5pbXBvcnQgeyBHYW1lQ29udHJvbGxlciB9IGZyb20gXCJzcmMvY2xhc3Nlcy9nYW1lLkNvbnRyb2xsZXJcIlxuaW1wb3J0IHsgZ2V0RW50aXR5V29ybGRQb3NpdGlvbiB9IGZyb20gXCJAZGNsL2Vjcy1zY2VuZS11dGlsc1wiXG5pbXBvcnQgeyBEYXNoX1R3ZWFrZXIgfSBmcm9tIFwiZGNsZGFzaFwiXG5pbXBvcnQgeyBOUEMgfSBmcm9tIFwic3JjL2NsYXNzZXMvbnBjLmNsYXNzXCJcbmltcG9ydCB7IFVJIH0gZnJvbSBcInNyYy9jbGFzc2VzL3VpLmNsYXNzXCJcbmltcG9ydCB7IExpbmtCdXR0b24gfSBmcm9tIFwic3JjL2NsYXNzZXMvZXh0ZXJuYWwubGlua3MuY2xhc3NcIlxuXG50eXBlIFBvc2l0aW9uX18gPSB7IHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIgfVxudHlwZSBSb3RhdGlvbl9fID0geyBSeDogbnVtYmVyLCBSeTogbnVtYmVyLCBSejogbnVtYmVyIH1cblxuZXhwb3J0IGNsYXNzIEV4dGVyaW9ySW5zdGFuY2UgZXh0ZW5kcyBFbnRpdHkge1xuICAgIC8vRW52aXJvbWVudFxuICAgIHByaXZhdGUgbWFpbkdlbyA9IG5ldyBFbnRpdHkoKVxuICAgIHByaXZhdGUgYnJhbmRpbmcgPSBuZXcgRW50aXR5KClcbiAgICBwcml2YXRlIGJ1c2hlcyA9IG5ldyBFbnRpdHkoKVxuXG4gICAgcHJpdmF0ZSBkZXRhaWxpbmcgPSBuZXcgRW50aXR5KClcbiAgICBwcml2YXRlIHdhdGVyZmFsbCA9IG5ldyBFbnRpdHkoKVxuICAgIHByaXZhdGUgY29sbGlkZXIgPSBuZXcgRW50aXR5KClcbiAgICBwcml2YXRlIGludGVyaW9yR2VvID0gbmV3IEVudGl0eSgpXG4gICAgcHJpdmF0ZSB3aGlybHBvb2wgPSBuZXcgRW50aXR5KClcbiAgICBwcml2YXRlIGJ1dHRvbkdvcnVuZEZsb29yID0gbmV3IEVudGl0eSgpXG4gICAgcHJpdmF0ZSBidXR0b25HYWxsZXJ5Rmxvb3IgPSBuZXcgRW50aXR5KClcbiAgICBwcml2YXRlIGJ1dHRvbk1lZXRpbmdGbG9vciA9IG5ldyBFbnRpdHkoKVxuICAgIHByaXZhdGUgYnV0dG9uUm9vZnRvcEZsb29yID0gbmV3IEVudGl0eSgpXG4gICAgcHJpdmF0ZSBjbGljayA9IG5ldyBMaW5rQnV0dG9uKCdodHRwczovL3d3dy51YnMuY29tL2dsb2JhbC9lbi9vdXItZmlybS9vdXItY3VsdHVyZS5odG1sJylcbiAgICBwcml2YXRlIGNsaWNrMSA9IG5ldyBMaW5rQnV0dG9uKCdodHRwczovL3d3dy51YnMuY29tL21pY3Jvc2l0ZXMveW91bmcvZW4vMjAyMi9kaWdpdGFsLWFzc2V0cy1leHBsYWluZWQuaHRtbCcpXG4gICAgcHJpdmF0ZSBjbGljazIgPSBuZXcgTGlua0J1dHRvbignaHR0cHM6Ly93d3cudWJzLmNvbS9taWNyb3NpdGVzL3lvdW5nL2VuLzIwMjIvYXJ0aWZpY2lhbC1pbnRlbGxpZ2VuY2UuaHRtbCcpXG4gICAgcHJpdmF0ZSBjbGljazMgPSBuZXcgTGlua0J1dHRvbignaHR0cHM6Ly93d3cudWJzLmNvbS9nbG9iYWwvZW4vc3VzdGFpbmFiaWxpdHktaW1wYWN0L2dsb2JhbHZpc2lvbmFyaWVzL2d2LzIwMjIvaW1hZ2luZS13b3JsZHdpZGUuaHRtbD9jYWFzSUQ9Q0FBUy1BY3Rpdml0eVN0cmVhbScpXG4gICAgcHJpdmF0ZSBjbGljazQgPSBuZXcgTGlua0J1dHRvbignaHR0cHM6Ly93d3cudWJzLmNvbS9nbG9iYWwvZW4vc3VzdGFpbmFiaWxpdHktaW1wYWN0L2dsb2JhbHZpc2lvbmFyaWVzL2d2LzIwMjIvZWFydGgtc2VjdXJpdHkuaHRtbCcpXG4gICAgcHJpdmF0ZSBjbGljazUgPSBuZXcgTGlua0J1dHRvbignIGh0dHBzOi8vd3d3LnVicy5jb20vZ2xvYmFsL2VuL291ci1maXJtL2FydC9hcnQtY29sbGVjdGlvbi9vbmxpbmUtZXhoaWJpdGlvbi5odG1sJylcbiAgICBwcml2YXRlIGNsaWNrNiA9IG5ldyBMaW5rQnV0dG9uKCcgaHR0cHM6Ly93d3cudWJzLmNvbS9taWNyb3NpdGVzL25vYmVsLXBlcnNwZWN0aXZlcy9lbi9sYXRlc3QtZWNvbm9taWMtcXVlc3Rpb25zL3RlY2hub2xvZ3ktYW5kLWVjb25vbXkvYXJ0aWNsZXMvYWktZm91cnRoLWluZHVzdHJpYWwtcmV2b2x1dGlvbi5odG1sP2NhYXNJRD1DQUFTLUFjdGl2aXR5U3RyZWFtJylcbiAgICBwcml2YXRlIGNsaWNrNyA9IG5ldyBMaW5rQnV0dG9uKCdodHRwczovL3d3dy51YnMuY29tL2dsb2JhbC9lbi9vdXItZmlybS9vdXItaGlzdG9yeS92aXJ0dWFsLW11c2V1bS5odG1sJylcbiAgICBwcml2YXRlIGNsaWNrOCA9IG5ldyBMaW5rQnV0dG9uKCdodHRwczovL3d3dy51YnMuY29tL2dsb2JhbC9lbi91YnMtc29jaWV0eS9waGlsYW50aHJvcHkvb3B0aW11cy1mb3VuZGF0aW9uLmh0bWwnKVxuICAgIHByaXZhdGUgY2xpY2s5ID0gbmV3IExpbmtCdXR0b24oJ2h0dHBzOi8vd3d3LnVicy5jb20vbWljcm9zaXRlcy9ub2JlbC1wZXJzcGVjdGl2ZXMvZW4vaG9tZS5odG1sJylcbiAgICBwcml2YXRlIG1pbnRpbmdTdGF0aW9uID0gbmV3IEVudGl0eSgpXG4gICAgLy9CYWNrVGVsZXBvcnRzXG4gICAgcHJpdmF0ZSB0ZWxlcG9ydDEgPSBuZXcgVHJpZ2dlclpvbmUoKVxuICAgIHByaXZhdGUgdGVsZXBvcnQyID0gbmV3IFRyaWdnZXJab25lKClcbiAgICBwcml2YXRlIHRlbGVwb3J0MyA9IG5ldyBUcmlnZ2VyWm9uZSgpXG4gICAgcHJpdmF0ZSB0ZWxlcG9ydDQgPSBuZXcgVHJpZ2dlclpvbmUoKVxuXG4gICAgLy9UdW5uZWxcbiAgICB0dW5uZWxUZWxlcG9ydCA9IG5ldyBUcmlnZ2VyWm9uZSgpXG5cbiAgICAvL211c2ljXG4gICAgcHJpdmF0ZSBtdXNpYyA9IG5ldyBFbnRpdHkoKVxuICAgIHByaXZhdGUgYXJ0R2FsbGVyeUNsaXAgPSBuZXcgQXVkaW9DbGlwKCdzb3VuZHMvQXJ0IEdhbGxlcnkubXAzJylcbiAgICBwcml2YXRlIGxvYmJ5Q2xpcCA9IG5ldyBBdWRpb0NsaXAoJ3NvdW5kcy9VQlMgTG9iYnkgSmF6eiBJbnN0cnVtZW50YWwgMS5tcDMnKVxuICAgIHByaXZhdGUgYXJ0TXVzaWNTb3VyY2UgPSBuZXcgQXVkaW9Tb3VyY2UodGhpcy5hcnRHYWxsZXJ5Q2xpcClcbiAgICBwcml2YXRlIGxvYmJ5TXVzaWNTb3VyY2UgPSBuZXcgQXVkaW9Tb3VyY2UodGhpcy5sb2JieUNsaXApXG5cblxuICAgIHByaXZhdGUgc2lnbiA9IG5ldyBFbnRpdHlcbiAgICBwcml2YXRlIHRleHQgPSBuZXcgVGV4dFNoYXBlKCdTdGVwIHRvIGdvIHRvIFJvb2Z0b3AnKVxuICAgIHByaXZhdGUgaW5zdGFuY2VDb250cm9sbGVyOiBJbnN0YW5jZUNvbnRyb2xsZXJcblxuICAgIC8vTlBDc1xuICAgIHByaXZhdGUgX18xOiBOUENcbiAgICBwcml2YXRlIF9fMjogTlBDXG4gICAgcHJpdmF0ZSBfXzM6IE5QQ1xuICAgIHByaXZhdGUgX180OiBOUENcbiAgICBwcml2YXRlIHVpID0gbmV3IFVJKClcbiAgICBkYXRhYmFzZV9oYW5kbGVyOiBEYXRhYmFzZV9oYW5kbGVyXG5cbiAgICBjb25zdHJ1Y3RvcihpbnN0YW5jZUNvbnRyb2xsZXI6IEluc3RhbmNlQ29udHJvbGxlcikge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuZGF0YWJhc2VfaGFuZGxlciA9IG5ldyBEYXRhYmFzZV9oYW5kbGVyKCczYTZmZTVjNC1iYWFjLTRkOWItOTFjNi1kOGMyYWQ2MTMwZWEnKVxuXG4gICAgICAgIHRoaXMuaW5zdGFuY2VDb250cm9sbGVyID0gaW5zdGFuY2VDb250cm9sbGVyXG4gICAgICAgIHRoaXMubWFpbkdlby5hZGRDb21wb25lbnQobmV3IEdMVEZTaGFwZSgnbW9kZWxzL3Vic19leHRfbWFpbl9nZW8uZ2x0ZicpKVxuICAgICAgICB0aGlzLmJyYW5kaW5nLmFkZENvbXBvbmVudChuZXcgR0xURlNoYXBlKCdtb2RlbHMvdWJzX2V4dF9icmFuZGluZy5nbHRmJykpXG4gICAgICAgIHRoaXMuYnVzaGVzLmFkZENvbXBvbmVudChuZXcgR0xURlNoYXBlKCdtb2RlbHMvdWJzX2V4dF9idXNoZXMuZ2x0ZicpKVxuICAgICAgICB0aGlzLmRldGFpbGluZy5hZGRDb21wb25lbnQobmV3IEdMVEZTaGFwZSgnbW9kZWxzL3Vic19leHRfZGV0YWlsaW5nLmdsdGYnKSlcbiAgICAgICAgdGhpcy53YXRlcmZhbGwuYWRkQ29tcG9uZW50KG5ldyBHTFRGU2hhcGUoJ21vZGVscy91YnNfZXh0X3dhdGVyZmFsbF8yLmdsdGYnKSlcbiAgICAgICAgdGhpcy5jb2xsaWRlci5hZGRDb21wb25lbnQobmV3IEdMVEZTaGFwZSgnbW9kZWxzL3Vic19leHRfY29sbGlkZXIuZ2x0ZicpKVxuICAgICAgICB0aGlzLmludGVyaW9yR2VvLmFkZENvbXBvbmVudChuZXcgR0xURlNoYXBlKCdtb2RlbHMvdWJzX2ludF9tYWluX2dlby5nbHRmJykpXG4gICAgICAgIHRoaXMud2hpcmxwb29sLmFkZENvbXBvbmVudChuZXcgR0xURlNoYXBlKCdtb2RlbHMvdWJzX2V4dF93aGlybHBvb2wuZ2x0ZicpKVxuICAgICAgICB0aGlzLmJ1dHRvbkdvcnVuZEZsb29yLmFkZENvbXBvbmVudChuZXcgR0xURlNoYXBlKCdtb2RlbHMvdWJzX2VsZXZhdG9yX2J1dHRvbl9ncm91bmRfZmxvb3IuZ2x0ZicpKVxuICAgICAgICB0aGlzLmJ1dHRvbkdhbGxlcnlGbG9vci5hZGRDb21wb25lbnQobmV3IEdMVEZTaGFwZSgnbW9kZWxzL3Vic19lbGV2YXRvcl9idXR0b25fZ2FsbGVyeV9mbG9vci5nbHRmJykpXG4gICAgICAgIHRoaXMuYnV0dG9uTWVldGluZ0Zsb29yLmFkZENvbXBvbmVudChuZXcgR0xURlNoYXBlKCdtb2RlbHMvdWJzX2VsZXZhdG9yX2J1dHRvbl9tZWV0aW5nX2Zsb29yLmdsdGYnKSlcbiAgICAgICAgdGhpcy5idXR0b25Sb29mdG9wRmxvb3IuYWRkQ29tcG9uZW50KG5ldyBHTFRGU2hhcGUoJ21vZGVscy91YnNfZWxldmF0b3JfYnV0dG9uX3Jvb2Z0b3BfZmxvb3IuZ2x0ZicpKVxuICAgICAgICB0aGlzLm1pbnRpbmdTdGF0aW9uLmFkZENvbXBvbmVudChuZXcgR0xURlNoYXBlKCdtb2RlbHMvdWJzX2ludF9taW50aW5nX3N0YXRpb24uZ2x0ZicpKVxuICAgICAgICB0aGlzLl9fMSA9IG5ldyBOUEModGhpcy51aSwgJ21vZGVscy91YnNfbnBjX2lzYWJlbGxhNS5nbHRmJywgbmV3IFZlY3RvcjMoNTQuMjAsIDEuMTkwLCAxOS41MCksIG5ldyBRdWF0ZXJuaW9uKCkuc2V0RXVsZXIoMC4wMDAsIDQ1LjAwMCwgMC4wMDApLCAnX18xJylcbiAgICAgICAgdGhpcy5fXzIgPSBuZXcgTlBDKHRoaXMudWksICdtb2RlbHMvdWJzX25wY19wZXRlcjMuZ2x0ZicsIG5ldyBWZWN0b3IzKDQxLjM0MCwgMTEuNzAwLCA4LjA5MCksIG5ldyBRdWF0ZXJuaW9uKCkuc2V0RXVsZXIoMC4wMDAsIDQ1LjAwMCwgMC4wMDApLCAnX18yJylcbiAgICAgICAgdGhpcy5fXzMgPSBuZXcgTlBDKHRoaXMudWksICdtb2RlbHMvdWJzX25wY19jYW1lcm9uMy5nbHRmJywgbmV3IFZlY3RvcjMoNDguMjAwLCAzMy4yMzAsIDE5LjE5MCksIG5ldyBRdWF0ZXJuaW9uKCkuc2V0RXVsZXIoMC4wMDAsIDIyOS4wMDAsIDAuMDAwKSwgJ19fMycpXG4gICAgICAgIHRoaXMuX180ID0gbmV3IE5QQyh0aGlzLnVpLCAnbW9kZWxzL3Vic19ucGNfcmluYTMuZ2x0ZicsIG5ldyBWZWN0b3IzKDQ3LjMyLCAwLjE4LCA1NS44NSksIG5ldyBRdWF0ZXJuaW9uKCkuc2V0RXVsZXIoMC4wMDAsIDQ1LjAwMCwgMC4wMDApLCAnX180JylcbiAgICAgICAgdGhpcy5tYWluR2VvLnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLmJyYW5kaW5nLnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLmJ1c2hlcy5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy5kZXRhaWxpbmcuc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMud2F0ZXJmYWxsLnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLmNvbGxpZGVyLnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLmludGVyaW9yR2VvLnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLndoaXJscG9vbC5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy5idXR0b25HYWxsZXJ5Rmxvb3Iuc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMuYnV0dG9uR29ydW5kRmxvb3Iuc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMuYnV0dG9uTWVldGluZ0Zsb29yLnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLmJ1dHRvblJvb2Z0b3BGbG9vci5zZXRQYXJlbnQodGhpcylcblxuICAgICAgICB0aGlzLm11c2ljLnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLl9fMS5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy5fXzIuc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMuX18zLnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLl9fNC5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy5tdXNpYy5hZGRDb21wb25lbnQodGhpcy5sb2JieU11c2ljU291cmNlKVxuICAgICAgICB0aGlzLm11c2ljLmFkZENvbXBvbmVudChuZXcgVHJhbnNmb3JtKHsgcG9zaXRpb246IG5ldyBWZWN0b3IzKDM0Ljc1LCAxLjk5LCAxNS40OSkgfSkpXG4gICAgICAgIHRoaXMubG9iYnlNdXNpY1NvdXJjZS5sb29wID0gdHJ1ZVxuICAgICAgICB0aGlzLmxvYmJ5TXVzaWNTb3VyY2Uudm9sdW1lID0gMC4yXG4gICAgICAgIHRoaXMubG9iYnlNdXNpY1NvdXJjZS5wbGF5aW5nID0gdHJ1ZVxuICAgICAgICB0aGlzLmNsaWNrLnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLmNsaWNrMS5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy5jbGljazIuc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMuY2xpY2szLnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLmNsaWNrNC5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy5jbGljazUuc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMuY2xpY2s2LnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLmNsaWNrNy5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy5jbGljazguc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMuY2xpY2s5LnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLmNsaWNrLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgVHJhbnNmb3JtKHsgcG9zaXRpb246IG5ldyBWZWN0b3IzKDQ0LjAxLCAxLjEyLCA1LjkwKSB9KSlcbiAgICAgICAgdGhpcy5jbGljazEuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oeyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMzguNzIsIDEuMTIsIDUuOTQpIH0pKVxuICAgICAgICB0aGlzLmNsaWNrMi5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IFRyYW5zZm9ybSh7IHBvc2l0aW9uOiBuZXcgVmVjdG9yMygzNC4yMCwgMS4xMiwgNS45MykgfSkpXG4gICAgICAgIHRoaXMuY2xpY2szLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgVHJhbnNmb3JtKHsgcG9zaXRpb246IG5ldyBWZWN0b3IzKDM5LjU0LCAxLjEyLCAyMi45OCksIHJvdGF0aW9uOiBuZXcgUXVhdGVybmlvbigpLnNldEV1bGVyKDAuMDAwLCAxODAuMDAwLCAwLjAwMCkgfSkpXG4gICAgICAgIHRoaXMuY2xpY2s0LmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgVHJhbnNmb3JtKHsgcG9zaXRpb246IG5ldyBWZWN0b3IzKDMwLjMzMCwgMS4xMiwgMjIuOTgwKSwgcm90YXRpb246IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RXVsZXIoMC4wMDAsIDE4MC4wMDAsIDAuMDAwKSB9KSlcbiAgICAgICAgdGhpcy5jbGljazUuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oeyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoNDUuMDIwLCAxMS41MDAsIDUuOTYwKSwgcm90YXRpb246IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RXVsZXIoMC4wMDAsIDM2MC4wMDAsIDAuMDAwKSB9KSlcbiAgICAgICAgdGhpcy5jbGljazYuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oeyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMzcuOTMwLCAyMi4yMDAsIDUuOTQwKSwgcm90YXRpb246IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RXVsZXIoMC4wMDAsIDM2MC4wMDAsIDAuMDAwKSB9KSlcbiAgICAgICAgdGhpcy5jbGljazcuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oeyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoNDAuNTgwLCAwLjA1MCwgMjMuOTUwKX0pKVxuICAgICAgICB0aGlzLmNsaWNrOC5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IFRyYW5zZm9ybSh7IHBvc2l0aW9uOiBuZXcgVmVjdG9yMyg1LjQxLDE4LDI5LjE1KSwgcm90YXRpb246IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RXVsZXIoMC4wMDAsIDkwLjAwMCwgMC4wMDApIH0pKVxuICAgICAgICB0aGlzLmNsaWNrOS5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IFRyYW5zZm9ybSh7IHBvc2l0aW9uOiBuZXcgVmVjdG9yMyg0My4yMiwgMjIuMjAwLCA1Ljk0MCksIHJvdGF0aW9uOiBuZXcgUXVhdGVybmlvbigpLnNldEV1bGVyKDAuMDAwLCAzNjAuMDAwLCAwLjAwMCkgfSkpXG4gICAgICAgXG4gICAgICAgIHRoaXMubWludGluZ1N0YXRpb24uc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMuc2V0VGVsZXBvcnQoKVxuICAgICAgICB0aGlzLnRlbGVwb3J0c0dyb3VuZEZsb29yKClcbiAgICAgICAgdGhpcy50ZWxlcG9ydHNHYWxsZXJ5Rmxvb3IoKVxuICAgICAgICB0aGlzLnRlbGVwb3J0c01lZXRpbmdGbG9vcigpXG4gICAgICAgIHRoaXMudGVsZXBvcnRzUm9vZnRvcEZsb29yKClcblxuXG4gICAgICAgIHRoaXMuc2V0VHVubmVsKClcbiAgICAgICAgdGhpcy5zZXRHYWxsZXJ5KClcbiAgICAgICAgdGhpcy5zZXRJbmZvU3BhY2UoKVxuICAgICAgICB0aGlzLnNldFJvb2Z0b3BTY3JlZW5zKClcbiAgICAgICAgdGhpcy5zZXRNZWV0aW5nUm9vbVNjcmVlbnMoKVxuICAgICAgICB0aGlzLnNldEV4dHJhU2NyZWVucygpXG5cbiAgICB9XG4gICAgc2V0VHVubmVsKCkge1xuICAgICAgICB0aGlzLnR1bm5lbFRlbGVwb3J0LnNldFBhcmVudCh0aGlzKVxuICAgICAgICB0aGlzLnR1bm5lbFRlbGVwb3J0LmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgVHJhbnNmb3JtKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyg0My42MTAsIDEuODgwLCA0Ny41MTApLFxuICAgICAgICAgICAgc2NhbGU6IG5ldyBWZWN0b3IzKDEyLjAwMCwgMS4wMDAsIDEyLjAwMCksXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcigwLjAwMCwgMC4wMDAsIDAuMDAwKSxcbiAgICAgICAgfSkpXG5cbiAgICAgICAgdGhpcy50dW5uZWxUZWxlcG9ydC5vbkNhbWVyYUVudGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZUNvbnRyb2xsZXIubG9hZFRyYW5zaXRvcigpXG4gICAgICAgICAgICBtb3ZlUGxheWVyVG8obmV3IFZlY3RvcjMoMzIuOTAsIDkuMzAsIDkuODIpLCBuZXcgVmVjdG9yMygzMy44NCwgOS4zMCwgMTcuNDQpKVxuICAgICAgICB9XG5cbiAgICB9XG4gICAgc2V0VGVsZXBvcnQoKSB7XG4gICAgICAgIC8vICAgICAgIFRPRE8gY2xlYXIgdXAgY29kZVxuICAgICAgICB0aGlzLnRlbGVwb3J0MS5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IFRyYW5zZm9ybSh7IHBvc2l0aW9uOiBuZXcgVmVjdG9yMyg0NS43NiwgMS4xMCwgNjIuNTYpIH0pKVxuICAgICAgICB0aGlzLnRlbGVwb3J0MS5vbkNhbWVyYUVudGVyID0gKCkgPT4geyBtb3ZlUGxheWVyVG8obmV3IFZlY3RvcjMoNDQuMTgsIDEuOTksIDE0LjM1KSwgbmV3IFZlY3RvcjMoNDcuMTQsIDEuOTksIDE0LjcyKSkgfVxuICAgICAgICB0aGlzLnRlbGVwb3J0MS5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy50ZWxlcG9ydDIuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oeyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMzkuNDcsIDEuMTAsIDYyLjM4KSB9KSlcbiAgICAgICAgdGhpcy50ZWxlcG9ydDIub25DYW1lcmFFbnRlciA9ICgpID0+IHsgbW92ZVBsYXllclRvKG5ldyBWZWN0b3IzKDQ0LjI1LCAxMi4zOSwgMTQuNTEpLCBuZXcgVmVjdG9yMyg0Ni40NCwgMTIuMzksIDE0LjE3KSkgfVxuICAgICAgICB0aGlzLnRlbGVwb3J0Mi5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy50ZWxlcG9ydDMuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oeyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMzMuNDcsIDEuMTAsIDYyLjk2KSB9KSlcbiAgICAgICAgdGhpcy50ZWxlcG9ydDMub25DYW1lcmFFbnRlciA9ICgpID0+IHsgbW92ZVBsYXllclRvKG5ldyBWZWN0b3IzKDQ0LjQ5LCAyMi44NSwgMTQuNzMpLCBuZXcgVmVjdG9yMyg0Ni40MSwgMjIuODUsIDE0LjcwKSkgfVxuICAgICAgICB0aGlzLnRlbGVwb3J0My5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgdGhpcy50ZWxlcG9ydDQuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oeyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMjcuNTMsIDEuMTAsIDYyLjc5KSB9KSlcbiAgICAgICAgdGhpcy50ZWxlcG9ydDQuc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIHRoaXMudGVsZXBvcnQ0Lm9uQ2FtZXJhRW50ZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBtb3ZlUGxheWVyVG8obmV3IFZlY3RvcjMoNDguOTEsIDM0LjE4LCAxNC40NiksIG5ldyBWZWN0b3IzKDUyLjQyLCAzNC4wNSwgMTUuMTUpKVxuICAgICAgICB9XG4gICAgfVxuICAgIHNldFNpZ24oKSB7XG4gICAgICAgIHRoaXMuc2lnbi5hZGRDb21wb25lbnQodGhpcy50ZXh0KVxuICAgICAgICB0aGlzLnNpZ24uYWRkQ29tcG9uZW50KG5ldyBUcmFuc2Zvcm0oeyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMjcuNDUsIDEuNDAsIDYzLjIpLCBzY2FsZTogbmV3IFZlY3RvcjMoMC4xNCwgMC4xNCwgMC4xNCkgfSkpXG4gICAgICAgIHRoaXMuc2lnbi5zZXRQYXJlbnQodGhpcylcblxuICAgIH1cbiAgICB0ZWxlcG9ydHNHcm91bmRGbG9vcigpIHtcbiAgICAgICAgY29uc3QgZWxldmF0b3JUcmlnZ2VyVG9HYWxsZXJ5ID0gbmV3IEV4aXRQbGFuZSgpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb0dhbGxlcnkuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oe1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDQyLjE1MCwgMi4wOTAsIDEzLjY2MCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMS42MDAsIDEuMTAwLCAwLjEwMCksXG4gICAgICAgIH0pKVxuXG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvR2FsbGVyeS5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IE9uUG9pbnRlckRvd24oKCkgPT4ge1xuICAgICAgICAgICAgbW92ZVBsYXllclRvKG5ldyBWZWN0b3IzKDQ0LjI1LCAxMi4zOSwgMTQuNTEpLCBuZXcgVmVjdG9yMyg0Ni40NCwgMTIuMzksIDE0LjE3KSlcbiAgICAgICAgICAgIHRoaXMubXVzaWMuYWRkQ29tcG9uZW50T3JSZXBsYWNlKHRoaXMuYXJ0TXVzaWNTb3VyY2UpXG4gICAgICAgICAgICB0aGlzLmFydE11c2ljU291cmNlLmxvb3AgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmFydE11c2ljU291cmNlLnZvbHVtZSA9IDAuMlxuICAgICAgICAgICAgdGhpcy5hcnRNdXNpY1NvdXJjZS5wbGF5aW5nID0gdHJ1ZVxuICAgICAgICB9LCB7IGhvdmVyVGV4dDogJ0FydCBHYWxsZXJ5JyB9KSk7XG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvR2FsbGVyeS5zZXRQYXJlbnQodGhpcyk7XG5cbiAgICAgICAgY29uc3QgZWxldmF0b3JUcmlnZ2VyVG9NZWV0aW5nID0gbmV3IEV4aXRQbGFuZSgpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb01lZXRpbmcuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oe1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDQxLjk1MCwgMy4yNzAsIDE1Ljc2MCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMS42MDAsIDEuMTAwLCAwLjEwMCksXG4gICAgICAgIH0pKTtcbiAgICAgICAgZWxldmF0b3JUcmlnZ2VyVG9NZWV0aW5nLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgT25Qb2ludGVyRG93bigoKSA9PiB7XG4gICAgICAgICAgICBtb3ZlUGxheWVyVG8obmV3IFZlY3RvcjMoNDQuNDksIDIyLjg1LCAxNC43MyksIG5ldyBWZWN0b3IzKDQ2LjQxLCAyMi44NSwgMTQuNzApKVxuICAgICAgICB9LCB7IGhvdmVyVGV4dDogJ01lZXRpbmcgU3BhY2UnIH0pKTtcbiAgICAgICAgZWxldmF0b3JUcmlnZ2VyVG9NZWV0aW5nLnNldFBhcmVudCh0aGlzKTtcblxuICAgICAgICBjb25zdCBlbGV2YXRvclRyaWdnZXJUb1Jvb2Z0b3AgPSBuZXcgRXhpdFBsYW5lKCk7XG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvUm9vZnRvcC5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoNDEuOTUwLCAyLjA1MCwgMTUuNzYwKSxcbiAgICAgICAgICAgIHNjYWxlOiBuZXcgVmVjdG9yMygxLjYwMCwgMS4xMDAsIDAuMTAwKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb1Jvb2Z0b3AuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBPblBvaW50ZXJEb3duKCgpID0+IHtcbiAgICAgICAgICAgIG1vdmVQbGF5ZXJUbyhuZXcgVmVjdG9yMyg0OC45MSwgMzQuMTgsIDE0LjQ2KSwgbmV3IFZlY3RvcjMoNTIuNDIsIDM0LjA1LCAxNS4xNSkpXG4gICAgICAgIH0sIHsgaG92ZXJUZXh0OiAnUm9vZnRvcCcgfSkpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb1Jvb2Z0b3Auc2V0UGFyZW50KHRoaXMpO1xuXG4gICAgfVxuICAgIHRlbGVwb3J0c0dhbGxlcnlGbG9vcigpIHtcbiAgICAgICAgY29uc3QgZWxldmF0b3JUcmlnZ2VyVG9Hcm91bmQgPSBuZXcgRXhpdFBsYW5lKCk7XG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvR3JvdW5kLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgVHJhbnNmb3JtKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyg0Mi4xNTAsIDEzLjY5MCwgMTMuNjYwKSxcbiAgICAgICAgICAgIHNjYWxlOiBuZXcgVmVjdG9yMygxLjYwMCwgMS4xMDAsIDAuMTAwKSxcbiAgICAgICAgfSkpXG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvR3JvdW5kLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgT25Qb2ludGVyRG93bigoKSA9PiB7XG4gICAgICAgICAgICBtb3ZlUGxheWVyVG8obmV3IFZlY3RvcjMoNDQuMTgsIDEuOTksIDE0LjM1KSwgbmV3IFZlY3RvcjMoNDcuMTQsIDEuOTksIDE0LjcyKSlcbiAgICAgICAgICAgIHRoaXMubXVzaWMuYWRkQ29tcG9uZW50T3JSZXBsYWNlKHRoaXMubG9iYnlNdXNpY1NvdXJjZSlcbiAgICAgICAgICAgIHRoaXMubG9iYnlNdXNpY1NvdXJjZS5sb29wID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5sb2JieU11c2ljU291cmNlLnZvbHVtZSA9IDAuMlxuICAgICAgICAgICAgdGhpcy5sb2JieU11c2ljU291cmNlLnBsYXlpbmcgPSB0cnVlXG4gICAgICAgIH0sIHsgaG92ZXJUZXh0OiAnR3JvdW5kIEZsb29yJyB9KSk7XG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvR3JvdW5kLnNldFBhcmVudCh0aGlzKTtcblxuICAgICAgICBjb25zdCBlbGV2YXRvclRyaWdnZXJUb01lZXRpbmcgPSBuZXcgRXhpdFBsYW5lKCk7XG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvTWVldGluZy5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoNDEuOTUwLCAxMy43NzAsIDE1Ljc2MCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMS42MDAsIDEuMTAwLCAwLjEwMCksXG4gICAgICAgIH0pKTtcbiAgICAgICAgZWxldmF0b3JUcmlnZ2VyVG9NZWV0aW5nLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgT25Qb2ludGVyRG93bigoKSA9PiB7XG4gICAgICAgICAgICBtb3ZlUGxheWVyVG8obmV3IFZlY3RvcjMoNDQuNDksIDIyLjg1LCAxNC43MyksIG5ldyBWZWN0b3IzKDQ2LjQxLCAyMi44NSwgMTQuNzApKVxuICAgICAgICAgICAgdGhpcy5tdXNpYy5hZGRDb21wb25lbnRPclJlcGxhY2UodGhpcy5sb2JieU11c2ljU291cmNlKVxuICAgICAgICAgICAgdGhpcy5sb2JieU11c2ljU291cmNlLmxvb3AgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmxvYmJ5TXVzaWNTb3VyY2Uudm9sdW1lID0gMC4yXG4gICAgICAgICAgICB0aGlzLmxvYmJ5TXVzaWNTb3VyY2UucGxheWluZyA9IHRydWVcbiAgICAgICAgfSwgeyBob3ZlclRleHQ6ICdNZWV0aW5nIFNwYWNlJyB9KSk7XG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvTWVldGluZy5zZXRQYXJlbnQodGhpcyk7XG5cbiAgICAgICAgY29uc3QgZWxldmF0b3JUcmlnZ2VyVG9Sb29mdG9wID0gbmV3IEV4aXRQbGFuZSgpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb1Jvb2Z0b3AuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oe1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDQxLjk1MCwgMTIuNTUwLCAxNS43NjApLFxuICAgICAgICAgICAgc2NhbGU6IG5ldyBWZWN0b3IzKDEuNjAwLCAxLjEwMCwgMC4xMDApLFxuICAgICAgICB9KSk7XG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvUm9vZnRvcC5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IE9uUG9pbnRlckRvd24oKCkgPT4ge1xuICAgICAgICAgICAgbW92ZVBsYXllclRvKG5ldyBWZWN0b3IzKDQ4LjkxLCAzNC4xOCwgMTQuNDYpLCBuZXcgVmVjdG9yMyg1Mi40MiwgMzQuMDUsIDE1LjE1KSlcbiAgICAgICAgICAgIHRoaXMubXVzaWMuYWRkQ29tcG9uZW50T3JSZXBsYWNlKHRoaXMubG9iYnlNdXNpY1NvdXJjZSlcbiAgICAgICAgICAgIHRoaXMubG9iYnlNdXNpY1NvdXJjZS5sb29wID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5sb2JieU11c2ljU291cmNlLnZvbHVtZSA9IDAuMlxuICAgICAgICAgICAgdGhpcy5sb2JieU11c2ljU291cmNlLnBsYXlpbmcgPSB0cnVlXG4gICAgICAgIH0sIHsgaG92ZXJUZXh0OiAnUm9vZnRvcCcgfSkpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb1Jvb2Z0b3Auc2V0UGFyZW50KHRoaXMpO1xuXG4gICAgfVxuXG4gICAgdGVsZXBvcnRzTWVldGluZ0Zsb29yKCkge1xuICAgICAgICBjb25zdCBlbGV2YXRvclRyaWdnZXJUb0dyb3VuZCA9IG5ldyBFeGl0UGxhbmUoKTtcbiAgICAgICAgZWxldmF0b3JUcmlnZ2VyVG9Hcm91bmQuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oe1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDQyLjE1MCwgMjQuMTkwLCAxMy42NjApLFxuICAgICAgICAgICAgc2NhbGU6IG5ldyBWZWN0b3IzKDEuNjAwLCAxLjEwMCwgMC4xMDApXG4gICAgICAgIH0pKTtcbiAgICAgICAgZWxldmF0b3JUcmlnZ2VyVG9Hcm91bmQuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBPblBvaW50ZXJEb3duKCgpID0+IHtcbiAgICAgICAgICAgIG1vdmVQbGF5ZXJUbyhuZXcgVmVjdG9yMyg0NC4xOCwgMS45OSwgMTQuMzUpLCBuZXcgVmVjdG9yMyg0Ny4xNCwgMS45OSwgMTQuNzIpKVxuICAgICAgICB9LCB7IGhvdmVyVGV4dDogJ0dyb3VuZCBGbG9vcicgfSkpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb0dyb3VuZC5zZXRQYXJlbnQodGhpcyk7XG5cbiAgICAgICAgY29uc3QgZWxldmF0b3JUcmlnZ2VyVG9HYWxsZXJ5ID0gbmV3IEV4aXRQbGFuZSgpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb0dhbGxlcnkuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oeyBwb3NpdGlvbjogbmV3IFZlY3RvcjMoNDIuMTUwLCAyMi45NTAsIDEzLjY2MCksIHNjYWxlOiBuZXcgVmVjdG9yMygxLjYwMCwgMS4xMDAsIDAuMTAwKSB9KSk7XG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvR2FsbGVyeS5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IE9uUG9pbnRlckRvd24oKCkgPT4ge1xuICAgICAgICAgICAgbW92ZVBsYXllclRvKG5ldyBWZWN0b3IzKDQ0LjI1LCAxMi4zOSwgMTQuNTEpLCBuZXcgVmVjdG9yMyg0Ni40NCwgMTIuMzksIDE0LjE3KSlcbiAgICAgICAgICAgIHRoaXMubXVzaWMuYWRkQ29tcG9uZW50T3JSZXBsYWNlKHRoaXMuYXJ0TXVzaWNTb3VyY2UpXG4gICAgICAgICAgICB0aGlzLmFydE11c2ljU291cmNlLmxvb3AgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmFydE11c2ljU291cmNlLnZvbHVtZSA9IDAuMlxuICAgICAgICAgICAgdGhpcy5hcnRNdXNpY1NvdXJjZS5wbGF5aW5nID0gdHJ1ZVxuICAgICAgICB9LCB7IGhvdmVyVGV4dDogJ0FydCBHYWxsZXJ5JyB9KSk7XG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvR2FsbGVyeS5zZXRQYXJlbnQodGhpcyk7XG5cbiAgICAgICAgY29uc3QgZWxldmF0b3JUcmlnZ2VyVG9Sb29mdG9wID0gbmV3IEV4aXRQbGFuZSgpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb1Jvb2Z0b3AuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oe1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDQxLjk1MCwgMjMuMDUsIDE1Ljc2MCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMS42MDAsIDEuMTAwLCAwLjEwMCksXG4gICAgICAgIH0pKTtcbiAgICAgICAgZWxldmF0b3JUcmlnZ2VyVG9Sb29mdG9wLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgT25Qb2ludGVyRG93bigoKSA9PiB7XG4gICAgICAgICAgICBtb3ZlUGxheWVyVG8obmV3IFZlY3RvcjMoNDguOTEsIDM0LjE4LCAxNC40NiksIG5ldyBWZWN0b3IzKDUyLjQyLCAzNC4wNSwgMTUuMTUpKVxuICAgICAgICB9LCB7IGhvdmVyVGV4dDogJ1Jvb2Z0b3AnIH0pKTtcbiAgICAgICAgZWxldmF0b3JUcmlnZ2VyVG9Sb29mdG9wLnNldFBhcmVudCh0aGlzKTtcblxuICAgIH1cblxuICAgIHRlbGVwb3J0c1Jvb2Z0b3BGbG9vcigpIHtcbiAgICAgICAgY29uc3QgZWxldmF0b3JUcmlnZ2VyVG9Hcm91bmQgPSBuZXcgRXhpdFBsYW5lKCk7XG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvR3JvdW5kLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgVHJhbnNmb3JtKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyg0OC4xNTAsIDM1LjIzMCwgMTMuNTIwKSxcbiAgICAgICAgICAgIHNjYWxlOiBuZXcgVmVjdG9yMygxLjYwMCwgMC43MDAsIDAuMTAwKSxcbiAgICAgICAgfSkpXG4gICAgICAgIGVsZXZhdG9yVHJpZ2dlclRvR3JvdW5kLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgT25Qb2ludGVyRG93bigoKSA9PiB7XG4gICAgICAgICAgICBtb3ZlUGxheWVyVG8obmV3IFZlY3RvcjMoNDQuMTgsIDEuOTksIDE0LjM1KSwgbmV3IFZlY3RvcjMoNDcuMTQsIDEuOTksIDE0LjcyKSlcbiAgICAgICAgfSwgeyBob3ZlclRleHQ6ICdHcm91bmQgRmxvb3InIH0pKTtcbiAgICAgICAgZWxldmF0b3JUcmlnZ2VyVG9Hcm91bmQuc2V0UGFyZW50KHRoaXMpO1xuXG4gICAgICAgIGNvbnN0IGVsZXZhdG9yVHJpZ2dlclRvR2FsbGVyeSA9IG5ldyBFeGl0UGxhbmUoKTtcbiAgICAgICAgZWxldmF0b3JUcmlnZ2VyVG9HYWxsZXJ5LmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgVHJhbnNmb3JtKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyg0OC4xNTAsIDM0LjQzMCwgMTMuNTIwKSxcbiAgICAgICAgICAgIHNjYWxlOiBuZXcgVmVjdG9yMygxLjYwMCwgMC42MDAsIDAuMTAwKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb0dhbGxlcnkuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBPblBvaW50ZXJEb3duKCgpID0+IHtcbiAgICAgICAgICAgIG1vdmVQbGF5ZXJUbyhuZXcgVmVjdG9yMyg0NC4yNSwgMTIuMzksIDE0LjUxKSwgbmV3IFZlY3RvcjMoNDYuNDQsIDEyLjM5LCAxNC4xNykpXG4gICAgICAgICAgICB0aGlzLm11c2ljLmFkZENvbXBvbmVudE9yUmVwbGFjZSh0aGlzLmFydE11c2ljU291cmNlKVxuICAgICAgICAgICAgdGhpcy5hcnRNdXNpY1NvdXJjZS5sb29wID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5hcnRNdXNpY1NvdXJjZS52b2x1bWUgPSAwLjJcbiAgICAgICAgICAgIHRoaXMuYXJ0TXVzaWNTb3VyY2UucGxheWluZyA9IHRydWVcbiAgICAgICAgfSwgeyBob3ZlclRleHQ6ICdBcnQgR2FsbGVyeScgfSkpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb0dhbGxlcnkuc2V0UGFyZW50KHRoaXMpO1xuXG4gICAgICAgIGNvbnN0IGVsZXZhdG9yVHJpZ2dlclRvTWVldGluZyA9IG5ldyBFeGl0UGxhbmUoKTtcbiAgICAgICAgZWxldmF0b3JUcmlnZ2VyVG9NZWV0aW5nLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgVHJhbnNmb3JtKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyg0OC4xNTAsIDM1LjEzMCwgMTUuODIwKSxcbiAgICAgICAgICAgIHNjYWxlOiBuZXcgVmVjdG9yMygxLjYwMCwgMC44MDAsIDAuMTAwKSxcbiAgICAgICAgfSkpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb01lZXRpbmcuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBPblBvaW50ZXJEb3duKCgpID0+IHtcbiAgICAgICAgICAgIG1vdmVQbGF5ZXJUbyhuZXcgVmVjdG9yMyg0NC40OSwgMjIuODUsIDE0LjczKSwgbmV3IFZlY3RvcjMoNDYuNDEsIDIyLjg1LCAxNC43MCkpXG4gICAgICAgIH0sIHsgaG92ZXJUZXh0OiAnTWVldGluZyBTcGFjZScgfSkpO1xuICAgICAgICBlbGV2YXRvclRyaWdnZXJUb01lZXRpbmcuc2V0UGFyZW50KHRoaXMpO1xuXG4gICAgfVxuXG4gICAgYXN5bmMgc2V0R2FsbGVyeUl0ZW0ocG9zaXRpb246IFBvc2l0aW9uX18sIHJvdGF0aW9uOiBSb3RhdGlvbl9fLCBhcnRCb2FyZE5hbWU6IHN0cmluZywgYXJ0Qm9hcmREZXNjcmlwdGlvbk5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCBnYWxsZXJ5UGFpckVudGl0eSA9IG5ldyBFbnRpdHkoKVxuICAgICAgICBnYWxsZXJ5UGFpckVudGl0eS5hZGRDb21wb25lbnQobmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgcG9zaXRpb24ueiksXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcihyb3RhdGlvbi5SeCwgcm90YXRpb24uUnksIHJvdGF0aW9uLlJ6KSxcbiAgICAgICAgfSkpXG4gICAgICAgIGNvbnN0IGRlZmF1bHRQb3NpdGlvbjogUG9zaXRpb25fXyA9IHsgeDogMCwgeTogMCwgejogMCB9XG4gICAgICAgIGNvbnN0IGRlZmF1bHRSb3RhdGlvbjogUm90YXRpb25fXyA9IHsgUng6IDAsIFJ5OiAwLCBSejogMCB9XG4gICAgICAgIGNvbnN0IGFydEJvYXJkRGV0YWlscyA9IGF3YWl0IHRoaXMuZGF0YWJhc2VfaGFuZGxlci5nZXRTY3JlZW4oXG4gICAgICAgICAgICBhcnRCb2FyZE5hbWUsXG4gICAgICAgICAgICBkZWZhdWx0UG9zaXRpb24sXG4gICAgICAgICAgICBkZWZhdWx0Um90YXRpb25cbiAgICAgICAgKVxuICAgICAgICBjb25zdCBhcnRCb2FyZCA9IGFydEJvYXJkRGV0YWlscy5kY2xPYmplY3RcbiAgICAgICAgY29uc3QgYXJ0Qm9hcmRQb3NpdGlvbiA9IGFydEJvYXJkRGV0YWlscy5wb3NpdGlvblxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvblBvc2l0aW9uID0geyB4OiAwLCB5OiBhcnRCb2FyZFBvc2l0aW9uLnksIHo6IDAgfVxuICAgICAgICBjb25zdCBhcnRCb2FyZERlc2NyaXB0aW9uRGV0YWlscyA9IGF3YWl0IHRoaXMuZGF0YWJhc2VfaGFuZGxlci5nZXRTY3JlZW4oXG4gICAgICAgICAgICBhcnRCb2FyZERlc2NyaXB0aW9uTmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uUG9zaXRpb24sXG4gICAgICAgICAgICBkZWZhdWx0Um90YXRpb25cbiAgICAgICAgKVxuICAgICAgICBjb25zdCBhcnRCb2FyZERlc2NyaXB0aW9uID0gYXJ0Qm9hcmREZXNjcmlwdGlvbkRldGFpbHMuZGNsT2JqZWN0XG4gICAgICAgIGNvbnN0IGFydEJvYXJkRGVzY3JpcHRpb25TY2FsZSA9IGFydEJvYXJkRGVzY3JpcHRpb25EZXRhaWxzLnNjYWxlXG4gICAgICAgIGNvbnN0IGFydEJvYXJkRGVzY3JpcHRpb25SYXRpbyA9IGFydEJvYXJkRGVzY3JpcHRpb25EZXRhaWxzLnJhdGlvXG4gICAgICAgIGFydEJvYXJkRGVzY3JpcHRpb24uYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oe1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDAsIGFydEJvYXJkUG9zaXRpb24ueSArIGFydEJvYXJkRGVzY3JpcHRpb25TY2FsZSwgMCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoYXJ0Qm9hcmREZXNjcmlwdGlvblNjYWxlICogYXJ0Qm9hcmREZXNjcmlwdGlvblJhdGlvLCBhcnRCb2FyZERlc2NyaXB0aW9uU2NhbGUsIDMpLFxuICAgICAgICB9KSlcbiAgICAgICAgYXJ0Qm9hcmQuc2V0UGFyZW50KGdhbGxlcnlQYWlyRW50aXR5KVxuICAgICAgICBhcnRCb2FyZERlc2NyaXB0aW9uLnNldFBhcmVudChnYWxsZXJ5UGFpckVudGl0eSlcbiAgICAgICAgZ2FsbGVyeVBhaXJFbnRpdHkuc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIGVuZ2luZS5hZGRFbnRpdHkoZ2FsbGVyeVBhaXJFbnRpdHkpXG4gICAgfVxuXG4gICAgc2V0R2FsbGVyeSgpIHtcbiAgICAgICAgY29uc3QgeUNvbnN0YW50ID0gMTNcbiAgICAgICAgLy8gVE9ETyByZXBsYWNlIGFueSB3aXRoIGFuIGFwcHJvcHJpYXRlIHR5cGVcbiAgICAgICAgY29uc3QgYWxsR2FsbGVyeUl0ZW1zOiBBcnJheTxhbnk+ID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDU2LjYzMCwgeTogeUNvbnN0YW50LCB6OiAxNS42NjAgfSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogeyBSeDogMC4wMDAsIFJ5OiAyMjUuMDAwIC0gMTgwLCBSejogMTgwLjAwIH0sXG4gICAgICAgICAgICAgICAgYXJ0Qm9hcmROYW1lOiAnQXJ0JTIwQm9hcmQlMjAxJyxcbiAgICAgICAgICAgICAgICBhcnRCb2FyZERlc2NyaXB0aW9uTmFtZTogJ0FydCUyMEJvYXJkJTIwMSUyMERlc2NyaXB0aW9uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB4OiA1MC4wMzAsIHk6IHlDb25zdGFudCwgejogOS44OTAgfSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogeyBSeDogMC4wMDAsIFJ5OiAyNzAuMDAwIC0gMTgwLCBSejogMTgwLjAwMCB9LFxuICAgICAgICAgICAgICAgIGFydEJvYXJkTmFtZTogJ0FydCUyMEJvYXJkJTIwMicsXG4gICAgICAgICAgICAgICAgYXJ0Qm9hcmREZXNjcmlwdGlvbk5hbWU6ICdBcnQlMjBCb2FyZCUyMDIlMjBEZXNjcmlwdGlvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMzYuNDAsIHk6IHlDb25zdGFudCwgejogMTkuMzAwIH0sXG4gICAgICAgICAgICAgICAgcm90YXRpb246IHsgUng6IDM2MC4wMDAsIFJ5OiAyNzAuMDAwIC0gMTgwLCBSejogMTgwLjAwMCB9LFxuICAgICAgICAgICAgICAgIGFydEJvYXJkTmFtZTogJ0FydCUyMEJvYXJkJTIwMycsXG4gICAgICAgICAgICAgICAgYXJ0Qm9hcmREZXNjcmlwdGlvbk5hbWU6ICdBcnQlMjBCb2FyZCUyMDMlMjBEZXNjcmlwdGlvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvL0FydCBib2FyZCA2XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMzguNDAsIHk6IHlDb25zdGFudCwgejogMjAuMzAwIH0sXG4gICAgICAgICAgICAgICAgcm90YXRpb246IHsgUng6IDM2MC4wMDAsIFJ5OiAwLCBSejogMTgwLjAwMCB9LFxuICAgICAgICAgICAgICAgIGFydEJvYXJkTmFtZTogJ0FydCUyMEJvYXJkJTIwNicsXG4gICAgICAgICAgICAgICAgYXJ0Qm9hcmREZXNjcmlwdGlvbk5hbWU6ICdBcnQlMjBCb2FyZCUyMDYlMjBEZXNjcmlwdGlvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMjAuODAsIHk6IHlDb25zdGFudCwgejogMTguNjIwIH0sXG4gICAgICAgICAgICAgICAgcm90YXRpb246IHsgUng6IDM2MC4wMDAsIFJ5OiAyNzAuMDAwLCBSejogMTgwLjAwMCB9LFxuICAgICAgICAgICAgICAgIGFydEJvYXJkTmFtZTogJ0FydCUyMEJvYXJkJTIwNCcsXG4gICAgICAgICAgICAgICAgYXJ0Qm9hcmREZXNjcmlwdGlvbk5hbWU6ICdBcnQlMjBCb2FyZCUyMDQlMjBEZXNjcmlwdGlvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMjkuNDMwLCB5OiB5Q29uc3RhbnQsIHo6IDkuNjEwIH0sXG4gICAgICAgICAgICAgICAgcm90YXRpb246IHsgUng6IDM2MC4wMDAsIFJ5OiAxODAuMDAwLCBSejogMTgwLjAwMCB9LFxuICAgICAgICAgICAgICAgIGFydEJvYXJkTmFtZTogJ0FydCUyMEJvYXJkJTIwNScsXG4gICAgICAgICAgICAgICAgYXJ0Qm9hcmREZXNjcmlwdGlvbk5hbWU6ICdBcnQlMjBCb2FyZCUyMDUlMjBEZXNjcmlwdGlvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvL0FydGJvYXJkIDdcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAyOS40MzAsIHk6IHlDb25zdGFudCwgejogOS4zMyB9LFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB7IFJ4OiAzNjAuMDAwLCBSeTogMC4wMDAsIFJ6OiAxODAuMDAwIH0sXG4gICAgICAgICAgICAgICAgYXJ0Qm9hcmROYW1lOiAnQXJ0JTIwQm9hcmQlMjA3JyxcbiAgICAgICAgICAgICAgICBhcnRCb2FyZERlc2NyaXB0aW9uTmFtZTogJ0FydCUyMEJvYXJkJTIwNyUyMERlc2NyaXB0aW9uJ1xuICAgICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICAgIGNvbnN0IGFsbEdhbGxlcnlQcm9taXNlcyA9IGFsbEdhbGxlcnlJdGVtcy5tYXAoKGdhbGxlcnlJdGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgeyBwb3NpdGlvbiwgcm90YXRpb24sIGFydEJvYXJkTmFtZSwgYXJ0Qm9hcmREZXNjcmlwdGlvbk5hbWUgfSA9IGdhbGxlcnlJdGVtXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRHYWxsZXJ5SXRlbShwb3NpdGlvbiwgcm90YXRpb24sIGFydEJvYXJkTmFtZSwgYXJ0Qm9hcmREZXNjcmlwdGlvbk5hbWUpXG4gICAgICAgIH0pXG4gICAgICAgIFByb21pc2UuYWxsKGFsbEdhbGxlcnlQcm9taXNlcykudGhlbigoKSA9PiB7IH0pXG4gICAgfVxuXG4gICAgc2V0SW5mb1NwYWNlKCkge1xuICAgICAgICBjb25zdCB5Q29uc3RhbnRNaWRkbGUgPSA2LjRcbiAgICAgICAgY29uc3QgeUNvbnN0YW50ID0gNVxuICAgICAgICBjb25zdCBzY2FsZU92ZXJyaWRlTWlkZGxlID0gNC4yNDBcbiAgICAgICAgY29uc3Qgc2NhbGVPdmVycmlkZVNpZGVzID0gMi40XG4gICAgICAgXG4gICAgICAgIGNvbnN0IGFsbEluZm9TcGFjZUl0ZW1zOiBBcnJheTxhbnk+ID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDI4LjYzMCwgeTogeUNvbnN0YW50LCB6OiAyMy4yODAgfSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogeyBSeDogMzYwLjAwMCwgUnk6IDM2MC4wMDAsIFJ6OiAxODAuMDAwIH0sXG4gICAgICAgICAgICAgICAgaW5mb1NwYWNlTmFtZTogJzknLFxuICAgICAgICAgICAgICAgIHNjYWxlT3ZlcnJpZGU6IHNjYWxlT3ZlcnJpZGVTaWRlcyxcbiAgICAgICAgICAgICAgICBmbGlwR3Jvd3RoQXhpczogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMjguMTgwLCB5OiB5Q29uc3RhbnRNaWRkbGUsIHo6IDE0Ljc3MCB9LFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB7IFJ4OiAwLjAwMCwgUnk6IDAuMDAwLCBSejogMTgwLjAwMCB9LFxuICAgICAgICAgICAgICAgIGluZm9TcGFjZU5hbWU6ICc2JyxcbiAgICAgICAgICAgICAgICBzY2FsZU92ZXJyaWRlOiBzY2FsZU92ZXJyaWRlTWlkZGxlLFxuICAgICAgICAgICAgICAgIGZsaXBHcm93dGhBeGlzOiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMjguMTgwLCB5OiB5Q29uc3RhbnRNaWRkbGUsIHo6IDE1LjAxMCB9LFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB7IFJ4OiAzNjAuMDAwLCBSeTogMTgwLjAwMCwgUno6IDE4MC4wMDAgfSxcbiAgICAgICAgICAgICAgICBpbmZvU3BhY2VOYW1lOiAnNicsXG4gICAgICAgICAgICAgICAgc2NhbGVPdmVycmlkZTogc2NhbGVPdmVycmlkZU1pZGRsZSxcbiAgICAgICAgICAgICAgICBmbGlwR3Jvd3RoQXhpczogZmFsc2UsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgLy8gICAgIHBvc2l0aW9uOiB7IHg6IDMzLjIzMCwgeTogeUNvbnN0YW50LCB6OiAyMy4yODAgfSxcbiAgICAgICAgICAgIC8vICAgICByb3RhdGlvbjogeyBSeDogMzYwLjAwMCwgUnk6IDM2MC4wMDAsIFJ6OiAxODAuMDAwIH0sXG4gICAgICAgICAgICAvLyAgICAgaW5mb1NwYWNlTmFtZTogJzgnLFxuICAgICAgICAgICAgLy8gICAgIHNjYWxlT3ZlcnJpZGU6IHNjYWxlT3ZlcnJpZGVTaWRlcyxcbiAgICAgICAgICAgIC8vICAgICBmbGlwR3Jvd3RoQXhpczogdHJ1ZSxcbiAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogNDYuMjQwLCB5OiB5Q29uc3RhbnQsIHo6IDUuNjkwIH0sXG4gICAgICAgICAgICAgICAgcm90YXRpb246IHsgUng6IDM2MC4wMDAsIFJ5OiAxODAuMDAwLCBSejogMTgwLjAwMCB9LFxuICAgICAgICAgICAgICAgIGluZm9TcGFjZU5hbWU6ICczJyxcbiAgICAgICAgICAgICAgICBzY2FsZU92ZXJyaWRlOiBzY2FsZU92ZXJyaWRlU2lkZXMsXG4gICAgICAgICAgICAgICAgZmxpcEdyb3d0aEF4aXM6IHRydWUsXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogNDEuMTQwLCB5OiB5Q29uc3RhbnQsIHo6IDUuNjkwIH0sXG4gICAgICAgICAgICAgICAgcm90YXRpb246IHsgUng6IDM2MC4wMDAsIFJ5OiAxODAuMDAwLCBSejogMTgwLjAwMCB9LFxuICAgICAgICAgICAgICAgIGluZm9TcGFjZU5hbWU6ICc0JyxcbiAgICAgICAgICAgICAgICBzY2FsZU92ZXJyaWRlOiBzY2FsZU92ZXJyaWRlU2lkZXMsXG4gICAgICAgICAgICAgICAgZmxpcEdyb3d0aEF4aXM6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgLy8gICAgIHBvc2l0aW9uOiB7IHg6IDI0LjAzMCwgeTogeUNvbnN0YW50LCB6OiAyMy4yODAgfSxcbiAgICAgICAgICAgIC8vICAgICByb3RhdGlvbjogeyBSeDogMzYwLjAwMCwgUnk6IDM2MC4wMDAsIFJ6OiAxODAuMDAwIH0sXG4gICAgICAgICAgICAvLyAgICAgaW5mb1NwYWNlTmFtZTogJzEwJyxcbiAgICAgICAgICAgIC8vICAgICBzY2FsZU92ZXJyaWRlOiBzY2FsZU92ZXJyaWRlU2lkZXMsXG4gICAgICAgICAgICAvLyAgICAgZmxpcEdyb3d0aEF4aXM6IHRydWUsXG4gICAgICAgICAgICAvLyB9LFxuXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMzcuODMwLCB5OiB5Q29uc3RhbnQsIHo6IDIzLjI4MCB9LFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB7IFJ4OiAzNjAuMDAwLCBSeTogMzYwLjAwMCwgUno6IDE4MC4wMDAgfSxcbiAgICAgICAgICAgICAgICBpbmZvU3BhY2VOYW1lOiAnNycsXG4gICAgICAgICAgICAgICAgc2NhbGVPdmVycmlkZTogc2NhbGVPdmVycmlkZVNpZGVzLFxuICAgICAgICAgICAgICAgIGZsaXBHcm93dGhBeGlzOiB0cnVlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAzNi4wMCwgeTogeUNvbnN0YW50LCB6OiA1LjcxMCB9LFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB7IFJ4OiAzNjAuMDAwLCBSeTogMTgwLjAwMCwgUno6IDE4MC4wMDAgfSxcbiAgICAgICAgICAgICAgICBpbmZvU3BhY2VOYW1lOiAnNScsXG4gICAgICAgICAgICAgICAgc2NhbGVPdmVycmlkZTogc2NhbGVPdmVycmlkZVNpZGVzLFxuICAgICAgICAgICAgICAgIGZsaXBHcm93dGhBeGlzOiB0cnVlLFxuICAgICAgICAgICAgfSxcblxuICAgICAgICBdXG4gICAgICAgIGNvbnN0IGFsbEluZm9TcGFjZVByb21pc2VzID0gYWxsSW5mb1NwYWNlSXRlbXMubWFwKGFzeW5jIChpbmZvU3BhY2VJdGVtKSA9PiB7XG4gICAgICAgICAgICBsZXQgeyBwb3NpdGlvbiwgcm90YXRpb24sIGluZm9TcGFjZU5hbWUsIHNjYWxlT3ZlcnJpZGUsIGZsaXBHcm93dGhBeGlzIH0gPSBpbmZvU3BhY2VJdGVtXG4gICAgICAgICAgICBjb25zdCBzY3JlZW5EZXRhaWxzID0gYXdhaXQgdGhpcy5kYXRhYmFzZV9oYW5kbGVyLmdldFNjcmVlbihpbmZvU3BhY2VOYW1lLCBwb3NpdGlvbiwgcm90YXRpb24sIHNjYWxlT3ZlcnJpZGUsIGZsaXBHcm93dGhBeGlzKVxuICAgICAgICAgICAgY29uc3Qgc2NyZWVuID0gc2NyZWVuRGV0YWlscy5kY2xPYmplY3RcbiAgICAgICAgICAgIHNjcmVlbi5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgfSlcbiAgICAgICAgUHJvbWlzZS5hbGwoYWxsSW5mb1NwYWNlUHJvbWlzZXMpLnRoZW4oKCkgPT4geyB9KVxuICAgIH1cbiAgICBhc3luYyBzZXRSb29mdG9wU2NyZWVucygpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB7IHg6IDU2LjIxMCwgeTogMzcuNDUwLCB6OiAxNC42NTAgfVxuICAgICAgICBjb25zdCByb3RhdGlvbiA9IHsgUng6IDM2MC4wMDAsIFJ5OiAyNjguMDAwLCBSejogMzU5LjQgfVxuICAgICAgICBjb25zdCBzY3JlZW4xOERldGFpbCA9IGF3YWl0IHRoaXMuZGF0YWJhc2VfaGFuZGxlci5nZXRTY3JlZW4oJzE4JywgcG9zaXRpb24sIHJvdGF0aW9uLCBmYWxzZSwgZmFsc2UpXG4gICAgICAgIGNvbnN0IHNjcmVlbjE4ID0gc2NyZWVuMThEZXRhaWwuZGNsT2JqZWN0XG4gICAgICAgIHNjcmVlbjE4LmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgVHJhbnNmb3JtKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMyg1Ni4yMTAsIDM3LjQ1MCwgMTQuNjUwKSxcbiAgICAgICAgICAgIHNjYWxlOiBuZXcgVmVjdG9yMyg5LjQyMCwgNS44NTAsIDMuMDAwKSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgUXVhdGVybmlvbigpLnNldEV1bGVyKDM2MC4wMDAsIDI2OC4wMDAsIDM1OS40MDApLFxuICAgICAgICB9KSlcbiAgICAgICAgc2NyZWVuMTguc2V0UGFyZW50KHRoaXMpXG5cbiAgICAgICAgY29uc3Qgc2NyZWVuMTdEZXRhaWwgPSBhd2FpdCB0aGlzLmRhdGFiYXNlX2hhbmRsZXIuZ2V0U2NyZWVuKCcxNycsIHBvc2l0aW9uLCByb3RhdGlvbiwgZmFsc2UsIGZhbHNlKVxuICAgICAgICBjb25zdCBzY3JlZW4xNyA9IHNjcmVlbjE3RGV0YWlsLmRjbE9iamVjdFxuICAgICAgICBzY3JlZW4xNy5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoNS4xMjAsIDIxLjQ1MCwgMjMuNzUwKSxcbiAgICAgICAgICAgIHNjYWxlOiBuZXcgVmVjdG9yMyg4LjQyMCwgNC44NTAsIDMuMDAwKSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgUXVhdGVybmlvbigpLnNldEV1bGVyKDE4My4wMDAsIDkwLjkwMCwgMzU5LjQwMCksXG4gICAgICAgIH0pKVxuICAgICAgICBzY3JlZW4xNy5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgY29uc3Qgc2NyZWVuMTZEZXRhaWwgPSBhd2FpdCB0aGlzLmRhdGFiYXNlX2hhbmRsZXIuZ2V0U2NyZWVuKCcxNicsIHBvc2l0aW9uLCByb3RhdGlvbiwgZmFsc2UsIGZhbHNlKVxuICAgICAgICBjb25zdCBzY3JlZW4xNiA9IHNjcmVlbjE2RGV0YWlsLmRjbE9iamVjdFxuICAgICAgICBzY3JlZW4xNi5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMzIuOTQwLCAyNC45NDAsIDE0LjMwMCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoNy45MjAsIDQuMDEwLCAzLjAwMCksXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcigzNjAuMDAwLCA5MC4wMDAsIDM2MC4wMDApLFxuICAgICAgICB9KSlcbiAgICAgICAgc2NyZWVuMTYuc2V0UGFyZW50KHRoaXMpXG4gICAgfVxuICAgIGFzeW5jIHNldE1lZXRpbmdSb29tU2NyZWVucygpIHtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB7IHg6IDU2LjIxMCwgeTogMzcuNDUwLCB6OiAxNC42NTAgfVxuICAgICAgICBjb25zdCByb3RhdGlvbiA9IHsgUng6IDM2MC4wMDAsIFJ5OiAyNjguMDAwLCBSejogMzU5LjQgfVxuICAgICAgICBjb25zdCBzY3JlZW4xM0RldGFpbCA9IGF3YWl0IHRoaXMuZGF0YWJhc2VfaGFuZGxlci5nZXRTY3JlZW4oJzEzJywgcG9zaXRpb24sIHJvdGF0aW9uLCBmYWxzZSwgdHJ1ZSlcbiAgICAgICAgY29uc3Qgc2NyZWVuMTMgPSBzY3JlZW4xM0RldGFpbC5kY2xPYmplY3RcbiAgICAgICAgc2NyZWVuMTMuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oe1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDQ1LjA4MCwgMjQuNzAwLCA1LjcxMCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMi40MDAsIDQuNDAwLCAxLjAwMCksXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcigxODAuMDAwLCAwLjAwMCwgMC4wMDApLFxuICAgICAgICB9KSlcbiAgICAgICAgc2NyZWVuMTMuc2V0UGFyZW50KHRoaXMpXG5cbiAgICAgICAgY29uc3Qgc2NyZWVuMTREZXRhaWwgPSBhd2FpdCB0aGlzLmRhdGFiYXNlX2hhbmRsZXIuZ2V0U2NyZWVuKCcxNCcsIHBvc2l0aW9uLCByb3RhdGlvbiwgZmFsc2UsIGZhbHNlKVxuICAgICAgICBjb25zdCBzY3JlZW4xNCA9IHNjcmVlbjE0RGV0YWlsLmRjbE9iamVjdFxuICAgICAgICBzY3JlZW4xNC5hZGRDb21wb25lbnRPclJlcGxhY2UobmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMzkuOTgwLCAyNC43MDAsIDUuNzEwKSxcbiAgICAgICAgICAgIHNjYWxlOiBuZXcgVmVjdG9yMygyLjQwMCwgNC40MDAsIDEuMDAwKSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgUXVhdGVybmlvbigpLnNldEV1bGVyKDAuMDAwLCAwLjAwMCwgMC4wMDApLFxuICAgICAgICB9KSlcbiAgICAgICAgc2NyZWVuMTQuc2V0UGFyZW50KHRoaXMpXG4gICAgICAgIGNvbnN0IHNjcmVlbjE1RGV0YWlsID0gYXdhaXQgdGhpcy5kYXRhYmFzZV9oYW5kbGVyLmdldFNjcmVlbignMTUnLCBwb3NpdGlvbiwgcm90YXRpb24sIGZhbHNlLCBmYWxzZSlcbiAgICAgICAgY29uc3Qgc2NyZWVuMTUgPSBzY3JlZW4xNURldGFpbC5kY2xPYmplY3RcbiAgICAgICAgc2NyZWVuMTUuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oe1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDM0Ljg3MCwgMjQuNzAwLCA1LjcxMCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMi40MDAsIDQuNDAwLCAxLjAwMCksXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcigwLjAwMCwgMC4wMDAsIDAuMDAwKSxcbiAgICAgICAgfSkpXG4gICAgICAgIHNjcmVlbjE1LnNldFBhcmVudCh0aGlzKVxuICAgIH1cbiAgICBhc3luYyBzZXRFeHRyYVNjcmVlbnMoKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0geyB4OiA1Ni4yMTAsIHk6IDM3LjQ1MCwgejogMTQuNjUwIH1cbiAgICAgICAgY29uc3Qgcm90YXRpb24gPSB7IFJ4OiAzNjAuMDAwLCBSeTogMjY4LjAwMCwgUno6IDM1OS40IH1cbiAgICAgICAgY29uc3Qgc2NyZWVuMURldGFpbCA9IGF3YWl0IHRoaXMuZGF0YWJhc2VfaGFuZGxlci5nZXRTY3JlZW4oJzEnLCBwb3NpdGlvbiwgcm90YXRpb24sIGZhbHNlLCBmYWxzZSlcbiAgICAgICAgY29uc3Qgc2NyZWVuMSA9IHNjcmVlbjFEZXRhaWwuZGNsT2JqZWN0XG4gICAgICAgIHNjcmVlbjEuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBUcmFuc2Zvcm0oe1xuICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDc3Ljg2MCwgNC40NDAsIDE0LjUzMCksXG4gICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoOC40MDAsIDUuMjUwLCA1LjAwMCksXG4gICAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcigxODAuMDAwLCAyNzAuMDAwLCAwLjAwMCksXG4gICAgICAgIH0pKVxuICAgICAgICBzY3JlZW4xLnNldFBhcmVudCh0aGlzKVxuXG4gICAgICAgIGNvbnN0IHNjcmVlbjExRGV0YWlsID0gYXdhaXQgdGhpcy5kYXRhYmFzZV9oYW5kbGVyLmdldFNjcmVlbignMTEnLCBwb3NpdGlvbiwgcm90YXRpb24sIGZhbHNlLCBmYWxzZSlcbiAgICAgICAgY29uc3Qgc2NyZWVuMTEgPSBzY3JlZW4xMURldGFpbC5kY2xPYmplY3RcbiAgICAgICAgc2NyZWVuMTEuYWRkQ29tcG9uZW50T3JSZXBsYWNlKFxuICAgICAgICAgICAgbmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDExLjE0MCwgNS43MDAsIDMwLjQwMCksXG4gICAgICAgICAgICAgICAgc2NhbGU6IG5ldyBWZWN0b3IzKDEyLjA2MCwgNi4yNTAsIDIuMDAwKSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcigwLjAwMCwgMjY4LjAwMCAtIDE4MCwgMC42MDApLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICBzY3JlZW4xMS5zZXRQYXJlbnQodGhpcyk7XG5cbiAgICAgICAgY29uc3QgZW50cmFuY2VEZXRhaWwgPSBhd2FpdCB0aGlzLmRhdGFiYXNlX2hhbmRsZXIuZ2V0U2NyZWVuKCcyJywgcG9zaXRpb24sIHJvdGF0aW9uLCBmYWxzZSwgZmFsc2UpXG4gICAgICAgIGNvbnN0IHNjcmVlbiA9IGVudHJhbmNlRGV0YWlsLmRjbE9iamVjdFxuICAgICAgICBzY3JlZW4uYWRkQ29tcG9uZW50T3JSZXBsYWNlKFxuICAgICAgICAgICAgbmV3IFRyYW5zZm9ybSh7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBWZWN0b3IzKDY3LjMsIDUuNDEwLCA5LjA4MCksXG4gICAgICAgICAgICAgICAgc2NhbGU6IG5ldyBWZWN0b3IzKDUuMTcwLCA2LjQ1MCwgMi4wMDApLFxuICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBuZXcgUXVhdGVybmlvbigpLnNldEV1bGVyKDM2MC4wMDAsIDE4MC4wMDAsIDE4MC42MDApLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICBzY3JlZW4uc2V0UGFyZW50KHRoaXMpXG5cbiAgICAgICAgY29uc3QgYXJ0RGV0YWlsID0gYXdhaXQgdGhpcy5kYXRhYmFzZV9oYW5kbGVyLmdldFNjcmVlbignMTInLCBwb3NpdGlvbiwgcm90YXRpb24sIGZhbHNlLCB0cnVlKVxuICAgICAgICBjb25zdCBhcnRTY3JlZW4gPSBhcnREZXRhaWwuZGNsT2JqZWN0XG4gICAgICAgIGFydFNjcmVlbi5hZGRDb21wb25lbnRPclJlcGxhY2UoXG4gICAgICAgICAgICBuZXcgVHJhbnNmb3JtKHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoNDMuMTIwLCAxNC4xMDAsIDUuNjgwKSxcbiAgICAgICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMi4zOTAsIDQuMzUwLCAyLjAwMCksXG4gICAgICAgICAgICAgICAgcm90YXRpb246IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RXVsZXIoMzYwLjAwMCwgMTgwLjAwMCwgMTc5LjYwMCksXG4gICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICBhcnRTY3JlZW4uc2V0UGFyZW50KHRoaXMpXG4gICAgICAgXG4gICAgICAgIC8vIHByb3Zpc29yeSBzY3JlZW4gOCBhbmQgMTAgaW4gdGhlIGdyb3VuZCBmbG9vclxuXG4gICAgICAgIGNvbnN0IGVpZ2h0RGV0YWlsID0gYXdhaXQgdGhpcy5kYXRhYmFzZV9oYW5kbGVyLmdldFNjcmVlbignOCcsIHBvc2l0aW9uLCByb3RhdGlvbiwgZmFsc2UsIGZhbHNlKVxuICAgICAgICBjb25zdCBlaWdodFNjcmVlbiA9IGVpZ2h0RGV0YWlsLmRjbE9iamVjdFxuICAgICAgICBlaWdodFNjcmVlbi5hZGRDb21wb25lbnRPclJlcGxhY2UoXG4gICAgICAgICAgICBuZXcgVHJhbnNmb3JtKHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMzMuMjMwLCAzLjgwMCwgMjMuMjgwKSxcbiAgICAgICAgICAgICAgICBzY2FsZTogbmV3IFZlY3RvcjMoMi40NzAsIDQuNDUwLCAyLjAwMCksXG4gICAgICAgICAgICAgICAgcm90YXRpb246IG5ldyBRdWF0ZXJuaW9uKCkuc2V0RXVsZXIoMzYwLjAwMCwgMTgwLjAwMCwgMC42MDApLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgICBlaWdodFNjcmVlbi5zZXRQYXJlbnQodGhpcylcbiAgICAgICAgY29uc3QgbmluZURldGFpbCA9IGF3YWl0IHRoaXMuZGF0YWJhc2VfaGFuZGxlci5nZXRTY3JlZW4oJzEwJywgcG9zaXRpb24sIHJvdGF0aW9uLCBmYWxzZSwgZmFsc2UpXG4gICAgICAgIGNvbnN0IG5pbmVTY3JlZW4gPSBuaW5lRGV0YWlsLmRjbE9iamVjdFxuICAgICAgICBuaW5lU2NyZWVuLmFkZENvbXBvbmVudE9yUmVwbGFjZShcbiAgICAgICAgICAgIG5ldyBUcmFuc2Zvcm0oe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygyNC4wMzAsIDMuODAwLCAyMy4yODApLFxuICAgICAgICAgICAgICAgIHNjYWxlOiBuZXcgVmVjdG9yMygyLjQ3MCwgNC40NTAsIDIuMDAwKSxcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogbmV3IFF1YXRlcm5pb24oKS5zZXRFdWxlcigzNjAuMDAwLCAxODAuMDAwLCAwLjYwMCksXG4gICAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIG5pbmVTY3JlZW4uc2V0UGFyZW50KHRoaXMpXG4gICAgICBcblxuICAgIH1cbn0iLCJpbXBvcnQgeyBzZXRUaW1lb3V0IH0gZnJvbSBcIkBkY2wvZWNzLXNjZW5lLXV0aWxzXCJcbmltcG9ydCB7IFRyYW5zaXRvckluc3RhbmNlIH0gZnJvbSBcInNyYy9pbnN0YW5jZXMvdHJhbnNpdG9yLmluc3RhbmNlXCJcbmltcG9ydCB7IEV4dGVyaW9ySW5zdGFuY2UgfSBmcm9tIFwiLi4vaW5zdGFuY2VzL2V4dGVyaW9yLmluc3RhbmNlXCJcblxuXG5leHBvcnQgY2xhc3MgSW5zdGFuY2VDb250cm9sbGVyIHtcbiAgICBwdWJsaWMgZXh0ZXJpb3IgPSBuZXcgRXh0ZXJpb3JJbnN0YW5jZSh0aGlzKVxuICAgIHB1YmxpYyB0cmFuc2l0b3IgPSBuZXcgVHJhbnNpdG9ySW5zdGFuY2UodGhpcylcbiAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICB0aGlzLnRyYW5zaXRvclByZWxvYWQoKVxuICAgICAgZW5naW5lLmFkZEVudGl0eSh0aGlzLmV4dGVyaW9yKVxuICAgIH1cbiAgICB0cmFuc2l0b3JQcmVsb2FkKCkge1xuICAgICAgZW5naW5lLmFkZEVudGl0eSh0aGlzLnRyYW5zaXRvcilcbiAgICAgIHRoaXMudHJhbnNpdG9yLmFkZENvbXBvbmVudChcbiAgICAgICAgbmV3IFRyYW5zZm9ybSh7IHNjYWxlOiBuZXcgVmVjdG9yMygwLjAwMDEsIDAuMDAwMSwgMC4wMDAxKSB9KVxuICAgICAgKVxuICAgICAgc2V0VGltZW91dCgxMDAwLCAoKSA9PiB7XG4gICAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkodGhpcy50cmFuc2l0b3IpXG4gICAgICAgIHRoaXMudHJhbnNpdG9yLnJlbW92ZUNvbXBvbmVudChUcmFuc2Zvcm0pXG4gICAgICAgIHRoaXMudHJhbnNpdG9yLmFkZENvbXBvbmVudChcbiAgICAgICAgICBuZXcgVHJhbnNmb3JtKHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBuZXcgVmVjdG9yMygwLCAwLCAwKSxcbiAgICAgICAgICAgIHNjYWxlOiBuZXcgVmVjdG9yMygxLCAxLCAxKVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfVxuICAgIGxvYWRUcmFuc2l0b3IoKSB7XG4gICAgICBpZiAodGhpcy5leHRlcmlvci5pc0FkZGVkVG9FbmdpbmUoKSkge1xuICAgICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KHRoaXMuZXh0ZXJpb3IpXG4gICAgICAgIGVuZ2luZS5hZGRFbnRpdHkodGhpcy50cmFuc2l0b3IpXG4gICAgICB9XG4gICAgfVxuICAgIGxvYWRFeHRlcmlvcigpIHtcbiAgICAgIGlmICh0aGlzLnRyYW5zaXRvci5pc0FkZGVkVG9FbmdpbmUoKSkge1xuICAgICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KHRoaXMudHJhbnNpdG9yKVxuICAgICAgICBlbmdpbmUuYWRkRW50aXR5KHRoaXMuZXh0ZXJpb3IpXG4gICAgICB9XG4gICAgfVxuICB9IiwiaW1wb3J0IHsgSW5zdGFuY2VDb250cm9sbGVyIH0gZnJvbSBcIi4vaW5zdGFuY2UuY29udHJvbGxlclwiXG5cbmV4cG9ydCBjbGFzcyBHYW1lQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBpbnN0YW5jZUNvbnRyb2xsZXI6IEluc3RhbmNlQ29udHJvbGxlclxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluc3RhbmNlQ29udHJvbGxlciA9IG5ldyBJbnN0YW5jZUNvbnRyb2xsZXIoKVxuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lQ29udHJvbGxlciB9IGZyb20gXCIuL2NsYXNzZXMvZ2FtZS5Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBOUEMgfSBmcm9tIFwiLi9jbGFzc2VzL25wYy5jbGFzc1wiO1xuaW1wb3J0IHsgVUkgfSBmcm9tIFwiLi9jbGFzc2VzL3VpLmNsYXNzXCI7XG5cbmNvbnN0IGdhbWVDb250cm9sbGVyID0gbmV3IEdhbWVDb250cm9sbGVyKClcblxuXG4iXX0=",
    "sha256": "28e0380dd723413dcb21eec92f724c89a70433542b56634e873667c13dd5eacf"
  }
]